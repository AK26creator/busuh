(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))u(f);new MutationObserver(f=>{for(const p of f)if(p.type==="childList")for(const g of p.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&u(g)}).observe(document,{childList:!0,subtree:!0});function o(f){const p={};return f.integrity&&(p.integrity=f.integrity),f.referrerPolicy&&(p.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?p.credentials="include":f.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function u(f){if(f.ep)return;f.ep=!0;const p=o(f);fetch(f.href,p)}})();function dd(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var qh={exports:{}},zo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pp;function I_(){if(pp)return zo;pp=1;var l=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function o(u,f,p){var g=null;if(p!==void 0&&(g=""+p),f.key!==void 0&&(g=""+f.key),"key"in f){p={};for(var b in f)b!=="key"&&(p[b]=f[b])}else p=f;return f=p.ref,{$$typeof:l,type:u,key:g,ref:f!==void 0?f:null,props:p}}return zo.Fragment=a,zo.jsx=o,zo.jsxs=o,zo}var gp;function G_(){return gp||(gp=1,qh.exports=I_()),qh.exports}var y=G_(),Zh={exports:{}},Tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p;function V_(){if(_p)return Tt;_p=1;var l=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),p=Symbol.for("react.consumer"),g=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),j=Symbol.iterator;function R(N){return N===null||typeof N!="object"?null:(N=j&&N[j]||N["@@iterator"],typeof N=="function"?N:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,G={};function Q(N,V,tt){this.props=N,this.context=V,this.refs=G,this.updater=tt||q}Q.prototype.isReactComponent={},Q.prototype.setState=function(N,V){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,V,"setState")},Q.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function et(){}et.prototype=Q.prototype;function J(N,V,tt){this.props=N,this.context=V,this.refs=G,this.updater=tt||q}var ht=J.prototype=new et;ht.constructor=J,H(ht,Q.prototype),ht.isPureReactComponent=!0;var Ct=Array.isArray;function yt(){}var F={H:null,A:null,T:null,S:null},st=Object.prototype.hasOwnProperty;function mt(N,V,tt){var nt=tt.ref;return{$$typeof:l,type:N,key:V,ref:nt!==void 0?nt:null,props:tt}}function Dt(N,V){return mt(N.type,V,N.props)}function Et(N){return typeof N=="object"&&N!==null&&N.$$typeof===l}function Ut(N){var V={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(tt){return V[tt]})}var _e=/\/+/g;function se(N,V){return typeof N=="object"&&N!==null&&N.key!=null?Ut(""+N.key):V.toString(36)}function Ce(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(yt,yt):(N.status="pending",N.then(function(V){N.status==="pending"&&(N.status="fulfilled",N.value=V)},function(V){N.status==="pending"&&(N.status="rejected",N.reason=V)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function I(N,V,tt,nt,lt){var ot=typeof N;(ot==="undefined"||ot==="boolean")&&(N=null);var Nt=!1;if(N===null)Nt=!0;else switch(ot){case"bigint":case"string":case"number":Nt=!0;break;case"object":switch(N.$$typeof){case l:case a:Nt=!0;break;case A:return Nt=N._init,I(Nt(N._payload),V,tt,nt,lt)}}if(Nt)return lt=lt(N),Nt=nt===""?"."+se(N,0):nt,Ct(lt)?(tt="",Nt!=null&&(tt=Nt.replace(_e,"$&/")+"/"),I(lt,V,tt,"",function(ui){return ui})):lt!=null&&(Et(lt)&&(lt=Dt(lt,tt+(lt.key==null||N&&N.key===lt.key?"":(""+lt.key).replace(_e,"$&/")+"/")+Nt)),V.push(lt)),1;Nt=0;var re=nt===""?".":nt+":";if(Ct(N))for(var oe=0;oe<N.length;oe++)nt=N[oe],ot=re+se(nt,oe),Nt+=I(nt,V,tt,ot,lt);else if(oe=R(N),typeof oe=="function")for(N=oe.call(N),oe=0;!(nt=N.next()).done;)nt=nt.value,ot=re+se(nt,oe++),Nt+=I(nt,V,tt,ot,lt);else if(ot==="object"){if(typeof N.then=="function")return I(Ce(N),V,tt,nt,lt);throw V=String(N),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return Nt}function at(N,V,tt){if(N==null)return N;var nt=[],lt=0;return I(N,nt,"","",function(ot){return V.call(tt,ot,lt++)}),nt}function W(N){if(N._status===-1){var V=N._result;V=V(),V.then(function(tt){(N._status===0||N._status===-1)&&(N._status=1,N._result=tt)},function(tt){(N._status===0||N._status===-1)&&(N._status=2,N._result=tt)}),N._status===-1&&(N._status=0,N._result=V)}if(N._status===1)return N._result.default;throw N._result}var Vt=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},rt={map:at,forEach:function(N,V,tt){at(N,function(){V.apply(this,arguments)},tt)},count:function(N){var V=0;return at(N,function(){V++}),V},toArray:function(N){return at(N,function(V){return V})||[]},only:function(N){if(!Et(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return Tt.Activity=E,Tt.Children=rt,Tt.Component=Q,Tt.Fragment=o,Tt.Profiler=f,Tt.PureComponent=J,Tt.StrictMode=u,Tt.Suspense=x,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return F.H.useMemoCache(N)}},Tt.cache=function(N){return function(){return N.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(N,V,tt){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var nt=H({},N.props),lt=N.key;if(V!=null)for(ot in V.key!==void 0&&(lt=""+V.key),V)!st.call(V,ot)||ot==="key"||ot==="__self"||ot==="__source"||ot==="ref"&&V.ref===void 0||(nt[ot]=V[ot]);var ot=arguments.length-2;if(ot===1)nt.children=tt;else if(1<ot){for(var Nt=Array(ot),re=0;re<ot;re++)Nt[re]=arguments[re+2];nt.children=Nt}return mt(N.type,lt,nt)},Tt.createContext=function(N){return N={$$typeof:g,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:p,_context:N},N},Tt.createElement=function(N,V,tt){var nt,lt={},ot=null;if(V!=null)for(nt in V.key!==void 0&&(ot=""+V.key),V)st.call(V,nt)&&nt!=="key"&&nt!=="__self"&&nt!=="__source"&&(lt[nt]=V[nt]);var Nt=arguments.length-2;if(Nt===1)lt.children=tt;else if(1<Nt){for(var re=Array(Nt),oe=0;oe<Nt;oe++)re[oe]=arguments[oe+2];lt.children=re}if(N&&N.defaultProps)for(nt in Nt=N.defaultProps,Nt)lt[nt]===void 0&&(lt[nt]=Nt[nt]);return mt(N,ot,lt)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(N){return{$$typeof:b,render:N}},Tt.isValidElement=Et,Tt.lazy=function(N){return{$$typeof:A,_payload:{_status:-1,_result:N},_init:W}},Tt.memo=function(N,V){return{$$typeof:w,type:N,compare:V===void 0?null:V}},Tt.startTransition=function(N){var V=F.T,tt={};F.T=tt;try{var nt=N(),lt=F.S;lt!==null&&lt(tt,nt),typeof nt=="object"&&nt!==null&&typeof nt.then=="function"&&nt.then(yt,Vt)}catch(ot){Vt(ot)}finally{V!==null&&tt.types!==null&&(V.types=tt.types),F.T=V}},Tt.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Tt.use=function(N){return F.H.use(N)},Tt.useActionState=function(N,V,tt){return F.H.useActionState(N,V,tt)},Tt.useCallback=function(N,V){return F.H.useCallback(N,V)},Tt.useContext=function(N){return F.H.useContext(N)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(N,V){return F.H.useDeferredValue(N,V)},Tt.useEffect=function(N,V){return F.H.useEffect(N,V)},Tt.useEffectEvent=function(N){return F.H.useEffectEvent(N)},Tt.useId=function(){return F.H.useId()},Tt.useImperativeHandle=function(N,V,tt){return F.H.useImperativeHandle(N,V,tt)},Tt.useInsertionEffect=function(N,V){return F.H.useInsertionEffect(N,V)},Tt.useLayoutEffect=function(N,V){return F.H.useLayoutEffect(N,V)},Tt.useMemo=function(N,V){return F.H.useMemo(N,V)},Tt.useOptimistic=function(N,V){return F.H.useOptimistic(N,V)},Tt.useReducer=function(N,V,tt){return F.H.useReducer(N,V,tt)},Tt.useRef=function(N){return F.H.useRef(N)},Tt.useState=function(N){return F.H.useState(N)},Tt.useSyncExternalStore=function(N,V,tt){return F.H.useSyncExternalStore(N,V,tt)},Tt.useTransition=function(){return F.H.useTransition()},Tt.version="19.2.3",Tt}var vp;function fd(){return vp||(vp=1,Zh.exports=V_()),Zh.exports}var ut=fd();const Nu=dd(ut);var Ih={exports:{}},Mo={},Gh={exports:{}},Vh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yp;function K_(){return yp||(yp=1,(function(l){function a(I,at){var W=I.length;I.push(at);t:for(;0<W;){var Vt=W-1>>>1,rt=I[Vt];if(0<f(rt,at))I[Vt]=at,I[W]=rt,W=Vt;else break t}}function o(I){return I.length===0?null:I[0]}function u(I){if(I.length===0)return null;var at=I[0],W=I.pop();if(W!==at){I[0]=W;t:for(var Vt=0,rt=I.length,N=rt>>>1;Vt<N;){var V=2*(Vt+1)-1,tt=I[V],nt=V+1,lt=I[nt];if(0>f(tt,W))nt<rt&&0>f(lt,tt)?(I[Vt]=lt,I[nt]=W,Vt=nt):(I[Vt]=tt,I[V]=W,Vt=V);else if(nt<rt&&0>f(lt,W))I[Vt]=lt,I[nt]=W,Vt=nt;else break t}}return at}function f(I,at){var W=I.sortIndex-at.sortIndex;return W!==0?W:I.id-at.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var p=performance;l.unstable_now=function(){return p.now()}}else{var g=Date,b=g.now();l.unstable_now=function(){return g.now()-b}}var x=[],w=[],A=1,E=null,j=3,R=!1,q=!1,H=!1,G=!1,Q=typeof setTimeout=="function"?setTimeout:null,et=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function ht(I){for(var at=o(w);at!==null;){if(at.callback===null)u(w);else if(at.startTime<=I)u(w),at.sortIndex=at.expirationTime,a(x,at);else break;at=o(w)}}function Ct(I){if(H=!1,ht(I),!q)if(o(x)!==null)q=!0,yt||(yt=!0,Ut());else{var at=o(w);at!==null&&Ce(Ct,at.startTime-I)}}var yt=!1,F=-1,st=5,mt=-1;function Dt(){return G?!0:!(l.unstable_now()-mt<st)}function Et(){if(G=!1,yt){var I=l.unstable_now();mt=I;var at=!0;try{t:{q=!1,H&&(H=!1,et(F),F=-1),R=!0;var W=j;try{e:{for(ht(I),E=o(x);E!==null&&!(E.expirationTime>I&&Dt());){var Vt=E.callback;if(typeof Vt=="function"){E.callback=null,j=E.priorityLevel;var rt=Vt(E.expirationTime<=I);if(I=l.unstable_now(),typeof rt=="function"){E.callback=rt,ht(I),at=!0;break e}E===o(x)&&u(x),ht(I)}else u(x);E=o(x)}if(E!==null)at=!0;else{var N=o(w);N!==null&&Ce(Ct,N.startTime-I),at=!1}}break t}finally{E=null,j=W,R=!1}at=void 0}}finally{at?Ut():yt=!1}}}var Ut;if(typeof J=="function")Ut=function(){J(Et)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,se=_e.port2;_e.port1.onmessage=Et,Ut=function(){se.postMessage(null)}}else Ut=function(){Q(Et,0)};function Ce(I,at){F=Q(function(){I(l.unstable_now())},at)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(I){I.callback=null},l.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):st=0<I?Math.floor(1e3/I):5},l.unstable_getCurrentPriorityLevel=function(){return j},l.unstable_next=function(I){switch(j){case 1:case 2:case 3:var at=3;break;default:at=j}var W=j;j=at;try{return I()}finally{j=W}},l.unstable_requestPaint=function(){G=!0},l.unstable_runWithPriority=function(I,at){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var W=j;j=I;try{return at()}finally{j=W}},l.unstable_scheduleCallback=function(I,at,W){var Vt=l.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Vt+W:Vt):W=Vt,I){case 1:var rt=-1;break;case 2:rt=250;break;case 5:rt=1073741823;break;case 4:rt=1e4;break;default:rt=5e3}return rt=W+rt,I={id:A++,callback:at,priorityLevel:I,startTime:W,expirationTime:rt,sortIndex:-1},W>Vt?(I.sortIndex=W,a(w,I),o(x)===null&&I===o(w)&&(H?(et(F),F=-1):H=!0,Ce(Ct,W-Vt))):(I.sortIndex=rt,a(x,I),q||R||(q=!0,yt||(yt=!0,Ut()))),I},l.unstable_shouldYield=Dt,l.unstable_wrapCallback=function(I){var at=j;return function(){var W=j;j=at;try{return I.apply(this,arguments)}finally{j=W}}}})(Vh)),Vh}var bp;function Y_(){return bp||(bp=1,Gh.exports=K_()),Gh.exports}var Kh={exports:{}},Ve={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xp;function $_(){if(xp)return Ve;xp=1;var l=fd();function a(x){var w="https://react.dev/errors/"+x;if(1<arguments.length){w+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)w+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+x+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var u={d:{f:o,r:function(){throw Error(a(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},f=Symbol.for("react.portal");function p(x,w,A){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:E==null?null:""+E,children:x,containerInfo:w,implementation:A}}var g=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(x,w){if(x==="font")return"";if(typeof w=="string")return w==="use-credentials"?w:""}return Ve.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=u,Ve.createPortal=function(x,w){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w||w.nodeType!==1&&w.nodeType!==9&&w.nodeType!==11)throw Error(a(299));return p(x,w,null,A)},Ve.flushSync=function(x){var w=g.T,A=u.p;try{if(g.T=null,u.p=2,x)return x()}finally{g.T=w,u.p=A,u.d.f()}},Ve.preconnect=function(x,w){typeof x=="string"&&(w?(w=w.crossOrigin,w=typeof w=="string"?w==="use-credentials"?w:"":void 0):w=null,u.d.C(x,w))},Ve.prefetchDNS=function(x){typeof x=="string"&&u.d.D(x)},Ve.preinit=function(x,w){if(typeof x=="string"&&w&&typeof w.as=="string"){var A=w.as,E=b(A,w.crossOrigin),j=typeof w.integrity=="string"?w.integrity:void 0,R=typeof w.fetchPriority=="string"?w.fetchPriority:void 0;A==="style"?u.d.S(x,typeof w.precedence=="string"?w.precedence:void 0,{crossOrigin:E,integrity:j,fetchPriority:R}):A==="script"&&u.d.X(x,{crossOrigin:E,integrity:j,fetchPriority:R,nonce:typeof w.nonce=="string"?w.nonce:void 0})}},Ve.preinitModule=function(x,w){if(typeof x=="string")if(typeof w=="object"&&w!==null){if(w.as==null||w.as==="script"){var A=b(w.as,w.crossOrigin);u.d.M(x,{crossOrigin:A,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0})}}else w==null&&u.d.M(x)},Ve.preload=function(x,w){if(typeof x=="string"&&typeof w=="object"&&w!==null&&typeof w.as=="string"){var A=w.as,E=b(A,w.crossOrigin);u.d.L(x,A,{crossOrigin:E,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0,type:typeof w.type=="string"?w.type:void 0,fetchPriority:typeof w.fetchPriority=="string"?w.fetchPriority:void 0,referrerPolicy:typeof w.referrerPolicy=="string"?w.referrerPolicy:void 0,imageSrcSet:typeof w.imageSrcSet=="string"?w.imageSrcSet:void 0,imageSizes:typeof w.imageSizes=="string"?w.imageSizes:void 0,media:typeof w.media=="string"?w.media:void 0})}},Ve.preloadModule=function(x,w){if(typeof x=="string")if(w){var A=b(w.as,w.crossOrigin);u.d.m(x,{as:typeof w.as=="string"&&w.as!=="script"?w.as:void 0,crossOrigin:A,integrity:typeof w.integrity=="string"?w.integrity:void 0})}else u.d.m(x)},Ve.requestFormReset=function(x){u.d.r(x)},Ve.unstable_batchedUpdates=function(x,w){return x(w)},Ve.useFormState=function(x,w,A){return g.H.useFormState(x,w,A)},Ve.useFormStatus=function(){return g.H.useHostTransitionStatus()},Ve.version="19.2.3",Ve}var wp;function ig(){if(wp)return Kh.exports;wp=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(a){console.error(a)}}return l(),Kh.exports=$_(),Kh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sp;function X_(){if(Sp)return Mo;Sp=1;var l=Y_(),a=fd(),o=ig();function u(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function p(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function g(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function b(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function x(t){if(p(t)!==t)throw Error(u(188))}function w(t){var e=t.alternate;if(!e){if(e=p(t),e===null)throw Error(u(188));return e!==t?null:t}for(var i=t,r=e;;){var h=i.return;if(h===null)break;var d=h.alternate;if(d===null){if(r=h.return,r!==null){i=r;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===i)return x(h),t;if(d===r)return x(h),e;d=d.sibling}throw Error(u(188))}if(i.return!==r.return)i=h,r=d;else{for(var v=!1,T=h.child;T;){if(T===i){v=!0,i=h,r=d;break}if(T===r){v=!0,r=h,i=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===i){v=!0,i=d,r=h;break}if(T===r){v=!0,r=d,i=h;break}T=T.sibling}if(!v)throw Error(u(189))}}if(i.alternate!==r)throw Error(u(190))}if(i.tag!==3)throw Error(u(188));return i.stateNode.current===i?t:e}function A(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=A(t),e!==null)return e;t=t.sibling}return null}var E=Object.assign,j=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),et=Symbol.for("react.consumer"),J=Symbol.for("react.context"),ht=Symbol.for("react.forward_ref"),Ct=Symbol.for("react.suspense"),yt=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),st=Symbol.for("react.lazy"),mt=Symbol.for("react.activity"),Dt=Symbol.for("react.memo_cache_sentinel"),Et=Symbol.iterator;function Ut(t){return t===null||typeof t!="object"?null:(t=Et&&t[Et]||t["@@iterator"],typeof t=="function"?t:null)}var _e=Symbol.for("react.client.reference");function se(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===_e?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case H:return"Fragment";case Q:return"Profiler";case G:return"StrictMode";case Ct:return"Suspense";case yt:return"SuspenseList";case mt:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case q:return"Portal";case J:return t.displayName||"Context";case et:return(t._context.displayName||"Context")+".Consumer";case ht:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case F:return e=t.displayName||null,e!==null?e:se(t.type)||"Memo";case st:e=t._payload,t=t._init;try{return se(t(e))}catch{}}return null}var Ce=Array.isArray,I=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},Vt=[],rt=-1;function N(t){return{current:t}}function V(t){0>rt||(t.current=Vt[rt],Vt[rt]=null,rt--)}function tt(t,e){rt++,Vt[rt]=t.current,t.current=e}var nt=N(null),lt=N(null),ot=N(null),Nt=N(null);function re(t,e){switch(tt(ot,e),tt(lt,t),tt(nt,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Bm(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Bm(e),t=Pm(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}V(nt),tt(nt,t)}function oe(){V(nt),V(lt),V(ot)}function ui(t){t.memoizedState!==null&&tt(Nt,t);var e=nt.current,i=Pm(e,t.type);e!==i&&(tt(lt,t),tt(nt,i))}function Bi(t){lt.current===t&&(V(nt),V(lt)),Nt.current===t&&(V(Nt),jo._currentValue=W)}var ci,bs;function hi(t){if(ci===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);ci=e&&e[1]||"",bs=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ci+t+bs}var xs=!1;function ws(t,e){if(!t||xs)return"";xs=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(Z){var P=Z}Reflect.construct(t,[],X)}else{try{X.call()}catch(Z){P=Z}t.call(X.prototype)}}else{try{throw Error()}catch(Z){P=Z}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(Z){if(Z&&P&&typeof Z.stack=="string")return[Z.stack,P.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=r.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var k=v.split(`
`),U=T.split(`
`);for(h=r=0;r<k.length&&!k[r].includes("DetermineComponentFrameRoot");)r++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(r===k.length||h===U.length)for(r=k.length-1,h=U.length-1;1<=r&&0<=h&&k[r]!==U[h];)h--;for(;1<=r&&0<=h;r--,h--)if(k[r]!==U[h]){if(r!==1||h!==1)do if(r--,h--,0>h||k[r]!==U[h]){var K=`
`+k[r].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=r&&0<=h);break}}}finally{xs=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?hi(i):""}function Or(t,e){switch(t.tag){case 26:case 27:case 5:return hi(t.type);case 16:return hi("Lazy");case 13:return t.child!==e&&e!==null?hi("Suspense Fallback"):hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return ws(t.type,!1);case 11:return ws(t.type.render,!1);case 1:return ws(t.type,!0);case 31:return hi("Activity");default:return""}}function Ea(t){try{var e="",i=null;do e+=Or(t,i),i=t,t=t.return;while(t);return e}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var kr=Object.prototype.hasOwnProperty,Ss=l.unstable_scheduleCallback,Aa=l.unstable_cancelCallback,$o=l.unstable_shouldYield,Xo=l.unstable_requestPaint,Ke=l.unstable_now,Iu=l.unstable_getCurrentPriorityLevel,Ts=l.unstable_ImmediatePriority,Nr=l.unstable_UserBlockingPriority,Oa=l.unstable_NormalPriority,Gu=l.unstable_LowPriority,jr=l.unstable_IdlePriority,Jo=l.log,Vu=l.unstable_setDisableYieldValue,Pi=null,De=null;function Rn(t){if(typeof Jo=="function"&&Vu(t),De&&typeof De.setStrictMode=="function")try{De.setStrictMode(Pi,t)}catch{}}var Ye=Math.clz32?Math.clz32:Yu,ka=Math.log,Ku=Math.LN2;function Yu(t){return t>>>=0,t===0?32:31-(ka(t)/Ku|0)|0}var Na=256,ja=262144,Ca=4194304;function di(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Es(t,e,i){var r=t.pendingLanes;if(r===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=r&134217727;return T!==0?(r=T&~d,r!==0?h=di(r):(v&=T,v!==0?h=di(v):i||(i=T&~t,i!==0&&(h=di(i))))):(T=r&~d,T!==0?h=di(T):v!==0?h=di(v):i||(i=r&~t,i!==0&&(h=di(i)))),h===0?0:e!==0&&e!==h&&(e&d)===0&&(d=h&-h,i=e&-e,d>=i||d===32&&(i&4194048)!==0)?e:h}function La(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function $u(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qo(){var t=Ca;return Ca<<=1,(Ca&62914560)===0&&(Ca=4194304),t}function Cr(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function fi(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Xu(t,e,i,r,h,d){var v=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var T=t.entanglements,k=t.expirationTimes,U=t.hiddenUpdates;for(i=v&~i;0<i;){var K=31-Ye(i),X=1<<K;T[K]=0,k[K]=-1;var P=U[K];if(P!==null)for(U[K]=null,K=0;K<P.length;K++){var Z=P[K];Z!==null&&(Z.lane&=-536870913)}i&=~X}r!==0&&Wo(t,r,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~e))}function Wo(t,e,i){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-Ye(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|i&261930}function Fo(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var r=31-Ye(i),h=1<<r;h&e|t[r]&e&&(t[r]|=e),i&=~h}}function tl(t,e){var i=e&-e;return i=(i&42)!==0?1:Qe(i),(i&(t.suspendedLanes|e))!==0?0:i}function Qe(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ft(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Lr(){var t=at.p;return t!==0?t:(t=window.event,t===void 0?32:lp(t.type))}function Rr(t,e){var i=at.p;try{return at.p=t,e()}finally{at.p=i}}var zn=Math.random().toString(36).slice(2),be="__reactFiber$"+zn,Le="__reactProps$"+zn,mi="__reactContainer$"+zn,Yn="__reactEvents$"+zn,el="__reactListeners$"+zn,Ju="__reactHandles$"+zn,nl="__reactResources$"+zn,Ra="__reactMarker$"+zn;function zr(t){delete t[be],delete t[Le],delete t[Yn],delete t[el],delete t[Ju]}function pi(t){var e=t[be];if(e)return e;for(var i=t.parentNode;i;){if(e=i[mi]||i[be]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=Km(t);t!==null;){if(i=t[be])return i;t=Km(t)}return e}t=i,i=t.parentNode}return null}function Hi(t){if(t=t[be]||t[mi]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function $n(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(u(33))}function qi(t){var e=t[nl];return e||(e=t[nl]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function xe(t){t[Ra]=!0}var il=new Set,al={};function gi(t,e){Xn(t,e),Xn(t+"Capture",e)}function Xn(t,e){for(al[t]=e,t=0;t<e.length;t++)il.add(e[t])}var za=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mr={},Dr={};function Ma(t){return kr.call(Dr,t)?!0:kr.call(Mr,t)?!1:za.test(t)?Dr[t]=!0:(Mr[t]=!0,!1)}function Lt(t,e,i){if(Ma(e))if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+i)}}function Jt(t,e,i){if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+i)}}function We(t,e,i,r){if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(e,i,""+r)}}function Oe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _i(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ur(t,e,i){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var h=r.get,d=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return h.call(this)},set:function(v){i=""+v,d.call(this,v)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(v){i=""+v},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function St(t){if(!t._valueTracker){var e=_i(t)?"checked":"value";t._valueTracker=Ur(t,e,""+t[e])}}function le(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),r="";return t&&(r=_i(t)?t.checked?"true":"false":t.value),t=r,t!==i?(e.setValue(t),!0):!1}function Zi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var As=/[\n"\\]/g;function ie(t){return t.replace(As,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Br(t,e,i,r,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),e!=null?v==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Oe(e)):t.value!==""+Oe(e)&&(t.value=""+Oe(e)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),e!=null?Mn(t,v,Oe(e)):i!=null?Mn(t,v,Oe(i)):r!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Oe(T):t.removeAttribute("name")}function Da(t,e,i,r,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),e!=null||i!=null){if(!(d!=="submit"&&d!=="reset"||e!=null)){St(t);return}i=i!=null?""+Oe(i):"",e=e!=null?""+Oe(e):i,T||e===t.value||(t.value=e),t.defaultValue=e}r=r??h,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=T?t.checked:!!r,t.defaultChecked=!!r,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),St(t)}function Mn(t,e,i){e==="number"&&Zi(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function te(t,e,i,r){if(t=t.options,e){e={};for(var h=0;h<i.length;h++)e["$"+i[h]]=!0;for(i=0;i<t.length;i++)h=e.hasOwnProperty("$"+t[i].value),t[i].selected!==h&&(t[i].selected=h),h&&r&&(t[i].defaultSelected=!0)}else{for(i=""+Oe(i),e=null,h=0;h<t.length;h++){if(t[h].value===i){t[h].selected=!0,r&&(t[h].defaultSelected=!0);return}e!==null||t[h].disabled||(e=t[h])}e!==null&&(e.selected=!0)}}function Jn(t,e,i){if(e!=null&&(e=""+Oe(e),e!==t.value&&(t.value=e),i==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=i!=null?""+Oe(i):""}function Ii(t,e,i,r){if(e==null){if(r!=null){if(i!=null)throw Error(u(92));if(Ce(r)){if(1<r.length)throw Error(u(93));r=r[0]}i=r}i==null&&(i=""),e=i}i=Oe(e),t.defaultValue=i,r=t.textContent,r===i&&r!==""&&r!==null&&(t.value=r),St(t)}function wn(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var Pr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gi(t,e,i){var r=e.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,i):typeof i!="number"||i===0||Pr.has(e)?e==="float"?t.cssFloat=i:t[e]=(""+i).trim():t[e]=i+"px"}function Os(t,e,i){if(e!=null&&typeof e!="object")throw Error(u(62));if(t=t.style,i!=null){for(var r in i)!i.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var h in e)r=e[h],e.hasOwnProperty(h)&&i[h]!==r&&Gi(t,h,r)}else for(var d in e)e.hasOwnProperty(d)&&Gi(t,d,e[d])}function Ua(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ks=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vi(t){return Hr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Fe(){}var Ns=null;function Ba(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ki=null,xt=null;function hn(t){var e=Hi(t);if(e&&(t=e.stateNode)){var i=t[Le]||null;t:switch(t=e.stateNode,e.type){case"input":if(Br(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+ie(""+e)+'"][type="radio"]'),e=0;e<i.length;e++){var r=i[e];if(r!==t&&r.form===t.form){var h=r[Le]||null;if(!h)throw Error(u(90));Br(r,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(e=0;e<i.length;e++)r=i[e],r.form===t.form&&le(r)}break t;case"textarea":Jn(t,i.value,i.defaultValue);break t;case"select":e=i.value,e!=null&&te(t,!!i.multiple,e,!1)}}}var Yt=!1;function qr(t,e,i){if(Yt)return t(e,i);Yt=!0;try{var r=t(e);return r}finally{if(Yt=!1,(Ki!==null||xt!==null)&&(tu(),Ki&&(e=Ki,t=xt,xt=Ki=null,hn(e),t)))for(e=0;e<t.length;e++)hn(t[e])}}function vi(t,e){var i=t.stateNode;if(i===null)return null;var r=i[Le]||null;if(r===null)return null;i=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break t;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(u(231,e,typeof i));return i}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pa=!1;if(dn)try{var fn={};Object.defineProperty(fn,"passive",{get:function(){Pa=!0}}),window.addEventListener("test",fn,fn),window.removeEventListener("test",fn,fn)}catch{Pa=!1}var Sn=null,yi=null,de=null;function Qn(){if(de)return de;var t,e=yi,i=e.length,r,h="value"in Sn?Sn.value:Sn.textContent,d=h.length;for(t=0;t<i&&e[t]===h[t];t++);var v=i-t;for(r=1;r<=v&&e[i-r]===h[d-r];r++);return de=h.slice(t,1<r?1-r:void 0)}function Ha(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function qa(){return!0}function sl(){return!1}function Ue(t){function e(i,r,h,d,v){this._reactName=i,this._targetInst=h,this.type=r,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(i=t[T],this[T]=i?i(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?qa:sl,this.isPropagationStopped=sl,this}return E(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=qa)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=qa)},persist:function(){},isPersistent:qa}),e}var Dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},js=Ue(Dn),Yi=E({},Dn,{view:0,detail:0}),Bt=Ue(Yi),Zr,$e,Un,Za=E({},Yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$r,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Un&&(Un&&t.type==="mousemove"?(Zr=t.screenX-Un.screenX,$e=t.screenY-Un.screenY):$e=Zr=0,Un=t),Zr)},movementY:function(t){return"movementY"in t?t.movementY:$e}}),rl=Ue(Za),Ir=E({},Za,{dataTransfer:0}),Qu=Ue(Ir),ol=E({},Yi,{relatedTarget:0}),Gr=Ue(ol),Wu=E({},Dn,{animationName:0,elapsedTime:0,pseudoElement:0}),Vr=Ue(Wu),Fu=E({},Dn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Tn=Ue(Fu),tc=E({},Dn,{data:0}),Kr=Ue(tc),Wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ll={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ul={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yr(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ul[t])?!!e[t]:!1}function $r(){return Yr}var cl=E({},Yi,{key:function(t){if(t.key){var e=Wn[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ha(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ll[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$r,charCode:function(t){return t.type==="keypress"?Ha(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ha(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hl=Ue(cl),ec=E({},Za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dl=Ue(ec),Xr=E({},Yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$r}),nc=Ue(Xr),fl=E({},Dn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ml=Ue(fl),Cs=E({},Za,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),bi=Ue(Cs),ic=E({},Dn,{newState:0,oldState:0}),Ia=Ue(ic),tn=[9,13,27,32],Ls=dn&&"CompositionEvent"in window,$i=null;dn&&"documentMode"in document&&($i=document.documentMode);var ac=dn&&"TextEvent"in window&&!$i,Rs=dn&&(!Ls||$i&&8<$i&&11>=$i),zs=" ",pl=!1;function gl(t,e){switch(t){case"keyup":return tn.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xi=!1;function mn(t,e){switch(t){case"compositionend":return Jr(e);case"keypress":return e.which!==32?null:(pl=!0,zs);case"textInput":return t=e.data,t===zs&&pl?null:t;default:return null}}function Ji(t,e){if(Xi)return t==="compositionend"||!Ls&&gl(t,e)?(t=Qn(),de=yi=Sn=null,Xi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Rs&&e.locale!=="ko"?null:e.data;default:return null}}var sc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function En(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!sc[t.type]:e==="textarea"}function _l(t,e,i,r){Ki?xt?xt.push(r):xt=[r]:Ki=r,e=ou(e,"onChange"),0<e.length&&(i=new js("onChange","change",null,i,r),t.push({event:i,listeners:e}))}var An=null,Ga=null;function Va(t){Lm(t,0)}function Ka(t){var e=$n(t);if(le(e))return t}function Ya(t,e){if(t==="change")return e}var vl=!1;if(dn){var On;if(dn){var Qi="oninput"in document;if(!Qi){var yl=document.createElement("div");yl.setAttribute("oninput","return;"),Qi=typeof yl.oninput=="function"}On=Qi}else On=!1;vl=On&&(!document.documentMode||9<document.documentMode)}function Ms(){An&&(An.detachEvent("onpropertychange",bl),Ga=An=null)}function bl(t){if(t.propertyName==="value"&&Ka(Ga)){var e=[];_l(e,Ga,t,Ba(t)),qr(Va,e)}}function Bn(t,e,i){t==="focusin"?(Ms(),An=e,Ga=i,An.attachEvent("onpropertychange",bl)):t==="focusout"&&Ms()}function rc(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ka(Ga)}function Wi(t,e){if(t==="click")return Ka(e)}function oc(t,e){if(t==="input"||t==="change")return Ka(e)}function Pn(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Re=typeof Object.is=="function"?Object.is:Pn;function Fi(t,e){if(Re(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),r=Object.keys(e);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var h=i[r];if(!kr.call(e,h)||!Re(t[h],e[h]))return!1}return!0}function Ds(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $a(t,e){var i=Ds(t);t=0;for(var r;i;){if(i.nodeType===3){if(r=t+i.textContent.length,t<=e&&r>=e)return{node:i,offset:e-t};t=r}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=Ds(i)}}function Us(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Us(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Xa(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Zi(t.document);e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=Zi(t.document)}return e}function Fn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Bs=dn&&"documentMode"in document&&11>=document.documentMode,ti=null,Ps=null,Ja=null,ta=!1;function xl(t,e,i){var r=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;ta||ti==null||ti!==Zi(r)||(r=ti,"selectionStart"in r&&Fn(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ja&&Fi(Ja,r)||(Ja=r,r=ou(Ps,"onSelect"),0<r.length&&(e=new js("onSelect","select",null,e,i),t.push({event:e,listeners:r}),e.target=ti)))}function ei(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var ea={animationend:ei("Animation","AnimationEnd"),animationiteration:ei("Animation","AnimationIteration"),animationstart:ei("Animation","AnimationStart"),transitionrun:ei("Transition","TransitionRun"),transitionstart:ei("Transition","TransitionStart"),transitioncancel:ei("Transition","TransitionCancel"),transitionend:ei("Transition","TransitionEnd")},Hs={},wl={};dn&&(wl=document.createElement("div").style,"AnimationEvent"in window||(delete ea.animationend.animation,delete ea.animationiteration.animation,delete ea.animationstart.animation),"TransitionEvent"in window||delete ea.transitionend.transition);function ze(t){if(Hs[t])return Hs[t];if(!ea[t])return t;var e=ea[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in wl)return Hs[t]=e[i];return t}var Qa=ze("animationend"),Sl=ze("animationiteration"),Wa=ze("animationstart"),lc=ze("transitionrun"),Tl=ze("transitionstart"),uc=ze("transitioncancel"),na=ze("transitionend"),El=new Map,ni="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ni.push("scrollEnd");function en(t,e){El.set(t,e),gi(e,[t])}var Fa=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},nn=[],Ie=0,qs=0;function ts(){for(var t=Ie,e=qs=Ie=0;e<t;){var i=nn[e];nn[e++]=null;var r=nn[e];nn[e++]=null;var h=nn[e];nn[e++]=null;var d=nn[e];if(nn[e++]=null,r!==null&&h!==null){var v=r.pending;v===null?h.next=h:(h.next=v.next,v.next=h),r.pending=h}d!==0&&ia(i,h,d)}}function ii(t,e,i,r){nn[Ie++]=t,nn[Ie++]=e,nn[Ie++]=i,nn[Ie++]=r,qs|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function Qr(t,e,i,r){return ii(t,e,i,r),es(t)}function kn(t,e){return ii(t,null,null,e),es(t)}function ia(t,e,i){t.lanes|=i;var r=t.alternate;r!==null&&(r.lanes|=i);for(var h=!1,d=t.return;d!==null;)d.childLanes|=i,r=d.alternate,r!==null&&(r.childLanes|=i),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&e!==null&&(h=31-Ye(i),t=d.hiddenUpdates,r=t[h],r===null?t[h]=[e]:r.push(e),e.lane=i|536870912),d):null}function es(t){if(50<So)throw So=0,hh=null,Error(u(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var xi={};function cc(t,e,i,r){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ge(t,e,i,r){return new cc(t,e,i,r)}function Zs(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Nn(t,e){var i=t.alternate;return i===null?(i=Ge(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function Wr(t,e){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,e=i.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function ns(t,e,i,r,h,d){var v=0;if(r=t,typeof t=="function")Zs(t)&&(v=1);else if(typeof t=="string")v=C_(t,i,nt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case mt:return t=Ge(31,i,e,h),t.elementType=mt,t.lanes=d,t;case H:return wi(i.children,h,d,e);case G:v=8,h|=24;break;case Q:return t=Ge(12,i,e,h|2),t.elementType=Q,t.lanes=d,t;case Ct:return t=Ge(13,i,e,h),t.elementType=Ct,t.lanes=d,t;case yt:return t=Ge(19,i,e,h),t.elementType=yt,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J:v=10;break t;case et:v=9;break t;case ht:v=11;break t;case F:v=14;break t;case st:v=16,r=null;break t}v=29,i=Error(u(130,t===null?"null":typeof t,"")),r=null}return e=Ge(v,i,e,h),e.elementType=t,e.type=r,e.lanes=d,e}function wi(t,e,i,r){return t=Ge(7,t,r,e),t.lanes=i,t}function Is(t,e,i){return t=Ge(6,t,null,e),t.lanes=i,t}function Fr(t){var e=Ge(18,null,null,0);return e.stateNode=t,e}function to(t,e,i){return e=Ge(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var n=new WeakMap;function s(t,e){if(typeof t=="object"&&t!==null){var i=n.get(t);return i!==void 0?i:(e={value:t,source:e,stack:Ea(e)},n.set(t,e),e)}return{value:t,source:e,stack:Ea(e)}}var c=[],m=0,_=null,S=0,O=[],M=0,B=null,$=1,it="";function pt(t,e){c[m++]=S,c[m++]=_,_=t,S=e}function Ot(t,e,i){O[M++]=$,O[M++]=it,O[M++]=B,B=t;var r=$;t=it;var h=32-Ye(r)-1;r&=~(1<<h),i+=1;var d=32-Ye(e)+h;if(30<d){var v=h-h%5;d=(r&(1<<v)-1).toString(32),r>>=v,h-=v,$=1<<32-Ye(e)+h|i<<h|r,it=d+t}else $=1<<d|i<<h|r,it=t}function ke(t){t.return!==null&&(pt(t,1),Ot(t,1,0))}function fe(t){for(;t===_;)_=c[--m],c[m]=null,S=c[--m],c[m]=null;for(;t===B;)B=O[--M],O[M]=null,it=O[--M],O[M]=null,$=O[--M],O[M]=null}function Xe(t,e){O[M++]=$,O[M++]=it,O[M++]=B,$=e.id,it=e.overflow,B=t}var qt=null,Zt=null,Rt=!1,ai=null,an=!1,Gs=Error(u(519));function si(t){var e=Error(u(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw is(s(e,t)),Gs}function eo(t){var e=t.stateNode,i=t.type,r=t.memoizedProps;switch(e[be]=t,e[Le]=r,i){case"dialog":Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":case"embed":Mt("load",e);break;case"video":case"audio":for(i=0;i<Eo.length;i++)Mt(Eo[i],e);break;case"source":Mt("error",e);break;case"img":case"image":case"link":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"input":Mt("invalid",e),Da(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Mt("invalid",e);break;case"textarea":Mt("invalid",e),Ii(e,r.value,r.defaultValue,r.children)}i=r.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||e.textContent===""+i||r.suppressHydrationWarning===!0||Dm(e.textContent,i)?(r.popover!=null&&(Mt("beforetoggle",e),Mt("toggle",e)),r.onScroll!=null&&Mt("scroll",e),r.onScrollEnd!=null&&Mt("scrollend",e),r.onClick!=null&&(e.onclick=Fe),e=!0):e=!1,e||si(t,!0)}function he(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:an=!1;return;case 27:case 3:an=!0;return;default:qt=qt.return}}function Hn(t){if(t!==qt)return!1;if(!Rt)return he(t),Rt=!0,!1;var e=t.tag,i;if((i=e!==3&&e!==27)&&((i=e===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||Ah(t.type,t.memoizedProps)),i=!i),i&&Zt&&si(t),he(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(u(317));Zt=Vm(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(u(317));Zt=Vm(t)}else e===27?(e=Zt,_a(t.type)?(t=Ch,Ch=null,Zt=t):Zt=e):Zt=qt?Cn(t.stateNode.nextSibling):null;return!0}function Si(){Zt=qt=null,Rt=!1}function no(){var t=ai;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),ai=null),t}function is(t){ai===null?ai=[t]:ai.push(t)}var as=N(null),ri=null,qn=null;function aa(t,e,i){tt(as,e._currentValue),e._currentValue=i}function Ti(t){t._currentValue=as.current,V(as)}function hc(t,e,i){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===i)break;t=t.return}}function dc(t,e,i,r){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var k=0;k<e.length;k++)if(T.context===e[k]){d.lanes|=i,T=d.alternate,T!==null&&(T.lanes|=i),hc(d.return,i,t),r||(v=null);break t}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(u(341));v.lanes|=i,d=v.alternate,d!==null&&(d.lanes|=i),hc(v,i,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Vs(t,e,i,r){t=null;for(var h=e,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(u(387));if(v=v.memoizedProps,v!==null){var T=h.type;Re(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===Nt.current){if(v=h.alternate,v===null)throw Error(u(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(jo):t=[jo])}h=h.return}t!==null&&dc(e,t,i,r),e.flags|=262144}function Al(t){for(t=t.firstContext;t!==null;){if(!Re(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ss(t){ri=t,qn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Be(t){return bd(ri,t)}function Ol(t,e){return ri===null&&ss(t),bd(t,e)}function bd(t,e){var i=e._currentValue;if(e={context:e,memoizedValue:i,next:null},qn===null){if(t===null)throw Error(u(308));qn=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else qn=qn.next=e;return i}var Og=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(i,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(i){return i()})}},kg=l.unstable_scheduleCallback,Ng=l.unstable_NormalPriority,we={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fc(){return{controller:new Og,data:new Map,refCount:0}}function io(t){t.refCount--,t.refCount===0&&kg(Ng,function(){t.controller.abort()})}var ao=null,mc=0,Ks=0,Ys=null;function jg(t,e){if(ao===null){var i=ao=[];mc=0,Ks=_h(),Ys={status:"pending",value:void 0,then:function(r){i.push(r)}}}return mc++,e.then(xd,xd),e}function xd(){if(--mc===0&&ao!==null){Ys!==null&&(Ys.status="fulfilled");var t=ao;ao=null,Ks=0,Ys=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function Cg(t,e){var i=[],r={status:"pending",value:null,reason:null,then:function(h){i.push(h)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var h=0;h<i.length;h++)(0,i[h])(e)},function(h){for(r.status="rejected",r.reason=h,h=0;h<i.length;h++)(0,i[h])(void 0)}),r}var wd=I.S;I.S=function(t,e){rm=Ke(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&jg(t,e),wd!==null&&wd(t,e)};var rs=N(null);function pc(){var t=rs.current;return t!==null?t:ee.pooledCache}function kl(t,e){e===null?tt(rs,rs.current):tt(rs,e.pool)}function Sd(){var t=pc();return t===null?null:{parent:we._currentValue,pool:t}}var $s=Error(u(460)),gc=Error(u(474)),Nl=Error(u(542)),jl={then:function(){}};function Td(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ed(t,e,i){switch(i=t[i],i===void 0?t.push(e):i!==e&&(e.then(Fe,Fe),e=i),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Od(t),t;default:if(typeof e.status=="string")e.then(Fe,Fe);else{if(t=ee,t!==null&&100<t.shellSuspendCounter)throw Error(u(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var h=e;h.status="fulfilled",h.value=r}},function(r){if(e.status==="pending"){var h=e;h.status="rejected",h.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Od(t),t}throw ls=e,$s}}function os(t){try{var e=t._init;return e(t._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(ls=i,$s):i}}var ls=null;function Ad(){if(ls===null)throw Error(u(459));var t=ls;return ls=null,t}function Od(t){if(t===$s||t===Nl)throw Error(u(483))}var Xs=null,so=0;function Cl(t){var e=so;return so+=1,Xs===null&&(Xs=[]),Ed(Xs,t,e)}function ro(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Ll(t,e){throw e.$$typeof===j?Error(u(525)):(t=Object.prototype.toString.call(e),Error(u(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function kd(t){function e(z,C){if(t){var D=z.deletions;D===null?(z.deletions=[C],z.flags|=16):D.push(C)}}function i(z,C){if(!t)return null;for(;C!==null;)e(z,C),C=C.sibling;return null}function r(z){for(var C=new Map;z!==null;)z.key!==null?C.set(z.key,z):C.set(z.index,z),z=z.sibling;return C}function h(z,C){return z=Nn(z,C),z.index=0,z.sibling=null,z}function d(z,C,D){return z.index=D,t?(D=z.alternate,D!==null?(D=D.index,D<C?(z.flags|=67108866,C):D):(z.flags|=67108866,C)):(z.flags|=1048576,C)}function v(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function T(z,C,D,Y){return C===null||C.tag!==6?(C=Is(D,z.mode,Y),C.return=z,C):(C=h(C,D),C.return=z,C)}function k(z,C,D,Y){var _t=D.type;return _t===H?K(z,C,D.props.children,Y,D.key):C!==null&&(C.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===st&&os(_t)===C.type)?(C=h(C,D.props),ro(C,D),C.return=z,C):(C=ns(D.type,D.key,D.props,null,z.mode,Y),ro(C,D),C.return=z,C)}function U(z,C,D,Y){return C===null||C.tag!==4||C.stateNode.containerInfo!==D.containerInfo||C.stateNode.implementation!==D.implementation?(C=to(D,z.mode,Y),C.return=z,C):(C=h(C,D.children||[]),C.return=z,C)}function K(z,C,D,Y,_t){return C===null||C.tag!==7?(C=wi(D,z.mode,Y,_t),C.return=z,C):(C=h(C,D),C.return=z,C)}function X(z,C,D){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=Is(""+C,z.mode,D),C.return=z,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case R:return D=ns(C.type,C.key,C.props,null,z.mode,D),ro(D,C),D.return=z,D;case q:return C=to(C,z.mode,D),C.return=z,C;case st:return C=os(C),X(z,C,D)}if(Ce(C)||Ut(C))return C=wi(C,z.mode,D,null),C.return=z,C;if(typeof C.then=="function")return X(z,Cl(C),D);if(C.$$typeof===J)return X(z,Ol(z,C),D);Ll(z,C)}return null}function P(z,C,D,Y){var _t=C!==null?C.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return _t!==null?null:T(z,C,""+D,Y);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case R:return D.key===_t?k(z,C,D,Y):null;case q:return D.key===_t?U(z,C,D,Y):null;case st:return D=os(D),P(z,C,D,Y)}if(Ce(D)||Ut(D))return _t!==null?null:K(z,C,D,Y,null);if(typeof D.then=="function")return P(z,C,Cl(D),Y);if(D.$$typeof===J)return P(z,C,Ol(z,D),Y);Ll(z,D)}return null}function Z(z,C,D,Y,_t){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return z=z.get(D)||null,T(C,z,""+Y,_t);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case R:return z=z.get(Y.key===null?D:Y.key)||null,k(C,z,Y,_t);case q:return z=z.get(Y.key===null?D:Y.key)||null,U(C,z,Y,_t);case st:return Y=os(Y),Z(z,C,D,Y,_t)}if(Ce(Y)||Ut(Y))return z=z.get(D)||null,K(C,z,Y,_t,null);if(typeof Y.then=="function")return Z(z,C,D,Cl(Y),_t);if(Y.$$typeof===J)return Z(z,C,D,Ol(C,Y),_t);Ll(C,Y)}return null}function ct(z,C,D,Y){for(var _t=null,It=null,dt=C,kt=C=0,Ht=null;dt!==null&&kt<D.length;kt++){dt.index>kt?(Ht=dt,dt=null):Ht=dt.sibling;var Gt=P(z,dt,D[kt],Y);if(Gt===null){dt===null&&(dt=Ht);break}t&&dt&&Gt.alternate===null&&e(z,dt),C=d(Gt,C,kt),It===null?_t=Gt:It.sibling=Gt,It=Gt,dt=Ht}if(kt===D.length)return i(z,dt),Rt&&pt(z,kt),_t;if(dt===null){for(;kt<D.length;kt++)dt=X(z,D[kt],Y),dt!==null&&(C=d(dt,C,kt),It===null?_t=dt:It.sibling=dt,It=dt);return Rt&&pt(z,kt),_t}for(dt=r(dt);kt<D.length;kt++)Ht=Z(dt,z,kt,D[kt],Y),Ht!==null&&(t&&Ht.alternate!==null&&dt.delete(Ht.key===null?kt:Ht.key),C=d(Ht,C,kt),It===null?_t=Ht:It.sibling=Ht,It=Ht);return t&&dt.forEach(function(wa){return e(z,wa)}),Rt&&pt(z,kt),_t}function vt(z,C,D,Y){if(D==null)throw Error(u(151));for(var _t=null,It=null,dt=C,kt=C=0,Ht=null,Gt=D.next();dt!==null&&!Gt.done;kt++,Gt=D.next()){dt.index>kt?(Ht=dt,dt=null):Ht=dt.sibling;var wa=P(z,dt,Gt.value,Y);if(wa===null){dt===null&&(dt=Ht);break}t&&dt&&wa.alternate===null&&e(z,dt),C=d(wa,C,kt),It===null?_t=wa:It.sibling=wa,It=wa,dt=Ht}if(Gt.done)return i(z,dt),Rt&&pt(z,kt),_t;if(dt===null){for(;!Gt.done;kt++,Gt=D.next())Gt=X(z,Gt.value,Y),Gt!==null&&(C=d(Gt,C,kt),It===null?_t=Gt:It.sibling=Gt,It=Gt);return Rt&&pt(z,kt),_t}for(dt=r(dt);!Gt.done;kt++,Gt=D.next())Gt=Z(dt,z,kt,Gt.value,Y),Gt!==null&&(t&&Gt.alternate!==null&&dt.delete(Gt.key===null?kt:Gt.key),C=d(Gt,C,kt),It===null?_t=Gt:It.sibling=Gt,It=Gt);return t&&dt.forEach(function(Z_){return e(z,Z_)}),Rt&&pt(z,kt),_t}function Ft(z,C,D,Y){if(typeof D=="object"&&D!==null&&D.type===H&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case R:t:{for(var _t=D.key;C!==null;){if(C.key===_t){if(_t=D.type,_t===H){if(C.tag===7){i(z,C.sibling),Y=h(C,D.props.children),Y.return=z,z=Y;break t}}else if(C.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===st&&os(_t)===C.type){i(z,C.sibling),Y=h(C,D.props),ro(Y,D),Y.return=z,z=Y;break t}i(z,C);break}else e(z,C);C=C.sibling}D.type===H?(Y=wi(D.props.children,z.mode,Y,D.key),Y.return=z,z=Y):(Y=ns(D.type,D.key,D.props,null,z.mode,Y),ro(Y,D),Y.return=z,z=Y)}return v(z);case q:t:{for(_t=D.key;C!==null;){if(C.key===_t)if(C.tag===4&&C.stateNode.containerInfo===D.containerInfo&&C.stateNode.implementation===D.implementation){i(z,C.sibling),Y=h(C,D.children||[]),Y.return=z,z=Y;break t}else{i(z,C);break}else e(z,C);C=C.sibling}Y=to(D,z.mode,Y),Y.return=z,z=Y}return v(z);case st:return D=os(D),Ft(z,C,D,Y)}if(Ce(D))return ct(z,C,D,Y);if(Ut(D)){if(_t=Ut(D),typeof _t!="function")throw Error(u(150));return D=_t.call(D),vt(z,C,D,Y)}if(typeof D.then=="function")return Ft(z,C,Cl(D),Y);if(D.$$typeof===J)return Ft(z,C,Ol(z,D),Y);Ll(z,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,C!==null&&C.tag===6?(i(z,C.sibling),Y=h(C,D),Y.return=z,z=Y):(i(z,C),Y=Is(D,z.mode,Y),Y.return=z,z=Y),v(z)):i(z,C)}return function(z,C,D,Y){try{so=0;var _t=Ft(z,C,D,Y);return Xs=null,_t}catch(dt){if(dt===$s||dt===Nl)throw dt;var It=Ge(29,dt,null,z.mode);return It.lanes=Y,It.return=z,It}finally{}}}var us=kd(!0),Nd=kd(!1),sa=!1;function _c(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vc(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ra(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function oa(t,e,i){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(Kt&2)!==0){var h=r.pending;return h===null?e.next=e:(e.next=h.next,h.next=e),r.pending=e,e=es(t),ia(t,null,i),e}return ii(t,r,e,i),es(t)}function oo(t,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,i|=r,e.lanes=i,Fo(t,i)}}function yc(t,e){var i=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,i===r)){var h=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var v={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,i=i.next}while(i!==null);d===null?h=d=e:d=d.next=e}else h=d=e;i={baseState:r.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:r.shared,callbacks:r.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}var bc=!1;function lo(){if(bc){var t=Ys;if(t!==null)throw t}}function uo(t,e,i,r){bc=!1;var h=t.updateQueue;sa=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var k=T,U=k.next;k.next=null,v===null?d=U:v.next=U,v=k;var K=t.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==v&&(T===null?K.firstBaseUpdate=U:T.next=U,K.lastBaseUpdate=k))}if(d!==null){var X=h.baseState;v=0,K=U=k=null,T=d;do{var P=T.lane&-536870913,Z=P!==T.lane;if(Z?(Pt&P)===P:(r&P)===P){P!==0&&P===Ks&&(bc=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ct=t,vt=T;P=e;var Ft=i;switch(vt.tag){case 1:if(ct=vt.payload,typeof ct=="function"){X=ct.call(Ft,X,P);break t}X=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=vt.payload,P=typeof ct=="function"?ct.call(Ft,X,P):ct,P==null)break t;X=E({},X,P);break t;case 2:sa=!0}}P=T.callback,P!==null&&(t.flags|=64,Z&&(t.flags|=8192),Z=h.callbacks,Z===null?h.callbacks=[P]:Z.push(P))}else Z={lane:P,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(U=K=Z,k=X):K=K.next=Z,v|=P;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Z=T,T=Z.next,Z.next=null,h.lastBaseUpdate=Z,h.shared.pending=null}}while(!0);K===null&&(k=X),h.baseState=k,h.firstBaseUpdate=U,h.lastBaseUpdate=K,d===null&&(h.shared.lanes=0),da|=v,t.lanes=v,t.memoizedState=X}}function jd(t,e){if(typeof t!="function")throw Error(u(191,t));t.call(e)}function Cd(t,e){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)jd(i[t],e)}var Js=N(null),Rl=N(0);function Ld(t,e){t=Ri,tt(Rl,t),tt(Js,e),Ri=t|e.baseLanes}function xc(){tt(Rl,Ri),tt(Js,Js.current)}function wc(){Ri=Rl.current,V(Js),V(Rl)}var pn=N(null),jn=null;function la(t){var e=t.alternate;tt(ve,ve.current&1),tt(pn,t),jn===null&&(e===null||Js.current!==null||e.memoizedState!==null)&&(jn=t)}function Sc(t){tt(ve,ve.current),tt(pn,t),jn===null&&(jn=t)}function Rd(t){t.tag===22?(tt(ve,ve.current),tt(pn,t),jn===null&&(jn=t)):ua()}function ua(){tt(ve,ve.current),tt(pn,pn.current)}function gn(t){V(pn),jn===t&&(jn=null),V(ve)}var ve=N(0);function zl(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Nh(i)||jh(i)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ei=0,At=null,Qt=null,Se=null,Ml=!1,Qs=!1,cs=!1,Dl=0,co=0,Ws=null,Lg=0;function me(){throw Error(u(321))}function Tc(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!Re(t[i],e[i]))return!1;return!0}function Ec(t,e,i,r,h,d){return Ei=d,At=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,I.H=t===null||t.memoizedState===null?_f:Hc,cs=!1,d=i(r,h),cs=!1,Qs&&(d=Md(e,i,r,h)),zd(t),d}function zd(t){I.H=mo;var e=Qt!==null&&Qt.next!==null;if(Ei=0,Se=Qt=At=null,Ml=!1,co=0,Ws=null,e)throw Error(u(300));t===null||Te||(t=t.dependencies,t!==null&&Al(t)&&(Te=!0))}function Md(t,e,i,r){At=t;var h=0;do{if(Qs&&(Ws=null),co=0,Qs=!1,25<=h)throw Error(u(301));if(h+=1,Se=Qt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}I.H=vf,d=e(i,r)}while(Qs);return d}function Rg(){var t=I.H,e=t.useState()[0];return e=typeof e.then=="function"?ho(e):e,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(At.flags|=1024),e}function Ac(){var t=Dl!==0;return Dl=0,t}function Oc(t,e,i){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i}function kc(t){if(Ml){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Ml=!1}Ei=0,Se=Qt=At=null,Qs=!1,co=Dl=0,Ws=null}function Je(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?At.memoizedState=Se=t:Se=Se.next=t,Se}function ye(){if(Qt===null){var t=At.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var e=Se===null?At.memoizedState:Se.next;if(e!==null)Se=e,Qt=t;else{if(t===null)throw At.alternate===null?Error(u(467)):Error(u(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},Se===null?At.memoizedState=Se=t:Se=Se.next=t}return Se}function Ul(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ho(t){var e=co;return co+=1,Ws===null&&(Ws=[]),t=Ed(Ws,t,e),e=At,(Se===null?e.memoizedState:Se.next)===null&&(e=e.alternate,I.H=e===null||e.memoizedState===null?_f:Hc),t}function Bl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ho(t);if(t.$$typeof===J)return Be(t)}throw Error(u(438,String(t)))}function Nc(t){var e=null,i=At.updateQueue;if(i!==null&&(e=i.memoCache),e==null){var r=At.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(h){return h.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),i===null&&(i=Ul(),At.updateQueue=i),i.memoCache=e,i=e.data[e.index],i===void 0)for(i=e.data[e.index]=Array(t),r=0;r<t;r++)i[r]=Dt;return e.index++,i}function Ai(t,e){return typeof e=="function"?e(t):e}function Pl(t){var e=ye();return jc(e,Qt,t)}function jc(t,e,i){var r=t.queue;if(r===null)throw Error(u(311));r.lastRenderedReducer=i;var h=t.baseQueue,d=r.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}e.baseQueue=h=d,r.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{e=h.next;var T=v=null,k=null,U=e,K=!1;do{var X=U.lane&-536870913;if(X!==U.lane?(Pt&X)===X:(Ei&X)===X){var P=U.revertLane;if(P===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),X===Ks&&(K=!0);else if((Ei&P)===P){U=U.next,P===Ks&&(K=!0);continue}else X={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},k===null?(T=k=X,v=d):k=k.next=X,At.lanes|=P,da|=P;X=U.action,cs&&i(d,X),d=U.hasEagerState?U.eagerState:i(d,X)}else P={lane:X,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},k===null?(T=k=P,v=d):k=k.next=P,At.lanes|=X,da|=X;U=U.next}while(U!==null&&U!==e);if(k===null?v=d:k.next=T,!Re(d,t.memoizedState)&&(Te=!0,K&&(i=Ys,i!==null)))throw i;t.memoizedState=d,t.baseState=v,t.baseQueue=k,r.lastRenderedState=d}return h===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Cc(t){var e=ye(),i=e.queue;if(i===null)throw Error(u(311));i.lastRenderedReducer=t;var r=i.dispatch,h=i.pending,d=e.memoizedState;if(h!==null){i.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);Re(d,e.memoizedState)||(Te=!0),e.memoizedState=d,e.baseQueue===null&&(e.baseState=d),i.lastRenderedState=d}return[d,r]}function Dd(t,e,i){var r=At,h=ye(),d=Rt;if(d){if(i===void 0)throw Error(u(407));i=i()}else i=e();var v=!Re((Qt||h).memoizedState,i);if(v&&(h.memoizedState=i,Te=!0),h=h.queue,zc(Pd.bind(null,r,h,t),[t]),h.getSnapshot!==e||v||Se!==null&&Se.memoizedState.tag&1){if(r.flags|=2048,Fs(9,{destroy:void 0},Bd.bind(null,r,h,i,e),null),ee===null)throw Error(u(349));d||(Ei&127)!==0||Ud(r,e,i)}return i}function Ud(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},e=At.updateQueue,e===null?(e=Ul(),At.updateQueue=e,e.stores=[t]):(i=e.stores,i===null?e.stores=[t]:i.push(t))}function Bd(t,e,i,r){e.value=i,e.getSnapshot=r,Hd(e)&&qd(t)}function Pd(t,e,i){return i(function(){Hd(e)&&qd(t)})}function Hd(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!Re(t,i)}catch{return!0}}function qd(t){var e=kn(t,2);e!==null&&un(e,t,2)}function Lc(t){var e=Je();if(typeof t=="function"){var i=t;if(t=i(),cs){Rn(!0);try{i()}finally{Rn(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:t},e}function Zd(t,e,i,r){return t.baseState=i,jc(t,Qt,typeof r=="function"?r:Ai)}function zg(t,e,i,r,h){if(Zl(t))throw Error(u(485));if(t=e.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};I.T!==null?i(!0):d.isTransition=!1,r(d),i=e.pending,i===null?(d.next=e.pending=d,Id(e,d)):(d.next=i.next,e.pending=i.next=d)}}function Id(t,e){var i=e.action,r=e.payload,h=t.state;if(e.isTransition){var d=I.T,v={};I.T=v;try{var T=i(h,r),k=I.S;k!==null&&k(v,T),Gd(t,e,T)}catch(U){Rc(t,e,U)}finally{d!==null&&v.types!==null&&(d.types=v.types),I.T=d}}else try{d=i(h,r),Gd(t,e,d)}catch(U){Rc(t,e,U)}}function Gd(t,e,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(r){Vd(t,e,r)},function(r){return Rc(t,e,r)}):Vd(t,e,i)}function Vd(t,e,i){e.status="fulfilled",e.value=i,Kd(e),t.state=i,e=t.pending,e!==null&&(i=e.next,i===e?t.pending=null:(i=i.next,e.next=i,Id(t,i)))}function Rc(t,e,i){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=i,Kd(e),e=e.next;while(e!==r)}t.action=null}function Kd(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Yd(t,e){return e}function $d(t,e){if(Rt){var i=ee.formState;if(i!==null){t:{var r=At;if(Rt){if(Zt){e:{for(var h=Zt,d=an;h.nodeType!==8;){if(!d){h=null;break e}if(h=Cn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Zt=Cn(h.nextSibling),r=h.data==="F!";break t}}si(r)}r=!1}r&&(e=i[0])}}return i=Je(),i.memoizedState=i.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yd,lastRenderedState:e},i.queue=r,i=mf.bind(null,At,r),r.dispatch=i,r=Lc(!1),d=Pc.bind(null,At,!1,r.queue),r=Je(),h={state:e,dispatch:null,action:t,pending:null},r.queue=h,i=zg.bind(null,At,h,d,i),h.dispatch=i,r.memoizedState=t,[e,i,!1]}function Xd(t){var e=ye();return Jd(e,Qt,t)}function Jd(t,e,i){if(e=jc(t,e,Yd)[0],t=Pl(Ai)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=ho(e)}catch(v){throw v===$s?Nl:v}else r=e;e=ye();var h=e.queue,d=h.dispatch;return i!==e.memoizedState&&(At.flags|=2048,Fs(9,{destroy:void 0},Mg.bind(null,h,i),null)),[r,d,t]}function Mg(t,e){t.action=e}function Qd(t){var e=ye(),i=Qt;if(i!==null)return Jd(e,i,t);ye(),e=e.memoizedState,i=ye();var r=i.queue.dispatch;return i.memoizedState=t,[e,r,!1]}function Fs(t,e,i,r){return t={tag:t,create:i,deps:r,inst:e,next:null},e=At.updateQueue,e===null&&(e=Ul(),At.updateQueue=e),i=e.lastEffect,i===null?e.lastEffect=t.next=t:(r=i.next,i.next=t,t.next=r,e.lastEffect=t),t}function Wd(){return ye().memoizedState}function Hl(t,e,i,r){var h=Je();At.flags|=t,h.memoizedState=Fs(1|e,{destroy:void 0},i,r===void 0?null:r)}function ql(t,e,i,r){var h=ye();r=r===void 0?null:r;var d=h.memoizedState.inst;Qt!==null&&r!==null&&Tc(r,Qt.memoizedState.deps)?h.memoizedState=Fs(e,d,i,r):(At.flags|=t,h.memoizedState=Fs(1|e,d,i,r))}function Fd(t,e){Hl(8390656,8,t,e)}function zc(t,e){ql(2048,8,t,e)}function Dg(t){At.flags|=4;var e=At.updateQueue;if(e===null)e=Ul(),At.updateQueue=e,e.events=[t];else{var i=e.events;i===null?e.events=[t]:i.push(t)}}function tf(t){var e=ye().memoizedState;return Dg({ref:e,nextImpl:t}),function(){if((Kt&2)!==0)throw Error(u(440));return e.impl.apply(void 0,arguments)}}function ef(t,e){return ql(4,2,t,e)}function nf(t,e){return ql(4,4,t,e)}function af(t,e){if(typeof e=="function"){t=t();var i=e(t);return function(){typeof i=="function"?i():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function sf(t,e,i){i=i!=null?i.concat([t]):null,ql(4,4,af.bind(null,e,t),i)}function Mc(){}function rf(t,e){var i=ye();e=e===void 0?null:e;var r=i.memoizedState;return e!==null&&Tc(e,r[1])?r[0]:(i.memoizedState=[t,e],t)}function of(t,e){var i=ye();e=e===void 0?null:e;var r=i.memoizedState;if(e!==null&&Tc(e,r[1]))return r[0];if(r=t(),cs){Rn(!0);try{t()}finally{Rn(!1)}}return i.memoizedState=[r,e],r}function Dc(t,e,i){return i===void 0||(Ei&1073741824)!==0&&(Pt&261930)===0?t.memoizedState=e:(t.memoizedState=i,t=lm(),At.lanes|=t,da|=t,i)}function lf(t,e,i,r){return Re(i,e)?i:Js.current!==null?(t=Dc(t,i,r),Re(t,e)||(Te=!0),t):(Ei&42)===0||(Ei&1073741824)!==0&&(Pt&261930)===0?(Te=!0,t.memoizedState=i):(t=lm(),At.lanes|=t,da|=t,e)}function uf(t,e,i,r,h){var d=at.p;at.p=d!==0&&8>d?d:8;var v=I.T,T={};I.T=T,Pc(t,!1,e,i);try{var k=h(),U=I.S;if(U!==null&&U(T,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var K=Cg(k,r);fo(t,e,K,yn(t))}else fo(t,e,r,yn(t))}catch(X){fo(t,e,{then:function(){},status:"rejected",reason:X},yn())}finally{at.p=d,v!==null&&T.types!==null&&(v.types=T.types),I.T=v}}function Ug(){}function Uc(t,e,i,r){if(t.tag!==5)throw Error(u(476));var h=cf(t).queue;uf(t,h,e,W,i===null?Ug:function(){return hf(t),i(r)})}function cf(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:W},next:null};var i={};return e.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:i},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function hf(t){var e=cf(t);e.next===null&&(e=t.alternate.memoizedState),fo(t,e.next.queue,{},yn())}function Bc(){return Be(jo)}function df(){return ye().memoizedState}function ff(){return ye().memoizedState}function Bg(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var i=yn();t=ra(i);var r=oa(e,t,i);r!==null&&(un(r,e,i),oo(r,e,i)),e={cache:fc()},t.payload=e;return}e=e.return}}function Pg(t,e,i){var r=yn();i={lane:r,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Zl(t)?pf(e,i):(i=Qr(t,e,i,r),i!==null&&(un(i,t,r),gf(i,e,r)))}function mf(t,e,i){var r=yn();fo(t,e,i,r)}function fo(t,e,i,r){var h={lane:r,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Zl(t))pf(e,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=e.lastRenderedReducer,d!==null))try{var v=e.lastRenderedState,T=d(v,i);if(h.hasEagerState=!0,h.eagerState=T,Re(T,v))return ii(t,e,h,0),ee===null&&ts(),!1}catch{}finally{}if(i=Qr(t,e,h,r),i!==null)return un(i,t,r),gf(i,e,r),!0}return!1}function Pc(t,e,i,r){if(r={lane:2,revertLane:_h(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Zl(t)){if(e)throw Error(u(479))}else e=Qr(t,i,r,2),e!==null&&un(e,t,2)}function Zl(t){var e=t.alternate;return t===At||e!==null&&e===At}function pf(t,e){Qs=Ml=!0;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function gf(t,e,i){if((i&4194048)!==0){var r=e.lanes;r&=t.pendingLanes,i|=r,e.lanes=i,Fo(t,i)}}var mo={readContext:Be,use:Bl,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useInsertionEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useSyncExternalStore:me,useId:me,useHostTransitionStatus:me,useFormState:me,useActionState:me,useOptimistic:me,useMemoCache:me,useCacheRefresh:me};mo.useEffectEvent=me;var _f={readContext:Be,use:Bl,useCallback:function(t,e){return Je().memoizedState=[t,e===void 0?null:e],t},useContext:Be,useEffect:Fd,useImperativeHandle:function(t,e,i){i=i!=null?i.concat([t]):null,Hl(4194308,4,af.bind(null,e,t),i)},useLayoutEffect:function(t,e){return Hl(4194308,4,t,e)},useInsertionEffect:function(t,e){Hl(4,2,t,e)},useMemo:function(t,e){var i=Je();e=e===void 0?null:e;var r=t();if(cs){Rn(!0);try{t()}finally{Rn(!1)}}return i.memoizedState=[r,e],r},useReducer:function(t,e,i){var r=Je();if(i!==void 0){var h=i(e);if(cs){Rn(!0);try{i(e)}finally{Rn(!1)}}}else h=e;return r.memoizedState=r.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},r.queue=t,t=t.dispatch=Pg.bind(null,At,t),[r.memoizedState,t]},useRef:function(t){var e=Je();return t={current:t},e.memoizedState=t},useState:function(t){t=Lc(t);var e=t.queue,i=mf.bind(null,At,e);return e.dispatch=i,[t.memoizedState,i]},useDebugValue:Mc,useDeferredValue:function(t,e){var i=Je();return Dc(i,t,e)},useTransition:function(){var t=Lc(!1);return t=uf.bind(null,At,t.queue,!0,!1),Je().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,i){var r=At,h=Je();if(Rt){if(i===void 0)throw Error(u(407));i=i()}else{if(i=e(),ee===null)throw Error(u(349));(Pt&127)!==0||Ud(r,e,i)}h.memoizedState=i;var d={value:i,getSnapshot:e};return h.queue=d,Fd(Pd.bind(null,r,d,t),[t]),r.flags|=2048,Fs(9,{destroy:void 0},Bd.bind(null,r,d,i,e),null),i},useId:function(){var t=Je(),e=ee.identifierPrefix;if(Rt){var i=it,r=$;i=(r&~(1<<32-Ye(r)-1)).toString(32)+i,e="_"+e+"R_"+i,i=Dl++,0<i&&(e+="H"+i.toString(32)),e+="_"}else i=Lg++,e="_"+e+"r_"+i.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Bc,useFormState:$d,useActionState:$d,useOptimistic:function(t){var e=Je();e.memoizedState=e.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=i,e=Pc.bind(null,At,!0,i),i.dispatch=e,[t,e]},useMemoCache:Nc,useCacheRefresh:function(){return Je().memoizedState=Bg.bind(null,At)},useEffectEvent:function(t){var e=Je(),i={impl:t};return e.memoizedState=i,function(){if((Kt&2)!==0)throw Error(u(440));return i.impl.apply(void 0,arguments)}}},Hc={readContext:Be,use:Bl,useCallback:rf,useContext:Be,useEffect:zc,useImperativeHandle:sf,useInsertionEffect:ef,useLayoutEffect:nf,useMemo:of,useReducer:Pl,useRef:Wd,useState:function(){return Pl(Ai)},useDebugValue:Mc,useDeferredValue:function(t,e){var i=ye();return lf(i,Qt.memoizedState,t,e)},useTransition:function(){var t=Pl(Ai)[0],e=ye().memoizedState;return[typeof t=="boolean"?t:ho(t),e]},useSyncExternalStore:Dd,useId:df,useHostTransitionStatus:Bc,useFormState:Xd,useActionState:Xd,useOptimistic:function(t,e){var i=ye();return Zd(i,Qt,t,e)},useMemoCache:Nc,useCacheRefresh:ff};Hc.useEffectEvent=tf;var vf={readContext:Be,use:Bl,useCallback:rf,useContext:Be,useEffect:zc,useImperativeHandle:sf,useInsertionEffect:ef,useLayoutEffect:nf,useMemo:of,useReducer:Cc,useRef:Wd,useState:function(){return Cc(Ai)},useDebugValue:Mc,useDeferredValue:function(t,e){var i=ye();return Qt===null?Dc(i,t,e):lf(i,Qt.memoizedState,t,e)},useTransition:function(){var t=Cc(Ai)[0],e=ye().memoizedState;return[typeof t=="boolean"?t:ho(t),e]},useSyncExternalStore:Dd,useId:df,useHostTransitionStatus:Bc,useFormState:Qd,useActionState:Qd,useOptimistic:function(t,e){var i=ye();return Qt!==null?Zd(i,Qt,t,e):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:Nc,useCacheRefresh:ff};vf.useEffectEvent=tf;function qc(t,e,i,r){e=t.memoizedState,i=i(r,e),i=i==null?e:E({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var Zc={enqueueSetState:function(t,e,i){t=t._reactInternals;var r=yn(),h=ra(r);h.payload=e,i!=null&&(h.callback=i),e=oa(t,h,r),e!==null&&(un(e,t,r),oo(e,t,r))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var r=yn(),h=ra(r);h.tag=1,h.payload=e,i!=null&&(h.callback=i),e=oa(t,h,r),e!==null&&(un(e,t,r),oo(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=yn(),r=ra(i);r.tag=2,e!=null&&(r.callback=e),e=oa(t,r,i),e!==null&&(un(e,t,i),oo(e,t,i))}};function yf(t,e,i,r,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,d,v):e.prototype&&e.prototype.isPureReactComponent?!Fi(i,r)||!Fi(h,d):!0}function bf(t,e,i,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,r),e.state!==t&&Zc.enqueueReplaceState(e,e.state,null)}function hs(t,e){var i=e;if("ref"in e){i={};for(var r in e)r!=="ref"&&(i[r]=e[r])}if(t=t.defaultProps){i===e&&(i=E({},i));for(var h in t)i[h]===void 0&&(i[h]=t[h])}return i}function xf(t){Fa(t)}function wf(t){console.error(t)}function Sf(t){Fa(t)}function Il(t,e){try{var i=t.onUncaughtError;i(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function Tf(t,e,i){try{var r=t.onCaughtError;r(i.value,{componentStack:i.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ic(t,e,i){return i=ra(i),i.tag=3,i.payload={element:null},i.callback=function(){Il(t,e)},i}function Ef(t){return t=ra(t),t.tag=3,t}function Af(t,e,i,r){var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var d=r.value;t.payload=function(){return h(d)},t.callback=function(){Tf(e,i,r)}}var v=i.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Tf(e,i,r),typeof h!="function"&&(fa===null?fa=new Set([this]):fa.add(this));var T=r.stack;this.componentDidCatch(r.value,{componentStack:T!==null?T:""})})}function Hg(t,e,i,r,h){if(i.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=i.alternate,e!==null&&Vs(e,i,h,!0),i=pn.current,i!==null){switch(i.tag){case 31:case 13:return jn===null?eu():i.alternate===null&&pe===0&&(pe=3),i.flags&=-257,i.flags|=65536,i.lanes=h,r===jl?i.flags|=16384:(e=i.updateQueue,e===null?i.updateQueue=new Set([r]):e.add(r),mh(t,r,h)),!1;case 22:return i.flags|=65536,r===jl?i.flags|=16384:(e=i.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},i.updateQueue=e):(i=e.retryQueue,i===null?e.retryQueue=new Set([r]):i.add(r)),mh(t,r,h)),!1}throw Error(u(435,i.tag))}return mh(t,r,h),eu(),!1}if(Rt)return e=pn.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=h,r!==Gs&&(t=Error(u(422),{cause:r}),is(s(t,i)))):(r!==Gs&&(e=Error(u(423),{cause:r}),is(s(e,i))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,r=s(r,i),h=Ic(t.stateNode,r,h),yc(t,h),pe!==4&&(pe=2)),!1;var d=Error(u(520),{cause:r});if(d=s(d,i),wo===null?wo=[d]:wo.push(d),pe!==4&&(pe=2),e===null)return!0;r=s(r,i),i=e;do{switch(i.tag){case 3:return i.flags|=65536,t=h&-h,i.lanes|=t,t=Ic(i.stateNode,r,t),yc(i,t),!1;case 1:if(e=i.type,d=i.stateNode,(i.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(fa===null||!fa.has(d))))return i.flags|=65536,h&=-h,i.lanes|=h,h=Ef(h),Af(h,t,i,r),yc(i,h),!1}i=i.return}while(i!==null);return!1}var Gc=Error(u(461)),Te=!1;function Pe(t,e,i,r){e.child=t===null?Nd(e,null,i,r):us(e,t.child,i,r)}function Of(t,e,i,r,h){i=i.render;var d=e.ref;if("ref"in r){var v={};for(var T in r)T!=="ref"&&(v[T]=r[T])}else v=r;return ss(e),r=Ec(t,e,i,v,d,h),T=Ac(),t!==null&&!Te?(Oc(t,e,h),Oi(t,e,h)):(Rt&&T&&ke(e),e.flags|=1,Pe(t,e,r,h),e.child)}function kf(t,e,i,r,h){if(t===null){var d=i.type;return typeof d=="function"&&!Zs(d)&&d.defaultProps===void 0&&i.compare===null?(e.tag=15,e.type=d,Nf(t,e,d,r,h)):(t=ns(i.type,null,r,e,e.mode,h),t.ref=e.ref,t.return=e,e.child=t)}if(d=t.child,!Wc(t,h)){var v=d.memoizedProps;if(i=i.compare,i=i!==null?i:Fi,i(v,r)&&t.ref===e.ref)return Oi(t,e,h)}return e.flags|=1,t=Nn(d,r),t.ref=e.ref,t.return=e,e.child=t}function Nf(t,e,i,r,h){if(t!==null){var d=t.memoizedProps;if(Fi(d,r)&&t.ref===e.ref)if(Te=!1,e.pendingProps=r=d,Wc(t,h))(t.flags&131072)!==0&&(Te=!0);else return e.lanes=t.lanes,Oi(t,e,h)}return Vc(t,e,i,r,h)}function jf(t,e,i,r){var h=r.children,d=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((e.flags&128)!==0){if(d=d!==null?d.baseLanes|i:i,t!==null){for(r=e.child=t.child,h=0;r!==null;)h=h|r.lanes|r.childLanes,r=r.sibling;r=h&~d}else r=0,e.child=null;return Cf(t,e,d,i,r)}if((i&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&kl(e,d!==null?d.cachePool:null),d!==null?Ld(e,d):xc(),Rd(e);else return r=e.lanes=536870912,Cf(t,e,d!==null?d.baseLanes|i:i,i,r)}else d!==null?(kl(e,d.cachePool),Ld(e,d),ua(),e.memoizedState=null):(t!==null&&kl(e,null),xc(),ua());return Pe(t,e,h,i),e.child}function po(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Cf(t,e,i,r,h){var d=pc();return d=d===null?null:{parent:we._currentValue,pool:d},e.memoizedState={baseLanes:i,cachePool:d},t!==null&&kl(e,null),xc(),Rd(e),t!==null&&Vs(t,e,r,!0),e.childLanes=h,null}function Gl(t,e){return e=Kl({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Lf(t,e,i){return us(e,t.child,null,i),t=Gl(e,e.pendingProps),t.flags|=2,gn(e),e.memoizedState=null,t}function qg(t,e,i){var r=e.pendingProps,h=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Rt){if(r.mode==="hidden")return t=Gl(e,r),e.lanes=536870912,po(null,t);if(Sc(e),(t=Zt)?(t=Gm(t,an),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:B!==null?{id:$,overflow:it}:null,retryLane:536870912,hydrationErrors:null},i=Fr(t),i.return=e,e.child=i,qt=e,Zt=null)):t=null,t===null)throw si(e);return e.lanes=536870912,null}return Gl(e,r)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(Sc(e),h)if(e.flags&256)e.flags&=-257,e=Lf(t,e,i);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(u(558));else if(Te||Vs(t,e,i,!1),h=(i&t.childLanes)!==0,Te||h){if(r=ee,r!==null&&(v=tl(r,i),v!==0&&v!==d.retryLane))throw d.retryLane=v,kn(t,v),un(r,t,v),Gc;eu(),e=Lf(t,e,i)}else t=d.treeContext,Zt=Cn(v.nextSibling),qt=e,Rt=!0,ai=null,an=!1,t!==null&&Xe(e,t),e=Gl(e,r),e.flags|=4096;return e}return t=Nn(t.child,{mode:r.mode,children:r.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Vl(t,e){var i=e.ref;if(i===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(u(284));(t===null||t.ref!==i)&&(e.flags|=4194816)}}function Vc(t,e,i,r,h){return ss(e),i=Ec(t,e,i,r,void 0,h),r=Ac(),t!==null&&!Te?(Oc(t,e,h),Oi(t,e,h)):(Rt&&r&&ke(e),e.flags|=1,Pe(t,e,i,h),e.child)}function Rf(t,e,i,r,h,d){return ss(e),e.updateQueue=null,i=Md(e,r,i,h),zd(t),r=Ac(),t!==null&&!Te?(Oc(t,e,d),Oi(t,e,d)):(Rt&&r&&ke(e),e.flags|=1,Pe(t,e,i,d),e.child)}function zf(t,e,i,r,h){if(ss(e),e.stateNode===null){var d=xi,v=i.contextType;typeof v=="object"&&v!==null&&(d=Be(v)),d=new i(r,d),e.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Zc,e.stateNode=d,d._reactInternals=e,d=e.stateNode,d.props=r,d.state=e.memoizedState,d.refs={},_c(e),v=i.contextType,d.context=typeof v=="object"&&v!==null?Be(v):xi,d.state=e.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(qc(e,i,v,r),d.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Zc.enqueueReplaceState(d,d.state,null),uo(e,r,d,h),lo(),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){d=e.stateNode;var T=e.memoizedProps,k=hs(i,T);d.props=k;var U=d.context,K=i.contextType;v=xi,typeof K=="object"&&K!==null&&(v=Be(K));var X=i.getDerivedStateFromProps;K=typeof X=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=e.pendingProps!==T,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||U!==v)&&bf(e,d,r,v),sa=!1;var P=e.memoizedState;d.state=P,uo(e,r,d,h),lo(),U=e.memoizedState,T||P!==U||sa?(typeof X=="function"&&(qc(e,i,X,r),U=e.memoizedState),(k=sa||yf(e,i,k,r,P,U,v))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(e.flags|=4194308)):(typeof d.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=U),d.props=r,d.state=U,d.context=v,r=k):(typeof d.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{d=e.stateNode,vc(t,e),v=e.memoizedProps,K=hs(i,v),d.props=K,X=e.pendingProps,P=d.context,U=i.contextType,k=xi,typeof U=="object"&&U!==null&&(k=Be(U)),T=i.getDerivedStateFromProps,(U=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==X||P!==k)&&bf(e,d,r,k),sa=!1,P=e.memoizedState,d.state=P,uo(e,r,d,h),lo();var Z=e.memoizedState;v!==X||P!==Z||sa||t!==null&&t.dependencies!==null&&Al(t.dependencies)?(typeof T=="function"&&(qc(e,i,T,r),Z=e.memoizedState),(K=sa||yf(e,i,K,r,P,Z,k)||t!==null&&t.dependencies!==null&&Al(t.dependencies))?(U||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(r,Z,k),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(r,Z,k)),typeof d.componentDidUpdate=="function"&&(e.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&P===t.memoizedState||(e.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&P===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=Z),d.props=r,d.state=Z,d.context=k,r=K):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&P===t.memoizedState||(e.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&P===t.memoizedState||(e.flags|=1024),r=!1)}return d=r,Vl(t,e),r=(e.flags&128)!==0,d||r?(d=e.stateNode,i=r&&typeof i.getDerivedStateFromError!="function"?null:d.render(),e.flags|=1,t!==null&&r?(e.child=us(e,t.child,null,h),e.child=us(e,null,i,h)):Pe(t,e,i,h),e.memoizedState=d.state,t=e.child):t=Oi(t,e,h),t}function Mf(t,e,i,r){return Si(),e.flags|=256,Pe(t,e,i,r),e.child}var Kc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yc(t){return{baseLanes:t,cachePool:Sd()}}function $c(t,e,i){return t=t!==null?t.childLanes&~i:0,e&&(t|=vn),t}function Df(t,e,i){var r=e.pendingProps,h=!1,d=(e.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(ve.current&2)!==0),v&&(h=!0,e.flags&=-129),v=(e.flags&32)!==0,e.flags&=-33,t===null){if(Rt){if(h?la(e):ua(),(t=Zt)?(t=Gm(t,an),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:B!==null?{id:$,overflow:it}:null,retryLane:536870912,hydrationErrors:null},i=Fr(t),i.return=e,e.child=i,qt=e,Zt=null)):t=null,t===null)throw si(e);return jh(t)?e.lanes=32:e.lanes=536870912,null}var T=r.children;return r=r.fallback,h?(ua(),h=e.mode,T=Kl({mode:"hidden",children:T},h),r=wi(r,h,i,null),T.return=e,r.return=e,T.sibling=r,e.child=T,r=e.child,r.memoizedState=Yc(i),r.childLanes=$c(t,v,i),e.memoizedState=Kc,po(null,r)):(la(e),Xc(e,T))}var k=t.memoizedState;if(k!==null&&(T=k.dehydrated,T!==null)){if(d)e.flags&256?(la(e),e.flags&=-257,e=Jc(t,e,i)):e.memoizedState!==null?(ua(),e.child=t.child,e.flags|=128,e=null):(ua(),T=r.fallback,h=e.mode,r=Kl({mode:"visible",children:r.children},h),T=wi(T,h,i,null),T.flags|=2,r.return=e,T.return=e,r.sibling=T,e.child=r,us(e,t.child,null,i),r=e.child,r.memoizedState=Yc(i),r.childLanes=$c(t,v,i),e.memoizedState=Kc,e=po(null,r));else if(la(e),jh(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var U=v.dgst;v=U,r=Error(u(419)),r.stack="",r.digest=v,is({value:r,source:null,stack:null}),e=Jc(t,e,i)}else if(Te||Vs(t,e,i,!1),v=(i&t.childLanes)!==0,Te||v){if(v=ee,v!==null&&(r=tl(v,i),r!==0&&r!==k.retryLane))throw k.retryLane=r,kn(t,r),un(v,t,r),Gc;Nh(T)||eu(),e=Jc(t,e,i)}else Nh(T)?(e.flags|=192,e.child=t.child,e=null):(t=k.treeContext,Zt=Cn(T.nextSibling),qt=e,Rt=!0,ai=null,an=!1,t!==null&&Xe(e,t),e=Xc(e,r.children),e.flags|=4096);return e}return h?(ua(),T=r.fallback,h=e.mode,k=t.child,U=k.sibling,r=Nn(k,{mode:"hidden",children:r.children}),r.subtreeFlags=k.subtreeFlags&65011712,U!==null?T=Nn(U,T):(T=wi(T,h,i,null),T.flags|=2),T.return=e,r.return=e,r.sibling=T,e.child=r,po(null,r),r=e.child,T=t.child.memoizedState,T===null?T=Yc(i):(h=T.cachePool,h!==null?(k=we._currentValue,h=h.parent!==k?{parent:k,pool:k}:h):h=Sd(),T={baseLanes:T.baseLanes|i,cachePool:h}),r.memoizedState=T,r.childLanes=$c(t,v,i),e.memoizedState=Kc,po(t.child,r)):(la(e),i=t.child,t=i.sibling,i=Nn(i,{mode:"visible",children:r.children}),i.return=e,i.sibling=null,t!==null&&(v=e.deletions,v===null?(e.deletions=[t],e.flags|=16):v.push(t)),e.child=i,e.memoizedState=null,i)}function Xc(t,e){return e=Kl({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Kl(t,e){return t=Ge(22,t,null,e),t.lanes=0,t}function Jc(t,e,i){return us(e,t.child,null,i),t=Xc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Uf(t,e,i){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),hc(t.return,e,i)}function Qc(t,e,i,r,h,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:h,treeForkCount:d}:(v.isBackwards=e,v.rendering=null,v.renderingStartTime=0,v.last=r,v.tail=i,v.tailMode=h,v.treeForkCount=d)}function Bf(t,e,i){var r=e.pendingProps,h=r.revealOrder,d=r.tail;r=r.children;var v=ve.current,T=(v&2)!==0;if(T?(v=v&1|2,e.flags|=128):v&=1,tt(ve,v),Pe(t,e,r,i),r=Rt?S:0,!T&&t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Uf(t,i,e);else if(t.tag===19)Uf(t,i,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(i=e.child,h=null;i!==null;)t=i.alternate,t!==null&&zl(t)===null&&(h=i),i=i.sibling;i=h,i===null?(h=e.child,e.child=null):(h=i.sibling,i.sibling=null),Qc(e,!1,h,i,d,r);break;case"backwards":case"unstable_legacy-backwards":for(i=null,h=e.child,e.child=null;h!==null;){if(t=h.alternate,t!==null&&zl(t)===null){e.child=h;break}t=h.sibling,h.sibling=i,i=h,h=t}Qc(e,!0,i,null,d,r);break;case"together":Qc(e,!1,null,null,void 0,r);break;default:e.memoizedState=null}return e.child}function Oi(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),da|=e.lanes,(i&e.childLanes)===0)if(t!==null){if(Vs(t,e,i,!1),(i&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(u(153));if(e.child!==null){for(t=e.child,i=Nn(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=Nn(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}function Wc(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&Al(t)))}function Zg(t,e,i){switch(e.tag){case 3:re(e,e.stateNode.containerInfo),aa(e,we,t.memoizedState.cache),Si();break;case 27:case 5:ui(e);break;case 4:re(e,e.stateNode.containerInfo);break;case 10:aa(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Sc(e),null;break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(la(e),e.flags|=128,null):(i&e.child.childLanes)!==0?Df(t,e,i):(la(e),t=Oi(t,e,i),t!==null?t.sibling:null);la(e);break;case 19:var h=(t.flags&128)!==0;if(r=(i&e.childLanes)!==0,r||(Vs(t,e,i,!1),r=(i&e.childLanes)!==0),h){if(r)return Bf(t,e,i);e.flags|=128}if(h=e.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),tt(ve,ve.current),r)break;return null;case 22:return e.lanes=0,jf(t,e,i,e.pendingProps);case 24:aa(e,we,t.memoizedState.cache)}return Oi(t,e,i)}function Pf(t,e,i){if(t!==null)if(t.memoizedProps!==e.pendingProps)Te=!0;else{if(!Wc(t,i)&&(e.flags&128)===0)return Te=!1,Zg(t,e,i);Te=(t.flags&131072)!==0}else Te=!1,Rt&&(e.flags&1048576)!==0&&Ot(e,S,e.index);switch(e.lanes=0,e.tag){case 16:t:{var r=e.pendingProps;if(t=os(e.elementType),e.type=t,typeof t=="function")Zs(t)?(r=hs(t,r),e.tag=1,e=zf(null,e,t,r,i)):(e.tag=0,e=Vc(null,e,t,r,i));else{if(t!=null){var h=t.$$typeof;if(h===ht){e.tag=11,e=Of(null,e,t,r,i);break t}else if(h===F){e.tag=14,e=kf(null,e,t,r,i);break t}}throw e=se(t)||t,Error(u(306,e,""))}}return e;case 0:return Vc(t,e,e.type,e.pendingProps,i);case 1:return r=e.type,h=hs(r,e.pendingProps),zf(t,e,r,h,i);case 3:t:{if(re(e,e.stateNode.containerInfo),t===null)throw Error(u(387));r=e.pendingProps;var d=e.memoizedState;h=d.element,vc(t,e),uo(e,r,null,i);var v=e.memoizedState;if(r=v.cache,aa(e,we,r),r!==d.cache&&dc(e,[we],i,!0),lo(),r=v.element,d.isDehydrated)if(d={element:r,isDehydrated:!1,cache:v.cache},e.updateQueue.baseState=d,e.memoizedState=d,e.flags&256){e=Mf(t,e,r,i);break t}else if(r!==h){h=s(Error(u(424)),e),is(h),e=Mf(t,e,r,i);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Zt=Cn(t.firstChild),qt=e,Rt=!0,ai=null,an=!0,i=Nd(e,null,r,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Si(),r===h){e=Oi(t,e,i);break t}Pe(t,e,r,i)}e=e.child}return e;case 26:return Vl(t,e),t===null?(i=Jm(e.type,null,e.pendingProps,null))?e.memoizedState=i:Rt||(i=e.type,t=e.pendingProps,r=lu(ot.current).createElement(i),r[be]=e,r[Le]=t,He(r,i,t),xe(r),e.stateNode=r):e.memoizedState=Jm(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return ui(e),t===null&&Rt&&(r=e.stateNode=Ym(e.type,e.pendingProps,ot.current),qt=e,an=!0,h=Zt,_a(e.type)?(Ch=h,Zt=Cn(r.firstChild)):Zt=h),Pe(t,e,e.pendingProps.children,i),Vl(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Rt&&((h=r=Zt)&&(r=v_(r,e.type,e.pendingProps,an),r!==null?(e.stateNode=r,qt=e,Zt=Cn(r.firstChild),an=!1,h=!0):h=!1),h||si(e)),ui(e),h=e.type,d=e.pendingProps,v=t!==null?t.memoizedProps:null,r=d.children,Ah(h,d)?r=null:v!==null&&Ah(h,v)&&(e.flags|=32),e.memoizedState!==null&&(h=Ec(t,e,Rg,null,null,i),jo._currentValue=h),Vl(t,e),Pe(t,e,r,i),e.child;case 6:return t===null&&Rt&&((t=i=Zt)&&(i=y_(i,e.pendingProps,an),i!==null?(e.stateNode=i,qt=e,Zt=null,t=!0):t=!1),t||si(e)),null;case 13:return Df(t,e,i);case 4:return re(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=us(e,null,r,i):Pe(t,e,r,i),e.child;case 11:return Of(t,e,e.type,e.pendingProps,i);case 7:return Pe(t,e,e.pendingProps,i),e.child;case 8:return Pe(t,e,e.pendingProps.children,i),e.child;case 12:return Pe(t,e,e.pendingProps.children,i),e.child;case 10:return r=e.pendingProps,aa(e,e.type,r.value),Pe(t,e,r.children,i),e.child;case 9:return h=e.type._context,r=e.pendingProps.children,ss(e),h=Be(h),r=r(h),e.flags|=1,Pe(t,e,r,i),e.child;case 14:return kf(t,e,e.type,e.pendingProps,i);case 15:return Nf(t,e,e.type,e.pendingProps,i);case 19:return Bf(t,e,i);case 31:return qg(t,e,i);case 22:return jf(t,e,i,e.pendingProps);case 24:return ss(e),r=Be(we),t===null?(h=pc(),h===null&&(h=ee,d=fc(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=i),h=d),e.memoizedState={parent:r,cache:h},_c(e),aa(e,we,h)):((t.lanes&i)!==0&&(vc(t,e),uo(e,null,null,i),lo()),h=t.memoizedState,d=e.memoizedState,h.parent!==r?(h={parent:r,cache:r},e.memoizedState=h,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=h),aa(e,we,r)):(r=d.cache,aa(e,we,r),r!==h.cache&&dc(e,[we],i,!0))),Pe(t,e,e.pendingProps.children,i),e.child;case 29:throw e.pendingProps}throw Error(u(156,e.tag))}function ki(t){t.flags|=4}function Fc(t,e,i,r,h){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(dm())t.flags|=8192;else throw ls=jl,gc}else t.flags&=-16777217}function Hf(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ep(e))if(dm())t.flags|=8192;else throw ls=jl,gc}function Yl(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Qo():536870912,t.lanes|=e,ir|=e)}function go(t,e){if(!Rt)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ae(t){var e=t.alternate!==null&&t.alternate.child===t.child,i=0,r=0;if(e)for(var h=t.child;h!==null;)i|=h.lanes|h.childLanes,r|=h.subtreeFlags&65011712,r|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)i|=h.lanes|h.childLanes,r|=h.subtreeFlags,r|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=r,t.childLanes=i,e}function Ig(t,e,i){var r=e.pendingProps;switch(fe(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(e),null;case 1:return ae(e),null;case 3:return i=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Ti(we),oe(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Hn(e)?ki(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,no())),ae(e),null;case 26:var h=e.type,d=e.memoizedState;return t===null?(ki(e),d!==null?(ae(e),Hf(e,d)):(ae(e),Fc(e,h,null,r,i))):d?d!==t.memoizedState?(ki(e),ae(e),Hf(e,d)):(ae(e),e.flags&=-16777217):(t=t.memoizedProps,t!==r&&ki(e),ae(e),Fc(e,h,t,r,i)),null;case 27:if(Bi(e),i=ot.current,h=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&ki(e);else{if(!r){if(e.stateNode===null)throw Error(u(166));return ae(e),null}t=nt.current,Hn(e)?eo(e):(t=Ym(h,r,i),e.stateNode=t,ki(e))}return ae(e),null;case 5:if(Bi(e),h=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&ki(e);else{if(!r){if(e.stateNode===null)throw Error(u(166));return ae(e),null}if(d=nt.current,Hn(e))eo(e);else{var v=lu(ot.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof r.is=="string"?v.createElement("select",{is:r.is}):v.createElement("select"),r.multiple?d.multiple=!0:r.size&&(d.size=r.size);break;default:d=typeof r.is=="string"?v.createElement(h,{is:r.is}):v.createElement(h)}}d[be]=e,d[Le]=r;t:for(v=e.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break t;for(;v.sibling===null;){if(v.return===null||v.return===e)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}e.stateNode=d;t:switch(He(d,h,r),h){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&ki(e)}}return ae(e),Fc(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,i),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&ki(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(u(166));if(t=ot.current,Hn(e)){if(t=e.stateNode,i=e.memoizedProps,r=null,h=qt,h!==null)switch(h.tag){case 27:case 5:r=h.memoizedProps}t[be]=e,t=!!(t.nodeValue===i||r!==null&&r.suppressHydrationWarning===!0||Dm(t.nodeValue,i)),t||si(e,!0)}else t=lu(t).createTextNode(r),t[be]=e,e.stateNode=t}return ae(e),null;case 31:if(i=e.memoizedState,t===null||t.memoizedState!==null){if(r=Hn(e),i!==null){if(t===null){if(!r)throw Error(u(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(u(557));t[be]=e}else Si(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;ae(e),t=!1}else i=no(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),t=!0;if(!t)return e.flags&256?(gn(e),e):(gn(e),null);if((e.flags&128)!==0)throw Error(u(558))}return ae(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Hn(e),r!==null&&r.dehydrated!==null){if(t===null){if(!h)throw Error(u(318));if(h=e.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(u(317));h[be]=e}else Si(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;ae(e),h=!1}else h=no(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return e.flags&256?(gn(e),e):(gn(e),null)}return gn(e),(e.flags&128)!==0?(e.lanes=i,e):(i=r!==null,t=t!==null&&t.memoizedState!==null,i&&(r=e.child,h=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(h=r.alternate.memoizedState.cachePool.pool),d=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),d!==h&&(r.flags|=2048)),i!==t&&i&&(e.child.flags|=8192),Yl(e,e.updateQueue),ae(e),null);case 4:return oe(),t===null&&xh(e.stateNode.containerInfo),ae(e),null;case 10:return Ti(e.type),ae(e),null;case 19:if(V(ve),r=e.memoizedState,r===null)return ae(e),null;if(h=(e.flags&128)!==0,d=r.rendering,d===null)if(h)go(r,!1);else{if(pe!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(d=zl(t),d!==null){for(e.flags|=128,go(r,!1),t=d.updateQueue,e.updateQueue=t,Yl(e,t),e.subtreeFlags=0,t=i,i=e.child;i!==null;)Wr(i,t),i=i.sibling;return tt(ve,ve.current&1|2),Rt&&pt(e,r.treeForkCount),e.child}t=t.sibling}r.tail!==null&&Ke()>Wl&&(e.flags|=128,h=!0,go(r,!1),e.lanes=4194304)}else{if(!h)if(t=zl(d),t!==null){if(e.flags|=128,h=!0,t=t.updateQueue,e.updateQueue=t,Yl(e,t),go(r,!0),r.tail===null&&r.tailMode==="hidden"&&!d.alternate&&!Rt)return ae(e),null}else 2*Ke()-r.renderingStartTime>Wl&&i!==536870912&&(e.flags|=128,h=!0,go(r,!1),e.lanes=4194304);r.isBackwards?(d.sibling=e.child,e.child=d):(t=r.last,t!==null?t.sibling=d:e.child=d,r.last=d)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Ke(),t.sibling=null,i=ve.current,tt(ve,h?i&1|2:i&1),Rt&&pt(e,r.treeForkCount),t):(ae(e),null);case 22:case 23:return gn(e),wc(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?(i&536870912)!==0&&(e.flags&128)===0&&(ae(e),e.subtreeFlags&6&&(e.flags|=8192)):ae(e),i=e.updateQueue,i!==null&&Yl(e,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==i&&(e.flags|=2048),t!==null&&V(rs),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Ti(we),ae(e),null;case 25:return null;case 30:return null}throw Error(u(156,e.tag))}function Gg(t,e){switch(fe(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ti(we),oe(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Bi(e),null;case 31:if(e.memoizedState!==null){if(gn(e),e.alternate===null)throw Error(u(340));Si()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(gn(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(u(340));Si()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return V(ve),null;case 4:return oe(),null;case 10:return Ti(e.type),null;case 22:case 23:return gn(e),wc(),t!==null&&V(rs),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Ti(we),null;case 25:return null;default:return null}}function qf(t,e){switch(fe(e),e.tag){case 3:Ti(we),oe();break;case 26:case 27:case 5:Bi(e);break;case 4:oe();break;case 31:e.memoizedState!==null&&gn(e);break;case 13:gn(e);break;case 19:V(ve);break;case 10:Ti(e.type);break;case 22:case 23:gn(e),wc(),t!==null&&V(rs);break;case 24:Ti(we)}}function _o(t,e){try{var i=e.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var h=r.next;i=h;do{if((i.tag&t)===t){r=void 0;var d=i.create,v=i.inst;r=d(),v.destroy=r}i=i.next}while(i!==h)}}catch(T){Xt(e,e.return,T)}}function ca(t,e,i){try{var r=e.updateQueue,h=r!==null?r.lastEffect:null;if(h!==null){var d=h.next;r=d;do{if((r.tag&t)===t){var v=r.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=e;var k=i,U=T;try{U()}catch(K){Xt(h,k,K)}}}r=r.next}while(r!==d)}}catch(K){Xt(e,e.return,K)}}function Zf(t){var e=t.updateQueue;if(e!==null){var i=t.stateNode;try{Cd(e,i)}catch(r){Xt(t,t.return,r)}}}function If(t,e,i){i.props=hs(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(r){Xt(t,e,r)}}function vo(t,e){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof i=="function"?t.refCleanup=i(r):i.current=r}}catch(h){Xt(t,e,h)}}function oi(t,e){var i=t.ref,r=t.refCleanup;if(i!==null)if(typeof r=="function")try{r()}catch(h){Xt(t,e,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(h){Xt(t,e,h)}else i.current=null}function Gf(t){var e=t.type,i=t.memoizedProps,r=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":i.autoFocus&&r.focus();break t;case"img":i.src?r.src=i.src:i.srcSet&&(r.srcset=i.srcSet)}}catch(h){Xt(t,t.return,h)}}function th(t,e,i){try{var r=t.stateNode;d_(r,t.type,i,e),r[Le]=e}catch(h){Xt(t,t.return,h)}}function Vf(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&_a(t.type)||t.tag===4}function eh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Vf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&_a(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nh(t,e,i){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,e):(e=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,e.appendChild(t),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=Fe));else if(r!==4&&(r===27&&_a(t.type)&&(i=t.stateNode,e=null),t=t.child,t!==null))for(nh(t,e,i),t=t.sibling;t!==null;)nh(t,e,i),t=t.sibling}function $l(t,e,i){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(r!==4&&(r===27&&_a(t.type)&&(i=t.stateNode),t=t.child,t!==null))for($l(t,e,i),t=t.sibling;t!==null;)$l(t,e,i),t=t.sibling}function Kf(t){var e=t.stateNode,i=t.memoizedProps;try{for(var r=t.type,h=e.attributes;h.length;)e.removeAttributeNode(h[0]);He(e,r,i),e[be]=t,e[Le]=i}catch(d){Xt(t,t.return,d)}}var Ni=!1,Ee=!1,ih=!1,Yf=typeof WeakSet=="function"?WeakSet:Set,Me=null;function Vg(t,e){if(t=t.containerInfo,Th=pu,t=Xa(t),Fn(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else t:{i=(i=t.ownerDocument)&&i.defaultView||window;var r=i.getSelection&&i.getSelection();if(r&&r.rangeCount!==0){i=r.anchorNode;var h=r.anchorOffset,d=r.focusNode;r=r.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break t}var v=0,T=-1,k=-1,U=0,K=0,X=t,P=null;e:for(;;){for(var Z;X!==i||h!==0&&X.nodeType!==3||(T=v+h),X!==d||r!==0&&X.nodeType!==3||(k=v+r),X.nodeType===3&&(v+=X.nodeValue.length),(Z=X.firstChild)!==null;)P=X,X=Z;for(;;){if(X===t)break e;if(P===i&&++U===h&&(T=v),P===d&&++K===r&&(k=v),(Z=X.nextSibling)!==null)break;X=P,P=X.parentNode}X=Z}i=T===-1||k===-1?null:{start:T,end:k}}else i=null}i=i||{start:0,end:0}}else i=null;for(Eh={focusedElem:t,selectionRange:i},pu=!1,Me=e;Me!==null;)if(e=Me,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Me=t;else for(;Me!==null;){switch(e=Me,d=e.alternate,t=e.flags,e.tag){case 0:if((t&4)!==0&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(i=0;i<t.length;i++)h=t[i],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,i=e,h=d.memoizedProps,d=d.memoizedState,r=i.stateNode;try{var ct=hs(i.type,h);t=r.getSnapshotBeforeUpdate(ct,d),r.__reactInternalSnapshotBeforeUpdate=t}catch(vt){Xt(i,i.return,vt)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,i=t.nodeType,i===9)kh(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":kh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(u(163))}if(t=e.sibling,t!==null){t.return=e.return,Me=t;break}Me=e.return}}function $f(t,e,i){var r=i.flags;switch(i.tag){case 0:case 11:case 15:Ci(t,i),r&4&&_o(5,i);break;case 1:if(Ci(t,i),r&4)if(t=i.stateNode,e===null)try{t.componentDidMount()}catch(v){Xt(i,i.return,v)}else{var h=hs(i.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(h,e,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Xt(i,i.return,v)}}r&64&&Zf(i),r&512&&vo(i,i.return);break;case 3:if(Ci(t,i),r&64&&(t=i.updateQueue,t!==null)){if(e=null,i.child!==null)switch(i.child.tag){case 27:case 5:e=i.child.stateNode;break;case 1:e=i.child.stateNode}try{Cd(t,e)}catch(v){Xt(i,i.return,v)}}break;case 27:e===null&&r&4&&Kf(i);case 26:case 5:Ci(t,i),e===null&&r&4&&Gf(i),r&512&&vo(i,i.return);break;case 12:Ci(t,i);break;case 31:Ci(t,i),r&4&&Qf(t,i);break;case 13:Ci(t,i),r&4&&Wf(t,i),r&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=t_.bind(null,i),b_(t,i))));break;case 22:if(r=i.memoizedState!==null||Ni,!r){e=e!==null&&e.memoizedState!==null||Ee,h=Ni;var d=Ee;Ni=r,(Ee=e)&&!d?Li(t,i,(i.subtreeFlags&8772)!==0):Ci(t,i),Ni=h,Ee=d}break;case 30:break;default:Ci(t,i)}}function Xf(t){var e=t.alternate;e!==null&&(t.alternate=null,Xf(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&zr(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ue=null,sn=!1;function ji(t,e,i){for(i=i.child;i!==null;)Jf(t,e,i),i=i.sibling}function Jf(t,e,i){if(De&&typeof De.onCommitFiberUnmount=="function")try{De.onCommitFiberUnmount(Pi,i)}catch{}switch(i.tag){case 26:Ee||oi(i,e),ji(t,e,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Ee||oi(i,e);var r=ue,h=sn;_a(i.type)&&(ue=i.stateNode,sn=!1),ji(t,e,i),Oo(i.stateNode),ue=r,sn=h;break;case 5:Ee||oi(i,e);case 6:if(r=ue,h=sn,ue=null,ji(t,e,i),ue=r,sn=h,ue!==null)if(sn)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(i.stateNode)}catch(d){Xt(i,e,d)}else try{ue.removeChild(i.stateNode)}catch(d){Xt(i,e,d)}break;case 18:ue!==null&&(sn?(t=ue,Zm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),hr(t)):Zm(ue,i.stateNode));break;case 4:r=ue,h=sn,ue=i.stateNode.containerInfo,sn=!0,ji(t,e,i),ue=r,sn=h;break;case 0:case 11:case 14:case 15:ca(2,i,e),Ee||ca(4,i,e),ji(t,e,i);break;case 1:Ee||(oi(i,e),r=i.stateNode,typeof r.componentWillUnmount=="function"&&If(i,e,r)),ji(t,e,i);break;case 21:ji(t,e,i);break;case 22:Ee=(r=Ee)||i.memoizedState!==null,ji(t,e,i),Ee=r;break;default:ji(t,e,i)}}function Qf(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{hr(t)}catch(i){Xt(e,e.return,i)}}}function Wf(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{hr(t)}catch(i){Xt(e,e.return,i)}}function Kg(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Yf),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Yf),e;default:throw Error(u(435,t.tag))}}function Xl(t,e){var i=Kg(t);e.forEach(function(r){if(!i.has(r)){i.add(r);var h=e_.bind(null,t,r);r.then(h,h)}})}function rn(t,e){var i=e.deletions;if(i!==null)for(var r=0;r<i.length;r++){var h=i[r],d=t,v=e,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(_a(T.type)){ue=T.stateNode,sn=!1;break t}break;case 5:ue=T.stateNode,sn=!1;break t;case 3:case 4:ue=T.stateNode.containerInfo,sn=!0;break t}T=T.return}if(ue===null)throw Error(u(160));Jf(d,v,h),ue=null,sn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)Ff(e,t),e=e.sibling}var Zn=null;function Ff(t,e){var i=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:rn(e,t),on(t),r&4&&(ca(3,t,t.return),_o(3,t),ca(5,t,t.return));break;case 1:rn(e,t),on(t),r&512&&(Ee||i===null||oi(i,i.return)),r&64&&Ni&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?r:i.concat(r))));break;case 26:var h=Zn;if(rn(e,t),on(t),r&512&&(Ee||i===null||oi(i,i.return)),r&4){var d=i!==null?i.memoizedState:null;if(r=t.memoizedState,i===null)if(r===null)if(t.stateNode===null){t:{r=t.type,i=t.memoizedProps,h=h.ownerDocument||h;e:switch(r){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ra]||d[be]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(r),h.head.insertBefore(d,h.querySelector("head > title"))),He(d,r,i),d[be]=t,xe(d),r=d;break t;case"link":var v=Fm("link","href",h).get(r+(i.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&d.getAttribute("rel")===(i.rel==null?null:i.rel)&&d.getAttribute("title")===(i.title==null?null:i.title)&&d.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){v.splice(T,1);break e}}d=h.createElement(r),He(d,r,i),h.head.appendChild(d);break;case"meta":if(v=Fm("meta","content",h).get(r+(i.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(i.content==null?null:""+i.content)&&d.getAttribute("name")===(i.name==null?null:i.name)&&d.getAttribute("property")===(i.property==null?null:i.property)&&d.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&d.getAttribute("charset")===(i.charSet==null?null:i.charSet)){v.splice(T,1);break e}}d=h.createElement(r),He(d,r,i),h.head.appendChild(d);break;default:throw Error(u(468,r))}d[be]=t,xe(d),r=d}t.stateNode=r}else tp(h,t.type,t.stateNode);else t.stateNode=Wm(h,r,t.memoizedProps);else d!==r?(d===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):d.count--,r===null?tp(h,t.type,t.stateNode):Wm(h,r,t.memoizedProps)):r===null&&t.stateNode!==null&&th(t,t.memoizedProps,i.memoizedProps)}break;case 27:rn(e,t),on(t),r&512&&(Ee||i===null||oi(i,i.return)),i!==null&&r&4&&th(t,t.memoizedProps,i.memoizedProps);break;case 5:if(rn(e,t),on(t),r&512&&(Ee||i===null||oi(i,i.return)),t.flags&32){h=t.stateNode;try{wn(h,"")}catch(ct){Xt(t,t.return,ct)}}r&4&&t.stateNode!=null&&(h=t.memoizedProps,th(t,h,i!==null?i.memoizedProps:h)),r&1024&&(ih=!0);break;case 6:if(rn(e,t),on(t),r&4){if(t.stateNode===null)throw Error(u(162));r=t.memoizedProps,i=t.stateNode;try{i.nodeValue=r}catch(ct){Xt(t,t.return,ct)}}break;case 3:if(hu=null,h=Zn,Zn=uu(e.containerInfo),rn(e,t),Zn=h,on(t),r&4&&i!==null&&i.memoizedState.isDehydrated)try{hr(e.containerInfo)}catch(ct){Xt(t,t.return,ct)}ih&&(ih=!1,tm(t));break;case 4:r=Zn,Zn=uu(t.stateNode.containerInfo),rn(e,t),on(t),Zn=r;break;case 12:rn(e,t),on(t);break;case 31:rn(e,t),on(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Xl(t,r)));break;case 13:rn(e,t),on(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Ql=Ke()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Xl(t,r)));break;case 22:h=t.memoizedState!==null;var k=i!==null&&i.memoizedState!==null,U=Ni,K=Ee;if(Ni=U||h,Ee=K||k,rn(e,t),Ee=K,Ni=U,on(t),r&8192)t:for(e=t.stateNode,e._visibility=h?e._visibility&-2:e._visibility|1,h&&(i===null||k||Ni||Ee||ds(t)),i=null,e=t;;){if(e.tag===5||e.tag===26){if(i===null){k=i=e;try{if(d=k.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=k.stateNode;var X=k.memoizedProps.style,P=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(ct){Xt(k,k.return,ct)}}}else if(e.tag===6){if(i===null){k=e;try{k.stateNode.nodeValue=h?"":k.memoizedProps}catch(ct){Xt(k,k.return,ct)}}}else if(e.tag===18){if(i===null){k=e;try{var Z=k.stateNode;h?Im(Z,!0):Im(k.stateNode,!1)}catch(ct){Xt(k,k.return,ct)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;i===e&&(i=null),e=e.return}i===e&&(i=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(i=r.retryQueue,i!==null&&(r.retryQueue=null,Xl(t,i))));break;case 19:rn(e,t),on(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Xl(t,r)));break;case 30:break;case 21:break;default:rn(e,t),on(t)}}function on(t){var e=t.flags;if(e&2){try{for(var i,r=t.return;r!==null;){if(Vf(r)){i=r;break}r=r.return}if(i==null)throw Error(u(160));switch(i.tag){case 27:var h=i.stateNode,d=eh(t);$l(t,d,h);break;case 5:var v=i.stateNode;i.flags&32&&(wn(v,""),i.flags&=-33);var T=eh(t);$l(t,T,v);break;case 3:case 4:var k=i.stateNode.containerInfo,U=eh(t);nh(t,U,k);break;default:throw Error(u(161))}}catch(K){Xt(t,t.return,K)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function tm(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;tm(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Ci(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)$f(t,e.alternate,e),e=e.sibling}function ds(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:ca(4,e,e.return),ds(e);break;case 1:oi(e,e.return);var i=e.stateNode;typeof i.componentWillUnmount=="function"&&If(e,e.return,i),ds(e);break;case 27:Oo(e.stateNode);case 26:case 5:oi(e,e.return),ds(e);break;case 22:e.memoizedState===null&&ds(e);break;case 30:ds(e);break;default:ds(e)}t=t.sibling}}function Li(t,e,i){for(i=i&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,h=t,d=e,v=d.flags;switch(d.tag){case 0:case 11:case 15:Li(h,d,i),_o(4,d);break;case 1:if(Li(h,d,i),r=d,h=r.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){Xt(r,r.return,U)}if(r=d,h=r.updateQueue,h!==null){var T=r.stateNode;try{var k=h.shared.hiddenCallbacks;if(k!==null)for(h.shared.hiddenCallbacks=null,h=0;h<k.length;h++)jd(k[h],T)}catch(U){Xt(r,r.return,U)}}i&&v&64&&Zf(d),vo(d,d.return);break;case 27:Kf(d);case 26:case 5:Li(h,d,i),i&&r===null&&v&4&&Gf(d),vo(d,d.return);break;case 12:Li(h,d,i);break;case 31:Li(h,d,i),i&&v&4&&Qf(h,d);break;case 13:Li(h,d,i),i&&v&4&&Wf(h,d);break;case 22:d.memoizedState===null&&Li(h,d,i),vo(d,d.return);break;case 30:break;default:Li(h,d,i)}e=e.sibling}}function ah(t,e){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&io(i))}function sh(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&io(t))}function In(t,e,i,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)em(t,e,i,r),e=e.sibling}function em(t,e,i,r){var h=e.flags;switch(e.tag){case 0:case 11:case 15:In(t,e,i,r),h&2048&&_o(9,e);break;case 1:In(t,e,i,r);break;case 3:In(t,e,i,r),h&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&io(t)));break;case 12:if(h&2048){In(t,e,i,r),t=e.stateNode;try{var d=e.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(k){Xt(e,e.return,k)}}else In(t,e,i,r);break;case 31:In(t,e,i,r);break;case 13:In(t,e,i,r);break;case 23:break;case 22:d=e.stateNode,v=e.alternate,e.memoizedState!==null?d._visibility&2?In(t,e,i,r):yo(t,e):d._visibility&2?In(t,e,i,r):(d._visibility|=2,tr(t,e,i,r,(e.subtreeFlags&10256)!==0||!1)),h&2048&&ah(v,e);break;case 24:In(t,e,i,r),h&2048&&sh(e.alternate,e);break;default:In(t,e,i,r)}}function tr(t,e,i,r,h){for(h=h&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var d=t,v=e,T=i,k=r,U=v.flags;switch(v.tag){case 0:case 11:case 15:tr(d,v,T,k,h),_o(8,v);break;case 23:break;case 22:var K=v.stateNode;v.memoizedState!==null?K._visibility&2?tr(d,v,T,k,h):yo(d,v):(K._visibility|=2,tr(d,v,T,k,h)),h&&U&2048&&ah(v.alternate,v);break;case 24:tr(d,v,T,k,h),h&&U&2048&&sh(v.alternate,v);break;default:tr(d,v,T,k,h)}e=e.sibling}}function yo(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var i=t,r=e,h=r.flags;switch(r.tag){case 22:yo(i,r),h&2048&&ah(r.alternate,r);break;case 24:yo(i,r),h&2048&&sh(r.alternate,r);break;default:yo(i,r)}e=e.sibling}}var bo=8192;function er(t,e,i){if(t.subtreeFlags&bo)for(t=t.child;t!==null;)nm(t,e,i),t=t.sibling}function nm(t,e,i){switch(t.tag){case 26:er(t,e,i),t.flags&bo&&t.memoizedState!==null&&L_(i,Zn,t.memoizedState,t.memoizedProps);break;case 5:er(t,e,i);break;case 3:case 4:var r=Zn;Zn=uu(t.stateNode.containerInfo),er(t,e,i),Zn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=bo,bo=16777216,er(t,e,i),bo=r):er(t,e,i));break;default:er(t,e,i)}}function im(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function xo(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var r=e[i];Me=r,sm(r,t)}im(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)am(t),t=t.sibling}function am(t){switch(t.tag){case 0:case 11:case 15:xo(t),t.flags&2048&&ca(9,t,t.return);break;case 3:xo(t);break;case 12:xo(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Jl(t)):xo(t);break;default:xo(t)}}function Jl(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var r=e[i];Me=r,sm(r,t)}im(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:ca(8,e,e.return),Jl(e);break;case 22:i=e.stateNode,i._visibility&2&&(i._visibility&=-3,Jl(e));break;default:Jl(e)}t=t.sibling}}function sm(t,e){for(;Me!==null;){var i=Me;switch(i.tag){case 0:case 11:case 15:ca(8,i,e);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var r=i.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:io(i.memoizedState.cache)}if(r=i.child,r!==null)r.return=i,Me=r;else t:for(i=t;Me!==null;){r=Me;var h=r.sibling,d=r.return;if(Xf(r),r===i){Me=null;break t}if(h!==null){h.return=d,Me=h;break t}Me=d}}}var Yg={getCacheForType:function(t){var e=Be(we),i=e.data.get(t);return i===void 0&&(i=t(),e.data.set(t,i)),i},cacheSignal:function(){return Be(we).controller.signal}},$g=typeof WeakMap=="function"?WeakMap:Map,Kt=0,ee=null,zt=null,Pt=0,$t=0,_n=null,ha=!1,nr=!1,rh=!1,Ri=0,pe=0,da=0,fs=0,oh=0,vn=0,ir=0,wo=null,ln=null,lh=!1,Ql=0,rm=0,Wl=1/0,Fl=null,fa=null,Ne=0,ma=null,ar=null,zi=0,uh=0,ch=null,om=null,So=0,hh=null;function yn(){return(Kt&2)!==0&&Pt!==0?Pt&-Pt:I.T!==null?_h():Lr()}function lm(){if(vn===0)if((Pt&536870912)===0||Rt){var t=ja;ja<<=1,(ja&3932160)===0&&(ja=262144),vn=t}else vn=536870912;return t=pn.current,t!==null&&(t.flags|=32),vn}function un(t,e,i){(t===ee&&($t===2||$t===9)||t.cancelPendingCommit!==null)&&(sr(t,0),pa(t,Pt,vn,!1)),fi(t,i),((Kt&2)===0||t!==ee)&&(t===ee&&((Kt&2)===0&&(fs|=i),pe===4&&pa(t,Pt,vn,!1)),li(t))}function um(t,e,i){if((Kt&6)!==0)throw Error(u(327));var r=!i&&(e&127)===0&&(e&t.expiredLanes)===0||La(t,e),h=r?Qg(t,e):fh(t,e,!0),d=r;do{if(h===0){nr&&!r&&pa(t,e,0,!1);break}else{if(i=t.current.alternate,d&&!Xg(i)){h=fh(t,e,!1),d=!1;continue}if(h===2){if(d=e,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){e=v;t:{var T=t;h=wo;var k=T.current.memoizedState.isDehydrated;if(k&&(sr(T,v).flags|=256),v=fh(T,v,!1),v!==2){if(rh&&!k){T.errorRecoveryDisabledLanes|=d,fs|=d,h=4;break t}d=ln,ln=h,d!==null&&(ln===null?ln=d:ln.push.apply(ln,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){sr(t,0),pa(t,e,0,!0);break}t:{switch(r=t,d=h,d){case 0:case 1:throw Error(u(345));case 4:if((e&4194048)!==e)break;case 6:pa(r,e,vn,!ha);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(u(329))}if((e&62914560)===e&&(h=Ql+300-Ke(),10<h)){if(pa(r,e,vn,!ha),Es(r,0,!0)!==0)break t;zi=e,r.timeoutHandle=Hm(cm.bind(null,r,i,ln,Fl,lh,e,vn,fs,ir,ha,d,"Throttled",-0,0),h);break t}cm(r,i,ln,Fl,lh,e,vn,fs,ir,ha,d,null,-0,0)}}break}while(!0);li(t)}function cm(t,e,i,r,h,d,v,T,k,U,K,X,P,Z){if(t.timeoutHandle=-1,X=e.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fe},nm(e,d,X);var ct=(d&62914560)===d?Ql-Ke():(d&4194048)===d?rm-Ke():0;if(ct=R_(X,ct),ct!==null){zi=d,t.cancelPendingCommit=ct(vm.bind(null,t,e,d,i,r,h,v,T,k,K,X,null,P,Z)),pa(t,d,v,!U);return}}vm(t,e,d,i,r,h,v,T,k)}function Xg(t){for(var e=t;;){var i=e.tag;if((i===0||i===11||i===15)&&e.flags&16384&&(i=e.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var r=0;r<i.length;r++){var h=i[r],d=h.getSnapshot;h=h.value;try{if(!Re(d(),h))return!1}catch{return!1}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function pa(t,e,i,r){e&=~oh,e&=~fs,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var h=e;0<h;){var d=31-Ye(h),v=1<<d;r[d]=-1,h&=~v}i!==0&&Wo(t,i,e)}function tu(){return(Kt&6)===0?(To(0),!1):!0}function dh(){if(zt!==null){if($t===0)var t=zt.return;else t=zt,qn=ri=null,kc(t),Xs=null,so=0,t=zt;for(;t!==null;)qf(t.alternate,t),t=t.return;zt=null}}function sr(t,e){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,p_(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),zi=0,dh(),ee=t,zt=i=Nn(t.current,null),Pt=e,$t=0,_n=null,ha=!1,nr=La(t,e),rh=!1,ir=vn=oh=fs=da=pe=0,ln=wo=null,lh=!1,(e&8)!==0&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var h=31-Ye(r),d=1<<h;e|=t[h],r&=~d}return Ri=e,ts(),i}function hm(t,e){At=null,I.H=mo,e===$s||e===Nl?(e=Ad(),$t=3):e===gc?(e=Ad(),$t=4):$t=e===Gc?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,_n=e,zt===null&&(pe=1,Il(t,s(e,t.current)))}function dm(){var t=pn.current;return t===null?!0:(Pt&4194048)===Pt?jn===null:(Pt&62914560)===Pt||(Pt&536870912)!==0?t===jn:!1}function fm(){var t=I.H;return I.H=mo,t===null?mo:t}function mm(){var t=I.A;return I.A=Yg,t}function eu(){pe=4,ha||(Pt&4194048)!==Pt&&pn.current!==null||(nr=!0),(da&134217727)===0&&(fs&134217727)===0||ee===null||pa(ee,Pt,vn,!1)}function fh(t,e,i){var r=Kt;Kt|=2;var h=fm(),d=mm();(ee!==t||Pt!==e)&&(Fl=null,sr(t,e)),e=!1;var v=pe;t:do try{if($t!==0&&zt!==null){var T=zt,k=_n;switch($t){case 8:dh(),v=6;break t;case 3:case 2:case 9:case 6:pn.current===null&&(e=!0);var U=$t;if($t=0,_n=null,rr(t,T,k,U),i&&nr){v=0;break t}break;default:U=$t,$t=0,_n=null,rr(t,T,k,U)}}Jg(),v=pe;break}catch(K){hm(t,K)}while(!0);return e&&t.shellSuspendCounter++,qn=ri=null,Kt=r,I.H=h,I.A=d,zt===null&&(ee=null,Pt=0,ts()),v}function Jg(){for(;zt!==null;)pm(zt)}function Qg(t,e){var i=Kt;Kt|=2;var r=fm(),h=mm();ee!==t||Pt!==e?(Fl=null,Wl=Ke()+500,sr(t,e)):nr=La(t,e);t:do try{if($t!==0&&zt!==null){e=zt;var d=_n;e:switch($t){case 1:$t=0,_n=null,rr(t,e,d,1);break;case 2:case 9:if(Td(d)){$t=0,_n=null,gm(e);break}e=function(){$t!==2&&$t!==9||ee!==t||($t=7),li(t)},d.then(e,e);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:Td(d)?($t=0,_n=null,gm(e)):($t=0,_n=null,rr(t,e,d,7));break;case 5:var v=null;switch(zt.tag){case 26:v=zt.memoizedState;case 5:case 27:var T=zt;if(v?ep(v):T.stateNode.complete){$t=0,_n=null;var k=T.sibling;if(k!==null)zt=k;else{var U=T.return;U!==null?(zt=U,nu(U)):zt=null}break e}}$t=0,_n=null,rr(t,e,d,5);break;case 6:$t=0,_n=null,rr(t,e,d,6);break;case 8:dh(),pe=6;break t;default:throw Error(u(462))}}Wg();break}catch(K){hm(t,K)}while(!0);return qn=ri=null,I.H=r,I.A=h,Kt=i,zt!==null?0:(ee=null,Pt=0,ts(),pe)}function Wg(){for(;zt!==null&&!$o();)pm(zt)}function pm(t){var e=Pf(t.alternate,t,Ri);t.memoizedProps=t.pendingProps,e===null?nu(t):zt=e}function gm(t){var e=t,i=e.alternate;switch(e.tag){case 15:case 0:e=Rf(i,e,e.pendingProps,e.type,void 0,Pt);break;case 11:e=Rf(i,e,e.pendingProps,e.type.render,e.ref,Pt);break;case 5:kc(e);default:qf(i,e),e=zt=Wr(e,Ri),e=Pf(i,e,Ri)}t.memoizedProps=t.pendingProps,e===null?nu(t):zt=e}function rr(t,e,i,r){qn=ri=null,kc(e),Xs=null,so=0;var h=e.return;try{if(Hg(t,h,e,i,Pt)){pe=1,Il(t,s(i,t.current)),zt=null;return}}catch(d){if(h!==null)throw zt=h,d;pe=1,Il(t,s(i,t.current)),zt=null;return}e.flags&32768?(Rt||r===1?t=!0:nr||(Pt&536870912)!==0?t=!1:(ha=t=!0,(r===2||r===9||r===3||r===6)&&(r=pn.current,r!==null&&r.tag===13&&(r.flags|=16384))),_m(e,t)):nu(e)}function nu(t){var e=t;do{if((e.flags&32768)!==0){_m(e,ha);return}t=e.return;var i=Ig(e.alternate,e,Ri);if(i!==null){zt=i;return}if(e=e.sibling,e!==null){zt=e;return}zt=e=t}while(e!==null);pe===0&&(pe=5)}function _m(t,e){do{var i=Gg(t.alternate,t);if(i!==null){i.flags&=32767,zt=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!e&&(t=t.sibling,t!==null)){zt=t;return}zt=t=i}while(t!==null);pe=6,zt=null}function vm(t,e,i,r,h,d,v,T,k){t.cancelPendingCommit=null;do iu();while(Ne!==0);if((Kt&6)!==0)throw Error(u(327));if(e!==null){if(e===t.current)throw Error(u(177));if(d=e.lanes|e.childLanes,d|=qs,Xu(t,i,d,v,T,k),t===ee&&(zt=ee=null,Pt=0),ar=e,ma=t,zi=i,uh=d,ch=h,om=r,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,n_(Oa,function(){return Sm(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||r){r=I.T,I.T=null,h=at.p,at.p=2,v=Kt,Kt|=4;try{Vg(t,e,i)}finally{Kt=v,at.p=h,I.T=r}}Ne=1,ym(),bm(),xm()}}function ym(){if(Ne===1){Ne=0;var t=ma,e=ar,i=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||i){i=I.T,I.T=null;var r=at.p;at.p=2;var h=Kt;Kt|=4;try{Ff(e,t);var d=Eh,v=Xa(t.containerInfo),T=d.focusedElem,k=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Us(T.ownerDocument.documentElement,T)){if(k!==null&&Fn(T)){var U=k.start,K=k.end;if(K===void 0&&(K=U),"selectionStart"in T)T.selectionStart=U,T.selectionEnd=Math.min(K,T.value.length);else{var X=T.ownerDocument||document,P=X&&X.defaultView||window;if(P.getSelection){var Z=P.getSelection(),ct=T.textContent.length,vt=Math.min(k.start,ct),Ft=k.end===void 0?vt:Math.min(k.end,ct);!Z.extend&&vt>Ft&&(v=Ft,Ft=vt,vt=v);var z=$a(T,vt),C=$a(T,Ft);if(z&&C&&(Z.rangeCount!==1||Z.anchorNode!==z.node||Z.anchorOffset!==z.offset||Z.focusNode!==C.node||Z.focusOffset!==C.offset)){var D=X.createRange();D.setStart(z.node,z.offset),Z.removeAllRanges(),vt>Ft?(Z.addRange(D),Z.extend(C.node,C.offset)):(D.setEnd(C.node,C.offset),Z.addRange(D))}}}}for(X=[],Z=T;Z=Z.parentNode;)Z.nodeType===1&&X.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var Y=X[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}pu=!!Th,Eh=Th=null}finally{Kt=h,at.p=r,I.T=i}}t.current=e,Ne=2}}function bm(){if(Ne===2){Ne=0;var t=ma,e=ar,i=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||i){i=I.T,I.T=null;var r=at.p;at.p=2;var h=Kt;Kt|=4;try{$f(t,e.alternate,e)}finally{Kt=h,at.p=r,I.T=i}}Ne=3}}function xm(){if(Ne===4||Ne===3){Ne=0,Xo();var t=ma,e=ar,i=zi,r=om;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?Ne=5:(Ne=0,ar=ma=null,wm(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(fa=null),ft(i),e=e.stateNode,De&&typeof De.onCommitFiberRoot=="function")try{De.onCommitFiberRoot(Pi,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=I.T,h=at.p,at.p=2,I.T=null;try{for(var d=t.onRecoverableError,v=0;v<r.length;v++){var T=r[v];d(T.value,{componentStack:T.stack})}}finally{I.T=e,at.p=h}}(zi&3)!==0&&iu(),li(t),h=t.pendingLanes,(i&261930)!==0&&(h&42)!==0?t===hh?So++:(So=0,hh=t):So=0,To(0)}}function wm(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,io(e)))}function iu(){return ym(),bm(),xm(),Sm()}function Sm(){if(Ne!==5)return!1;var t=ma,e=uh;uh=0;var i=ft(zi),r=I.T,h=at.p;try{at.p=32>i?32:i,I.T=null,i=ch,ch=null;var d=ma,v=zi;if(Ne=0,ar=ma=null,zi=0,(Kt&6)!==0)throw Error(u(331));var T=Kt;if(Kt|=4,am(d.current),em(d,d.current,v,i),Kt=T,To(0,!1),De&&typeof De.onPostCommitFiberRoot=="function")try{De.onPostCommitFiberRoot(Pi,d)}catch{}return!0}finally{at.p=h,I.T=r,wm(t,e)}}function Tm(t,e,i){e=s(i,e),e=Ic(t.stateNode,e,2),t=oa(t,e,2),t!==null&&(fi(t,2),li(t))}function Xt(t,e,i){if(t.tag===3)Tm(t,t,i);else for(;e!==null;){if(e.tag===3){Tm(e,t,i);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fa===null||!fa.has(r))){t=s(i,t),i=Ef(2),r=oa(e,i,2),r!==null&&(Af(i,r,e,t),fi(r,2),li(r));break}}e=e.return}}function mh(t,e,i){var r=t.pingCache;if(r===null){r=t.pingCache=new $g;var h=new Set;r.set(e,h)}else h=r.get(e),h===void 0&&(h=new Set,r.set(e,h));h.has(i)||(rh=!0,h.add(i),t=Fg.bind(null,t,e,i),e.then(t,t))}function Fg(t,e,i){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,ee===t&&(Pt&i)===i&&(pe===4||pe===3&&(Pt&62914560)===Pt&&300>Ke()-Ql?(Kt&2)===0&&sr(t,0):oh|=i,ir===Pt&&(ir=0)),li(t)}function Em(t,e){e===0&&(e=Qo()),t=kn(t,e),t!==null&&(fi(t,e),li(t))}function t_(t){var e=t.memoizedState,i=0;e!==null&&(i=e.retryLane),Em(t,i)}function e_(t,e){var i=0;switch(t.tag){case 31:case 13:var r=t.stateNode,h=t.memoizedState;h!==null&&(i=h.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(u(314))}r!==null&&r.delete(e),Em(t,i)}function n_(t,e){return Ss(t,e)}var au=null,or=null,ph=!1,su=!1,gh=!1,ga=0;function li(t){t!==or&&t.next===null&&(or===null?au=or=t:or=or.next=t),su=!0,ph||(ph=!0,a_())}function To(t,e){if(!gh&&su){gh=!0;do for(var i=!1,r=au;r!==null;){if(t!==0){var h=r.pendingLanes;if(h===0)var d=0;else{var v=r.suspendedLanes,T=r.pingedLanes;d=(1<<31-Ye(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(i=!0,Nm(r,d))}else d=Pt,d=Es(r,r===ee?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(d&3)===0||La(r,d)||(i=!0,Nm(r,d));r=r.next}while(i);gh=!1}}function i_(){Am()}function Am(){su=ph=!1;var t=0;ga!==0&&m_()&&(t=ga);for(var e=Ke(),i=null,r=au;r!==null;){var h=r.next,d=Om(r,e);d===0?(r.next=null,i===null?au=h:i.next=h,h===null&&(or=i)):(i=r,(t!==0||(d&3)!==0)&&(su=!0)),r=h}Ne!==0&&Ne!==5||To(t),ga!==0&&(ga=0)}function Om(t,e){for(var i=t.suspendedLanes,r=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Ye(d),T=1<<v,k=h[v];k===-1?((T&i)===0||(T&r)!==0)&&(h[v]=$u(T,e)):k<=e&&(t.expiredLanes|=T),d&=~T}if(e=ee,i=Pt,i=Es(t,t===e?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,i===0||t===e&&($t===2||$t===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Aa(r),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||La(t,i)){if(e=i&-i,e===t.callbackPriority)return e;switch(r!==null&&Aa(r),ft(i)){case 2:case 8:i=Nr;break;case 32:i=Oa;break;case 268435456:i=jr;break;default:i=Oa}return r=km.bind(null,t),i=Ss(i,r),t.callbackPriority=e,t.callbackNode=i,e}return r!==null&&r!==null&&Aa(r),t.callbackPriority=2,t.callbackNode=null,2}function km(t,e){if(Ne!==0&&Ne!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(iu()&&t.callbackNode!==i)return null;var r=Pt;return r=Es(t,t===ee?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(um(t,r,e),Om(t,Ke()),t.callbackNode!=null&&t.callbackNode===i?km.bind(null,t):null)}function Nm(t,e){if(iu())return null;um(t,e,!0)}function a_(){g_(function(){(Kt&6)!==0?Ss(Ts,i_):Am()})}function _h(){if(ga===0){var t=Ks;t===0&&(t=Na,Na<<=1,(Na&261888)===0&&(Na=256)),ga=t}return ga}function jm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Vi(""+t)}function Cm(t,e){var i=e.ownerDocument.createElement("input");return i.name=e.name,i.value=e.value,t.id&&i.setAttribute("form",t.id),e.parentNode.insertBefore(i,e),t=new FormData(t),i.parentNode.removeChild(i),t}function s_(t,e,i,r,h){if(e==="submit"&&i&&i.stateNode===h){var d=jm((h[Le]||null).action),v=r.submitter;v&&(e=(e=v[Le]||null)?jm(e.formAction):v.getAttribute("formAction"),e!==null&&(d=e,v=null));var T=new js("action","action",null,r,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ga!==0){var k=v?Cm(h,v):new FormData(h);Uc(i,{pending:!0,data:k,method:h.method,action:d},null,k)}}else typeof d=="function"&&(T.preventDefault(),k=v?Cm(h,v):new FormData(h),Uc(i,{pending:!0,data:k,method:h.method,action:d},d,k))},currentTarget:h}]})}}for(var vh=0;vh<ni.length;vh++){var yh=ni[vh],r_=yh.toLowerCase(),o_=yh[0].toUpperCase()+yh.slice(1);en(r_,"on"+o_)}en(Qa,"onAnimationEnd"),en(Sl,"onAnimationIteration"),en(Wa,"onAnimationStart"),en("dblclick","onDoubleClick"),en("focusin","onFocus"),en("focusout","onBlur"),en(lc,"onTransitionRun"),en(Tl,"onTransitionStart"),en(uc,"onTransitionCancel"),en(na,"onTransitionEnd"),Xn("onMouseEnter",["mouseout","mouseover"]),Xn("onMouseLeave",["mouseout","mouseover"]),Xn("onPointerEnter",["pointerout","pointerover"]),Xn("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Eo));function Lm(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var r=t[i],h=r.event;r=r.listeners;t:{var d=void 0;if(e)for(var v=r.length-1;0<=v;v--){var T=r[v],k=T.instance,U=T.currentTarget;if(T=T.listener,k!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=U;try{d(h)}catch(K){Fa(K)}h.currentTarget=null,d=k}else for(v=0;v<r.length;v++){if(T=r[v],k=T.instance,U=T.currentTarget,T=T.listener,k!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=U;try{d(h)}catch(K){Fa(K)}h.currentTarget=null,d=k}}}}function Mt(t,e){var i=e[Yn];i===void 0&&(i=e[Yn]=new Set);var r=t+"__bubble";i.has(r)||(Rm(e,t,2,!1),i.add(r))}function bh(t,e,i){var r=0;e&&(r|=4),Rm(i,t,r,e)}var ru="_reactListening"+Math.random().toString(36).slice(2);function xh(t){if(!t[ru]){t[ru]=!0,il.forEach(function(i){i!=="selectionchange"&&(l_.has(i)||bh(i,!1,t),bh(i,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ru]||(e[ru]=!0,bh("selectionchange",!1,e))}}function Rm(t,e,i,r){switch(lp(e)){case 2:var h=D_;break;case 8:h=U_;break;default:h=Dh}i=h.bind(null,e,i,t),h=void 0,!Pa||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(h=!0),r?h!==void 0?t.addEventListener(e,i,{capture:!0,passive:h}):t.addEventListener(e,i,!0):h!==void 0?t.addEventListener(e,i,{passive:h}):t.addEventListener(e,i,!1)}function wh(t,e,i,r,h){var d=r;if((e&1)===0&&(e&2)===0&&r!==null)t:for(;;){if(r===null)return;var v=r.tag;if(v===3||v===4){var T=r.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=r.return;v!==null;){var k=v.tag;if((k===3||k===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=pi(T),v===null)return;if(k=v.tag,k===5||k===6||k===26||k===27){r=d=v;continue t}T=T.parentNode}}r=r.return}qr(function(){var U=d,K=Ba(i),X=[];t:{var P=El.get(t);if(P!==void 0){var Z=js,ct=t;switch(t){case"keypress":if(Ha(i)===0)break t;case"keydown":case"keyup":Z=hl;break;case"focusin":ct="focus",Z=Gr;break;case"focusout":ct="blur",Z=Gr;break;case"beforeblur":case"afterblur":Z=Gr;break;case"click":if(i.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=rl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Qu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=nc;break;case Qa:case Sl:case Wa:Z=Vr;break;case na:Z=ml;break;case"scroll":case"scrollend":Z=Bt;break;case"wheel":Z=bi;break;case"copy":case"cut":case"paste":Z=Tn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=dl;break;case"toggle":case"beforetoggle":Z=Ia}var vt=(e&4)!==0,Ft=!vt&&(t==="scroll"||t==="scrollend"),z=vt?P!==null?P+"Capture":null:P;vt=[];for(var C=U,D;C!==null;){var Y=C;if(D=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||D===null||z===null||(Y=vi(C,z),Y!=null&&vt.push(Ao(C,Y,D))),Ft)break;C=C.return}0<vt.length&&(P=new Z(P,ct,null,i,K),X.push({event:P,listeners:vt}))}}if((e&7)===0){t:{if(P=t==="mouseover"||t==="pointerover",Z=t==="mouseout"||t==="pointerout",P&&i!==Ns&&(ct=i.relatedTarget||i.fromElement)&&(pi(ct)||ct[mi]))break t;if((Z||P)&&(P=K.window===K?K:(P=K.ownerDocument)?P.defaultView||P.parentWindow:window,Z?(ct=i.relatedTarget||i.toElement,Z=U,ct=ct?pi(ct):null,ct!==null&&(Ft=p(ct),vt=ct.tag,ct!==Ft||vt!==5&&vt!==27&&vt!==6)&&(ct=null)):(Z=null,ct=U),Z!==ct)){if(vt=rl,Y="onMouseLeave",z="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(vt=dl,Y="onPointerLeave",z="onPointerEnter",C="pointer"),Ft=Z==null?P:$n(Z),D=ct==null?P:$n(ct),P=new vt(Y,C+"leave",Z,i,K),P.target=Ft,P.relatedTarget=D,Y=null,pi(K)===U&&(vt=new vt(z,C+"enter",ct,i,K),vt.target=D,vt.relatedTarget=Ft,Y=vt),Ft=Y,Z&&ct)e:{for(vt=u_,z=Z,C=ct,D=0,Y=z;Y;Y=vt(Y))D++;Y=0;for(var _t=C;_t;_t=vt(_t))Y++;for(;0<D-Y;)z=vt(z),D--;for(;0<Y-D;)C=vt(C),Y--;for(;D--;){if(z===C||C!==null&&z===C.alternate){vt=z;break e}z=vt(z),C=vt(C)}vt=null}else vt=null;Z!==null&&zm(X,P,Z,vt,!1),ct!==null&&Ft!==null&&zm(X,Ft,ct,vt,!0)}}t:{if(P=U?$n(U):window,Z=P.nodeName&&P.nodeName.toLowerCase(),Z==="select"||Z==="input"&&P.type==="file")var It=Ya;else if(En(P))if(vl)It=oc;else{It=rc;var dt=Bn}else Z=P.nodeName,!Z||Z.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?U&&Ua(U.elementType)&&(It=Ya):It=Wi;if(It&&(It=It(t,U))){_l(X,It,i,K);break t}dt&&dt(t,P,U),t==="focusout"&&U&&P.type==="number"&&U.memoizedProps.value!=null&&Mn(P,"number",P.value)}switch(dt=U?$n(U):window,t){case"focusin":(En(dt)||dt.contentEditable==="true")&&(ti=dt,Ps=U,Ja=null);break;case"focusout":Ja=Ps=ti=null;break;case"mousedown":ta=!0;break;case"contextmenu":case"mouseup":case"dragend":ta=!1,xl(X,i,K);break;case"selectionchange":if(Bs)break;case"keydown":case"keyup":xl(X,i,K)}var kt;if(Ls)t:{switch(t){case"compositionstart":var Ht="onCompositionStart";break t;case"compositionend":Ht="onCompositionEnd";break t;case"compositionupdate":Ht="onCompositionUpdate";break t}Ht=void 0}else Xi?gl(t,i)&&(Ht="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(Ht="onCompositionStart");Ht&&(Rs&&i.locale!=="ko"&&(Xi||Ht!=="onCompositionStart"?Ht==="onCompositionEnd"&&Xi&&(kt=Qn()):(Sn=K,yi="value"in Sn?Sn.value:Sn.textContent,Xi=!0)),dt=ou(U,Ht),0<dt.length&&(Ht=new Kr(Ht,t,null,i,K),X.push({event:Ht,listeners:dt}),kt?Ht.data=kt:(kt=Jr(i),kt!==null&&(Ht.data=kt)))),(kt=ac?mn(t,i):Ji(t,i))&&(Ht=ou(U,"onBeforeInput"),0<Ht.length&&(dt=new Kr("onBeforeInput","beforeinput",null,i,K),X.push({event:dt,listeners:Ht}),dt.data=kt)),s_(X,t,U,i,K)}Lm(X,e)})}function Ao(t,e,i){return{instance:t,listener:e,currentTarget:i}}function ou(t,e){for(var i=e+"Capture",r=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=vi(t,i),h!=null&&r.unshift(Ao(t,h,d)),h=vi(t,e),h!=null&&r.push(Ao(t,h,d))),t.tag===3)return r;t=t.return}return[]}function u_(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function zm(t,e,i,r,h){for(var d=e._reactName,v=[];i!==null&&i!==r;){var T=i,k=T.alternate,U=T.stateNode;if(T=T.tag,k!==null&&k===r)break;T!==5&&T!==26&&T!==27||U===null||(k=U,h?(U=vi(i,d),U!=null&&v.unshift(Ao(i,U,k))):h||(U=vi(i,d),U!=null&&v.push(Ao(i,U,k)))),i=i.return}v.length!==0&&t.push({event:e,listeners:v})}var c_=/\r\n?/g,h_=/\u0000|\uFFFD/g;function Mm(t){return(typeof t=="string"?t:""+t).replace(c_,`
`).replace(h_,"")}function Dm(t,e){return e=Mm(e),Mm(t)===e}function Wt(t,e,i,r,h,d){switch(i){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||wn(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&wn(t,""+r);break;case"className":Jt(t,"class",r);break;case"tabIndex":Jt(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Jt(t,i,r);break;case"style":Os(t,r,d);break;case"data":if(e!=="object"){Jt(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||i!=="href")){t.removeAttribute(i);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(i);break}r=Vi(""+r),t.setAttribute(i,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(i==="formAction"?(e!=="input"&&Wt(t,e,"name",h.name,h,null),Wt(t,e,"formEncType",h.formEncType,h,null),Wt(t,e,"formMethod",h.formMethod,h,null),Wt(t,e,"formTarget",h.formTarget,h,null)):(Wt(t,e,"encType",h.encType,h,null),Wt(t,e,"method",h.method,h,null),Wt(t,e,"target",h.target,h,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(i);break}r=Vi(""+r),t.setAttribute(i,r);break;case"onClick":r!=null&&(t.onclick=Fe);break;case"onScroll":r!=null&&Mt("scroll",t);break;case"onScrollEnd":r!=null&&Mt("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(u(61));if(i=r.__html,i!=null){if(h.children!=null)throw Error(u(60));t.innerHTML=i}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}i=Vi(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(i,""+r):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":r===!0?t.setAttribute(i,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(i,r):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(i,r):t.removeAttribute(i);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(i):t.setAttribute(i,r);break;case"popover":Mt("beforetoggle",t),Mt("toggle",t),Lt(t,"popover",r);break;case"xlinkActuate":We(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":We(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":We(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":We(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":We(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":We(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":We(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":We(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":We(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Lt(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=ks.get(i)||i,Lt(t,i,r))}}function Sh(t,e,i,r,h,d){switch(i){case"style":Os(t,r,d);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(u(61));if(i=r.__html,i!=null){if(h.children!=null)throw Error(u(60));t.innerHTML=i}}break;case"children":typeof r=="string"?wn(t,r):(typeof r=="number"||typeof r=="bigint")&&wn(t,""+r);break;case"onScroll":r!=null&&Mt("scroll",t);break;case"onScrollEnd":r!=null&&Mt("scrollend",t);break;case"onClick":r!=null&&(t.onclick=Fe);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!al.hasOwnProperty(i))t:{if(i[0]==="o"&&i[1]==="n"&&(h=i.endsWith("Capture"),e=i.slice(2,h?i.length-7:void 0),d=t[Le]||null,d=d!=null?d[i]:null,typeof d=="function"&&t.removeEventListener(e,d,h),typeof r=="function")){typeof d!="function"&&d!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(e,r,h);break t}i in t?t[i]=r:r===!0?t.setAttribute(i,""):Lt(t,i,r)}}}function He(t,e,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",t),Mt("load",t);var r=!1,h=!1,d;for(d in i)if(i.hasOwnProperty(d)){var v=i[d];if(v!=null)switch(d){case"src":r=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(u(137,e));default:Wt(t,e,d,v,i,null)}}h&&Wt(t,e,"srcSet",i.srcSet,i,null),r&&Wt(t,e,"src",i.src,i,null);return;case"input":Mt("invalid",t);var T=d=v=h=null,k=null,U=null;for(r in i)if(i.hasOwnProperty(r)){var K=i[r];if(K!=null)switch(r){case"name":h=K;break;case"type":v=K;break;case"checked":k=K;break;case"defaultChecked":U=K;break;case"value":d=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(u(137,e));break;default:Wt(t,e,r,K,i,null)}}Da(t,d,T,k,U,v,h,!1);return;case"select":Mt("invalid",t),r=v=d=null;for(h in i)if(i.hasOwnProperty(h)&&(T=i[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":r=T;default:Wt(t,e,h,T,i,null)}e=d,i=v,t.multiple=!!r,e!=null?te(t,!!r,e,!1):i!=null&&te(t,!!r,i,!0);return;case"textarea":Mt("invalid",t),d=h=r=null;for(v in i)if(i.hasOwnProperty(v)&&(T=i[v],T!=null))switch(v){case"value":r=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(u(91));break;default:Wt(t,e,v,T,i,null)}Ii(t,r,h,d);return;case"option":for(k in i)if(i.hasOwnProperty(k)&&(r=i[k],r!=null))switch(k){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Wt(t,e,k,r,i,null)}return;case"dialog":Mt("beforetoggle",t),Mt("toggle",t),Mt("cancel",t),Mt("close",t);break;case"iframe":case"object":Mt("load",t);break;case"video":case"audio":for(r=0;r<Eo.length;r++)Mt(Eo[r],t);break;case"image":Mt("error",t),Mt("load",t);break;case"details":Mt("toggle",t);break;case"embed":case"source":case"link":Mt("error",t),Mt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in i)if(i.hasOwnProperty(U)&&(r=i[U],r!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(u(137,e));default:Wt(t,e,U,r,i,null)}return;default:if(Ua(e)){for(K in i)i.hasOwnProperty(K)&&(r=i[K],r!==void 0&&Sh(t,e,K,r,i,void 0));return}}for(T in i)i.hasOwnProperty(T)&&(r=i[T],r!=null&&Wt(t,e,T,r,i,null))}function d_(t,e,i,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,k=null,U=null,K=null;for(Z in i){var X=i[Z];if(i.hasOwnProperty(Z)&&X!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":k=X;default:r.hasOwnProperty(Z)||Wt(t,e,Z,null,r,X)}}for(var P in r){var Z=r[P];if(X=i[P],r.hasOwnProperty(P)&&(Z!=null||X!=null))switch(P){case"type":d=Z;break;case"name":h=Z;break;case"checked":U=Z;break;case"defaultChecked":K=Z;break;case"value":v=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(u(137,e));break;default:Z!==X&&Wt(t,e,P,Z,r,X)}}Br(t,v,T,k,U,K,d,h);return;case"select":Z=v=T=P=null;for(d in i)if(k=i[d],i.hasOwnProperty(d)&&k!=null)switch(d){case"value":break;case"multiple":Z=k;default:r.hasOwnProperty(d)||Wt(t,e,d,null,r,k)}for(h in r)if(d=r[h],k=i[h],r.hasOwnProperty(h)&&(d!=null||k!=null))switch(h){case"value":P=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==k&&Wt(t,e,h,d,r,k)}e=T,i=v,r=Z,P!=null?te(t,!!i,P,!1):!!r!=!!i&&(e!=null?te(t,!!i,e,!0):te(t,!!i,i?[]:"",!1));return;case"textarea":Z=P=null;for(T in i)if(h=i[T],i.hasOwnProperty(T)&&h!=null&&!r.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Wt(t,e,T,null,r,h)}for(v in r)if(h=r[v],d=i[v],r.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":P=h;break;case"defaultValue":Z=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(u(91));break;default:h!==d&&Wt(t,e,v,h,r,d)}Jn(t,P,Z);return;case"option":for(var ct in i)if(P=i[ct],i.hasOwnProperty(ct)&&P!=null&&!r.hasOwnProperty(ct))switch(ct){case"selected":t.selected=!1;break;default:Wt(t,e,ct,null,r,P)}for(k in r)if(P=r[k],Z=i[k],r.hasOwnProperty(k)&&P!==Z&&(P!=null||Z!=null))switch(k){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Wt(t,e,k,P,r,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in i)P=i[vt],i.hasOwnProperty(vt)&&P!=null&&!r.hasOwnProperty(vt)&&Wt(t,e,vt,null,r,P);for(U in r)if(P=r[U],Z=i[U],r.hasOwnProperty(U)&&P!==Z&&(P!=null||Z!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(u(137,e));break;default:Wt(t,e,U,P,r,Z)}return;default:if(Ua(e)){for(var Ft in i)P=i[Ft],i.hasOwnProperty(Ft)&&P!==void 0&&!r.hasOwnProperty(Ft)&&Sh(t,e,Ft,void 0,r,P);for(K in r)P=r[K],Z=i[K],!r.hasOwnProperty(K)||P===Z||P===void 0&&Z===void 0||Sh(t,e,K,P,r,Z);return}}for(var z in i)P=i[z],i.hasOwnProperty(z)&&P!=null&&!r.hasOwnProperty(z)&&Wt(t,e,z,null,r,P);for(X in r)P=r[X],Z=i[X],!r.hasOwnProperty(X)||P===Z||P==null&&Z==null||Wt(t,e,X,P,r,Z)}function Um(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function f_(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,i=performance.getEntriesByType("resource"),r=0;r<i.length;r++){var h=i[r],d=h.transferSize,v=h.initiatorType,T=h.duration;if(d&&T&&Um(v)){for(v=0,T=h.responseEnd,r+=1;r<i.length;r++){var k=i[r],U=k.startTime;if(U>T)break;var K=k.transferSize,X=k.initiatorType;K&&Um(X)&&(k=k.responseEnd,v+=K*(k<T?1:(T-U)/(k-U)))}if(--r,e+=8*(d+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Th=null,Eh=null;function lu(t){return t.nodeType===9?t:t.ownerDocument}function Bm(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pm(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Ah(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Oh=null;function m_(){var t=window.event;return t&&t.type==="popstate"?t===Oh?!1:(Oh=t,!0):(Oh=null,!1)}var Hm=typeof setTimeout=="function"?setTimeout:void 0,p_=typeof clearTimeout=="function"?clearTimeout:void 0,qm=typeof Promise=="function"?Promise:void 0,g_=typeof queueMicrotask=="function"?queueMicrotask:typeof qm<"u"?function(t){return qm.resolve(null).then(t).catch(__)}:Hm;function __(t){setTimeout(function(){throw t})}function _a(t){return t==="head"}function Zm(t,e){var i=e,r=0;do{var h=i.nextSibling;if(t.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"||i==="/&"){if(r===0){t.removeChild(h),hr(e);return}r--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")r++;else if(i==="html")Oo(t.ownerDocument.documentElement);else if(i==="head"){i=t.ownerDocument.head,Oo(i);for(var d=i.firstChild;d;){var v=d.nextSibling,T=d.nodeName;d[Ra]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||i.removeChild(d),d=v}}else i==="body"&&Oo(t.ownerDocument.body);i=h}while(i);hr(e)}function Im(t,e){var i=t;t=0;do{var r=i.nextSibling;if(i.nodeType===1?e?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(e?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),r&&r.nodeType===8)if(i=r.data,i==="/$"){if(t===0)break;t--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||t++;i=r}while(i)}function kh(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var i=e;switch(e=e.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":kh(i),zr(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function v_(t,e,i,r){for(;t.nodeType===1;){var h=i;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Ra])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Cn(t.nextSibling),t===null)break}return null}function y_(t,e,i){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Cn(t.nextSibling),t===null))return null;return t}function Gm(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Cn(t.nextSibling),t===null))return null;return t}function Nh(t){return t.data==="$?"||t.data==="$~"}function jh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function b_(t,e){var i=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||i.readyState!=="loading")e();else{var r=function(){e(),i.removeEventListener("DOMContentLoaded",r)};i.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Cn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Ch=null;function Vm(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"||i==="/&"){if(e===0)return Cn(t.nextSibling);e--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||e++}t=t.nextSibling}return null}function Km(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(e===0)return t;e--}else i!=="/$"&&i!=="/&"||e++}t=t.previousSibling}return null}function Ym(t,e,i){switch(e=lu(i),t){case"html":if(t=e.documentElement,!t)throw Error(u(452));return t;case"head":if(t=e.head,!t)throw Error(u(453));return t;case"body":if(t=e.body,!t)throw Error(u(454));return t;default:throw Error(u(451))}}function Oo(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);zr(t)}var Ln=new Map,$m=new Set;function uu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Mi=at.d;at.d={f:x_,r:w_,D:S_,C:T_,L:E_,m:A_,X:k_,S:O_,M:N_};function x_(){var t=Mi.f(),e=tu();return t||e}function w_(t){var e=Hi(t);e!==null&&e.tag===5&&e.type==="form"?hf(e):Mi.r(t)}var lr=typeof document>"u"?null:document;function Xm(t,e,i){var r=lr;if(r&&typeof e=="string"&&e){var h=ie(e);h='link[rel="'+t+'"][href="'+h+'"]',typeof i=="string"&&(h+='[crossorigin="'+i+'"]'),$m.has(h)||($m.add(h),t={rel:t,crossOrigin:i,href:e},r.querySelector(h)===null&&(e=r.createElement("link"),He(e,"link",t),xe(e),r.head.appendChild(e)))}}function S_(t){Mi.D(t),Xm("dns-prefetch",t,null)}function T_(t,e){Mi.C(t,e),Xm("preconnect",t,e)}function E_(t,e,i){Mi.L(t,e,i);var r=lr;if(r&&t&&e){var h='link[rel="preload"][as="'+ie(e)+'"]';e==="image"&&i&&i.imageSrcSet?(h+='[imagesrcset="'+ie(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(h+='[imagesizes="'+ie(i.imageSizes)+'"]')):h+='[href="'+ie(t)+'"]';var d=h;switch(e){case"style":d=ur(t);break;case"script":d=cr(t)}Ln.has(d)||(t=E({rel:"preload",href:e==="image"&&i&&i.imageSrcSet?void 0:t,as:e},i),Ln.set(d,t),r.querySelector(h)!==null||e==="style"&&r.querySelector(ko(d))||e==="script"&&r.querySelector(No(d))||(e=r.createElement("link"),He(e,"link",t),xe(e),r.head.appendChild(e)))}}function A_(t,e){Mi.m(t,e);var i=lr;if(i&&t){var r=e&&typeof e.as=="string"?e.as:"script",h='link[rel="modulepreload"][as="'+ie(r)+'"][href="'+ie(t)+'"]',d=h;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=cr(t)}if(!Ln.has(d)&&(t=E({rel:"modulepreload",href:t},e),Ln.set(d,t),i.querySelector(h)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(No(d)))return}r=i.createElement("link"),He(r,"link",t),xe(r),i.head.appendChild(r)}}}function O_(t,e,i){Mi.S(t,e,i);var r=lr;if(r&&t){var h=qi(r).hoistableStyles,d=ur(t);e=e||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=r.querySelector(ko(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":e},i),(i=Ln.get(d))&&Lh(t,i);var k=v=r.createElement("link");xe(k),He(k,"link",t),k._p=new Promise(function(U,K){k.onload=U,k.onerror=K}),k.addEventListener("load",function(){T.loading|=1}),k.addEventListener("error",function(){T.loading|=2}),T.loading|=4,cu(v,e,r)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function k_(t,e){Mi.X(t,e);var i=lr;if(i&&t){var r=qi(i).hoistableScripts,h=cr(t),d=r.get(h);d||(d=i.querySelector(No(h)),d||(t=E({src:t,async:!0},e),(e=Ln.get(h))&&Rh(t,e),d=i.createElement("script"),xe(d),He(d,"link",t),i.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},r.set(h,d))}}function N_(t,e){Mi.M(t,e);var i=lr;if(i&&t){var r=qi(i).hoistableScripts,h=cr(t),d=r.get(h);d||(d=i.querySelector(No(h)),d||(t=E({src:t,async:!0,type:"module"},e),(e=Ln.get(h))&&Rh(t,e),d=i.createElement("script"),xe(d),He(d,"link",t),i.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},r.set(h,d))}}function Jm(t,e,i,r){var h=(h=ot.current)?uu(h):null;if(!h)throw Error(u(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(e=ur(i.href),i=qi(h).hoistableStyles,r=i.get(e),r||(r={type:"style",instance:null,count:0,state:null},i.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=ur(i.href);var d=qi(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(ko(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Ln.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Ln.set(t,i),d||j_(h,t,i,v.state))),e&&r===null)throw Error(u(528,""));return v}if(e&&r!==null)throw Error(u(529,""));return null;case"script":return e=i.async,i=i.src,typeof i=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=cr(i),i=qi(h).hoistableScripts,r=i.get(e),r||(r={type:"script",instance:null,count:0,state:null},i.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(u(444,t))}}function ur(t){return'href="'+ie(t)+'"'}function ko(t){return'link[rel="stylesheet"]['+t+"]"}function Qm(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function j_(t,e,i,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),He(e,"link",i),xe(e),t.head.appendChild(e))}function cr(t){return'[src="'+ie(t)+'"]'}function No(t){return"script[async]"+t}function Wm(t,e,i){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+ie(i.href)+'"]');if(r)return e.instance=r,xe(r),r;var h=E({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),xe(r),He(r,"style",h),cu(r,i.precedence,t),e.instance=r;case"stylesheet":h=ur(i.href);var d=t.querySelector(ko(h));if(d)return e.state.loading|=4,e.instance=d,xe(d),d;r=Qm(i),(h=Ln.get(h))&&Lh(r,h),d=(t.ownerDocument||t).createElement("link"),xe(d);var v=d;return v._p=new Promise(function(T,k){v.onload=T,v.onerror=k}),He(d,"link",r),e.state.loading|=4,cu(d,i.precedence,t),e.instance=d;case"script":return d=cr(i.src),(h=t.querySelector(No(d)))?(e.instance=h,xe(h),h):(r=i,(h=Ln.get(d))&&(r=E({},i),Rh(r,h)),t=t.ownerDocument||t,h=t.createElement("script"),xe(h),He(h,"link",r),t.head.appendChild(h),e.instance=h);case"void":return null;default:throw Error(u(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(r=e.instance,e.state.loading|=4,cu(r,i.precedence,t));return e.instance}function cu(t,e,i){for(var r=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=r.length?r[r.length-1]:null,d=h,v=0;v<r.length;v++){var T=r[v];if(T.dataset.precedence===e)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(e=i.nodeType===9?i.head:i,e.insertBefore(t,e.firstChild))}function Lh(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Rh(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var hu=null;function Fm(t,e,i){if(hu===null){var r=new Map,h=hu=new Map;h.set(i,r)}else h=hu,r=h.get(i),r||(r=new Map,h.set(i,r));if(r.has(t))return r;for(r.set(t,null),i=i.getElementsByTagName(t),h=0;h<i.length;h++){var d=i[h];if(!(d[Ra]||d[be]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(e)||"";v=t+v;var T=r.get(v);T?T.push(d):r.set(v,[d])}}return r}function tp(t,e,i){t=t.ownerDocument||t,t.head.insertBefore(i,e==="title"?t.querySelector("head > title"):null)}function C_(t,e,i){if(i===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function ep(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function L_(t,e,i,r){if(i.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=ur(r.href),d=e.querySelector(ko(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=du.bind(t),e.then(t,t)),i.state.loading|=4,i.instance=d,xe(d);return}d=e.ownerDocument||e,r=Qm(r),(h=Ln.get(h))&&Lh(r,h),d=d.createElement("link"),xe(d);var v=d;v._p=new Promise(function(T,k){v.onload=T,v.onerror=k}),He(d,"link",r),i.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(t.count++,i=du.bind(t),e.addEventListener("load",i),e.addEventListener("error",i))}}var zh=0;function R_(t,e){return t.stylesheets&&t.count===0&&mu(t,t.stylesheets),0<t.count||0<t.imgCount?function(i){var r=setTimeout(function(){if(t.stylesheets&&mu(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+e);0<t.imgBytes&&zh===0&&(zh=62500*f_());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&mu(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>zh?50:800)+e);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(h)}}:null}function du(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)mu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var fu=null;function mu(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,fu=new Map,e.forEach(z_,t),fu=null,du.call(t))}function z_(t,e){if(!(e.state.loading&4)){var i=fu.get(t);if(i)var r=i.get(null);else{i=new Map,fu.set(t,i);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(i.set(v.dataset.precedence,v),r=v)}r&&i.set(null,r)}h=e.instance,v=h.getAttribute("data-precedence"),d=i.get(v)||r,d===r&&i.set(null,h),i.set(v,h),this.count++,r=du.bind(this),h.addEventListener("load",r),h.addEventListener("error",r),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),e.state.loading|=4}}var jo={$$typeof:J,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function M_(t,e,i,r,h,d,v,T,k){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cr(0),this.hiddenUpdates=Cr(null),this.identifierPrefix=r,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function np(t,e,i,r,h,d,v,T,k,U,K,X){return t=new M_(t,e,i,v,k,U,K,X,T),e=1,d===!0&&(e|=24),d=Ge(3,null,null,e),t.current=d,d.stateNode=t,e=fc(),e.refCount++,t.pooledCache=e,e.refCount++,d.memoizedState={element:r,isDehydrated:i,cache:e},_c(d),t}function ip(t){return t?(t=xi,t):xi}function ap(t,e,i,r,h,d){h=ip(h),r.context===null?r.context=h:r.pendingContext=h,r=ra(e),r.payload={element:i},d=d===void 0?null:d,d!==null&&(r.callback=d),i=oa(t,r,e),i!==null&&(un(i,t,e),oo(i,t,e))}function sp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function Mh(t,e){sp(t,e),(t=t.alternate)&&sp(t,e)}function rp(t){if(t.tag===13||t.tag===31){var e=kn(t,67108864);e!==null&&un(e,t,67108864),Mh(t,67108864)}}function op(t){if(t.tag===13||t.tag===31){var e=yn();e=Qe(e);var i=kn(t,e);i!==null&&un(i,t,e),Mh(t,e)}}var pu=!0;function D_(t,e,i,r){var h=I.T;I.T=null;var d=at.p;try{at.p=2,Dh(t,e,i,r)}finally{at.p=d,I.T=h}}function U_(t,e,i,r){var h=I.T;I.T=null;var d=at.p;try{at.p=8,Dh(t,e,i,r)}finally{at.p=d,I.T=h}}function Dh(t,e,i,r){if(pu){var h=Uh(r);if(h===null)wh(t,e,r,gu,i),up(t,r);else if(P_(h,t,e,i,r))r.stopPropagation();else if(up(t,r),e&4&&-1<B_.indexOf(t)){for(;h!==null;){var d=Hi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=di(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var k=1<<31-Ye(v);T.entanglements[1]|=k,v&=~k}li(d),(Kt&6)===0&&(Wl=Ke()+500,To(0))}}break;case 31:case 13:T=kn(d,2),T!==null&&un(T,d,2),tu(),Mh(d,2)}if(d=Uh(r),d===null&&wh(t,e,r,gu,i),d===h)break;h=d}h!==null&&r.stopPropagation()}else wh(t,e,r,null,i)}}function Uh(t){return t=Ba(t),Bh(t)}var gu=null;function Bh(t){if(gu=null,t=pi(t),t!==null){var e=p(t);if(e===null)t=null;else{var i=e.tag;if(i===13){if(t=g(e),t!==null)return t;t=null}else if(i===31){if(t=b(e),t!==null)return t;t=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return gu=t,null}function lp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Iu()){case Ts:return 2;case Nr:return 8;case Oa:case Gu:return 32;case jr:return 268435456;default:return 32}default:return 32}}var Ph=!1,va=null,ya=null,ba=null,Co=new Map,Lo=new Map,xa=[],B_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function up(t,e){switch(t){case"focusin":case"focusout":va=null;break;case"dragenter":case"dragleave":ya=null;break;case"mouseover":case"mouseout":ba=null;break;case"pointerover":case"pointerout":Co.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lo.delete(e.pointerId)}}function Ro(t,e,i,r,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:e,domEventName:i,eventSystemFlags:r,nativeEvent:d,targetContainers:[h]},e!==null&&(e=Hi(e),e!==null&&rp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,h!==null&&e.indexOf(h)===-1&&e.push(h),t)}function P_(t,e,i,r,h){switch(e){case"focusin":return va=Ro(va,t,e,i,r,h),!0;case"dragenter":return ya=Ro(ya,t,e,i,r,h),!0;case"mouseover":return ba=Ro(ba,t,e,i,r,h),!0;case"pointerover":var d=h.pointerId;return Co.set(d,Ro(Co.get(d)||null,t,e,i,r,h)),!0;case"gotpointercapture":return d=h.pointerId,Lo.set(d,Ro(Lo.get(d)||null,t,e,i,r,h)),!0}return!1}function cp(t){var e=pi(t.target);if(e!==null){var i=p(e);if(i!==null){if(e=i.tag,e===13){if(e=g(i),e!==null){t.blockedOn=e,Rr(t.priority,function(){op(i)});return}}else if(e===31){if(e=b(i),e!==null){t.blockedOn=e,Rr(t.priority,function(){op(i)});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _u(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=Uh(t.nativeEvent);if(i===null){i=t.nativeEvent;var r=new i.constructor(i.type,i);Ns=r,i.target.dispatchEvent(r),Ns=null}else return e=Hi(i),e!==null&&rp(e),t.blockedOn=i,!1;e.shift()}return!0}function hp(t,e,i){_u(t)&&i.delete(e)}function H_(){Ph=!1,va!==null&&_u(va)&&(va=null),ya!==null&&_u(ya)&&(ya=null),ba!==null&&_u(ba)&&(ba=null),Co.forEach(hp),Lo.forEach(hp)}function vu(t,e){t.blockedOn===e&&(t.blockedOn=null,Ph||(Ph=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,H_)))}var yu=null;function dp(t){yu!==t&&(yu=t,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){yu===t&&(yu=null);for(var e=0;e<t.length;e+=3){var i=t[e],r=t[e+1],h=t[e+2];if(typeof r!="function"){if(Bh(r||i)===null)continue;break}var d=Hi(i);d!==null&&(t.splice(e,3),e-=3,Uc(d,{pending:!0,data:h,method:i.method,action:r},r,h))}}))}function hr(t){function e(k){return vu(k,t)}va!==null&&vu(va,t),ya!==null&&vu(ya,t),ba!==null&&vu(ba,t),Co.forEach(e),Lo.forEach(e);for(var i=0;i<xa.length;i++){var r=xa[i];r.blockedOn===t&&(r.blockedOn=null)}for(;0<xa.length&&(i=xa[0],i.blockedOn===null);)cp(i),i.blockedOn===null&&xa.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(r=0;r<i.length;r+=3){var h=i[r],d=i[r+1],v=h[Le]||null;if(typeof d=="function")v||dp(i);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Le]||null)T=v.formAction;else if(Bh(h)!==null)continue}else T=v.action;typeof T=="function"?i[r+1]=T:(i.splice(r,3),r-=3),dp(i)}}}function fp(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function e(){h!==null&&(h(),h=null),r||setTimeout(i,20)}function i(){if(!r&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(i,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),h!==null&&(h(),h=null)}}}function Hh(t){this._internalRoot=t}bu.prototype.render=Hh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(u(409));var i=e.current,r=yn();ap(i,r,t,e,null,null)},bu.prototype.unmount=Hh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ap(t.current,2,null,t,null,null),tu(),e[mi]=null}};function bu(t){this._internalRoot=t}bu.prototype.unstable_scheduleHydration=function(t){if(t){var e=Lr();t={blockedOn:null,target:t,priority:e};for(var i=0;i<xa.length&&e!==0&&e<xa[i].priority;i++);xa.splice(i,0,t),i===0&&cp(t)}};var mp=a.version;if(mp!=="19.2.3")throw Error(u(527,mp,"19.2.3"));at.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(u(188)):(t=Object.keys(t).join(","),Error(u(268,t)));return t=w(e),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var q_={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xu.isDisabled&&xu.supportsFiber)try{Pi=xu.inject(q_),De=xu}catch{}}return Mo.createRoot=function(t,e){if(!f(t))throw Error(u(299));var i=!1,r="",h=xf,d=wf,v=Sf;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(h=e.onUncaughtError),e.onCaughtError!==void 0&&(d=e.onCaughtError),e.onRecoverableError!==void 0&&(v=e.onRecoverableError)),e=np(t,1,!1,null,null,i,r,null,h,d,v,fp),t[mi]=e.current,xh(t),new Hh(e)},Mo.hydrateRoot=function(t,e,i){if(!f(t))throw Error(u(299));var r=!1,h="",d=xf,v=wf,T=Sf,k=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.formState!==void 0&&(k=i.formState)),e=np(t,1,!0,e,i??null,r,h,k,d,v,T,fp),e.context=ip(null),i=e.current,r=yn(),r=Qe(r),h=ra(r),h.callback=null,oa(i,h,r),i=r,e.current.lanes=i,fi(e,i),li(e),t[mi]=e.current,xh(t),new bu(e)},Mo.version="19.2.3",Mo}var Tp;function J_(){if(Tp)return Ih.exports;Tp=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(a){console.error(a)}}return l(),Ih.exports=X_(),Ih.exports}var Q_=J_();const W_=dd(Q_);var jt=(l=>(l.SPLASH="SPLASH",l.LOGIN="LOGIN",l.DASHBOARD="DASHBOARD",l.STUDENTS="STUDENTS",l.TRIP_STATUS="TRIP_STATUS",l.PROFILE="PROFILE",l.ADMIN_DASHBOARD="ADMIN_DASHBOARD",l.ADMIN_BUSES="ADMIN_BUSES",l.ADMIN_STUDENTS="ADMIN_STUDENTS",l))(jt||{}),cn=(l=>(l.STUDENT="student",l.INSTITUTION="institution",l.DRIVER="driver",l))(cn||{});const Ep=()=>y.jsxs("div",{className:"flex flex-col items-center justify-between py-24 h-screen animate-in fade-in duration-700",children:[y.jsx("div",{className:"h-10"}),y.jsxs("div",{className:"flex flex-col items-center gap-8",children:[y.jsx("div",{className:"w-32 h-32 bg-primary rounded-[2rem] flex items-center justify-center shadow-lg shadow-primary/20",children:y.jsx("span",{className:"material-symbols-outlined text-white text-7xl material-symbols-fill",children:"directions_bus"})}),y.jsxs("div",{className:"text-center",children:[y.jsx("h1",{className:"text-[#1c160d] dark:text-white text-[40px] font-bold leading-none mb-4",children:"Vidyon Driver"}),y.jsx("div",{className:"h-1.5 w-12 bg-primary rounded-full mx-auto"})]})]}),y.jsxs("div",{className:"flex flex-col items-center gap-8",children:[y.jsxs("div",{className:"flex space-x-2",children:[y.jsx("div",{className:"w-2.5 h-2.5 bg-primary/40 rounded-full animate-bounce"}),y.jsx("div",{className:"w-2.5 h-2.5 bg-primary rounded-full animate-bounce [animation-delay:-0.15s]"}),y.jsx("div",{className:"w-2.5 h-2.5 bg-primary/40 rounded-full animate-bounce [animation-delay:-0.3s]"})]}),y.jsx("p",{className:"text-[#1c160d]/60 dark:text-white/60 text-sm font-semibold tracking-widest uppercase",children:"Powered by Vidyon"})]})]});function Mu(l,a){var o={};for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&a.indexOf(u)<0&&(o[u]=l[u]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,u=Object.getOwnPropertySymbols(l);f<u.length;f++)a.indexOf(u[f])<0&&Object.prototype.propertyIsEnumerable.call(l,u[f])&&(o[u[f]]=l[u[f]]);return o}function F_(l,a,o,u){function f(p){return p instanceof o?p:new o(function(g){g(p)})}return new(o||(o=Promise))(function(p,g){function b(A){try{w(u.next(A))}catch(E){g(E)}}function x(A){try{w(u.throw(A))}catch(E){g(E)}}function w(A){A.done?p(A.value):f(A.value).then(b,x)}w((u=u.apply(l,a||[])).next())})}const tv=l=>l?(...a)=>l(...a):(...a)=>fetch(...a);class md extends Error{constructor(a,o="FunctionsError",u){super(a),this.name=o,this.context=u}}class ev extends md{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class Ap extends md{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class Op extends md{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var ed;(function(l){l.Any="any",l.ApNortheast1="ap-northeast-1",l.ApNortheast2="ap-northeast-2",l.ApSouth1="ap-south-1",l.ApSoutheast1="ap-southeast-1",l.ApSoutheast2="ap-southeast-2",l.CaCentral1="ca-central-1",l.EuCentral1="eu-central-1",l.EuWest1="eu-west-1",l.EuWest2="eu-west-2",l.EuWest3="eu-west-3",l.SaEast1="sa-east-1",l.UsEast1="us-east-1",l.UsWest1="us-west-1",l.UsWest2="us-west-2"})(ed||(ed={}));class nv{constructor(a,{headers:o={},customFetch:u,region:f=ed.Any}={}){this.url=a,this.headers=o,this.region=f,this.fetch=tv(u)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return F_(this,arguments,void 0,function*(o,u={}){var f;let p,g;try{const{headers:b,method:x,body:w,signal:A,timeout:E}=u;let j={},{region:R}=u;R||(R=this.region);const q=new URL(`${this.url}/${o}`);R&&R!=="any"&&(j["x-region"]=R,q.searchParams.set("forceFunctionRegion",R));let H;w&&(b&&!Object.prototype.hasOwnProperty.call(b,"Content-Type")||!b)?typeof Blob<"u"&&w instanceof Blob||w instanceof ArrayBuffer?(j["Content-Type"]="application/octet-stream",H=w):typeof w=="string"?(j["Content-Type"]="text/plain",H=w):typeof FormData<"u"&&w instanceof FormData?H=w:(j["Content-Type"]="application/json",H=JSON.stringify(w)):w&&typeof w!="string"&&!(typeof Blob<"u"&&w instanceof Blob)&&!(w instanceof ArrayBuffer)&&!(typeof FormData<"u"&&w instanceof FormData)?H=JSON.stringify(w):H=w;let G=A;E&&(g=new AbortController,p=setTimeout(()=>g.abort(),E),A?(G=g.signal,A.addEventListener("abort",()=>g.abort())):G=g.signal);const Q=yield this.fetch(q.toString(),{method:x||"POST",headers:Object.assign(Object.assign(Object.assign({},j),this.headers),b),body:H,signal:G}).catch(Ct=>{throw new ev(Ct)}),et=Q.headers.get("x-relay-error");if(et&&et==="true")throw new Ap(Q);if(!Q.ok)throw new Op(Q);let J=((f=Q.headers.get("Content-Type"))!==null&&f!==void 0?f:"text/plain").split(";")[0].trim(),ht;return J==="application/json"?ht=yield Q.json():J==="application/octet-stream"||J==="application/pdf"?ht=yield Q.blob():J==="text/event-stream"?ht=Q:J==="multipart/form-data"?ht=yield Q.formData():ht=yield Q.text(),{data:ht,error:null,response:Q}}catch(b){return{data:null,error:b,response:b instanceof Op||b instanceof Ap?b.context:void 0}}finally{p&&clearTimeout(p)}})}}var iv=class extends Error{constructor(l){super(l.message),this.name="PostgrestError",this.details=l.details,this.hint=l.hint,this.code=l.code}},av=class{constructor(l){var a,o;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(a=l.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=l.signal,this.isMaybeSingle=(o=l.isMaybeSingle)!==null&&o!==void 0?o:!1,l.fetch?this.fetch=l.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,a){return this.headers=new Headers(this.headers),this.headers.set(l,a),this}then(l,a){var o=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let f=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{let g=null,b=null,x=null,w=p.status,A=p.statusText;if(p.ok){var E,j;if(o.method!=="HEAD"){var R;const Q=await p.text();Q===""||(o.headers.get("Accept")==="text/csv"||o.headers.get("Accept")&&(!((R=o.headers.get("Accept"))===null||R===void 0)&&R.includes("application/vnd.pgrst.plan+text"))?b=Q:b=JSON.parse(Q))}const H=(E=o.headers.get("Prefer"))===null||E===void 0?void 0:E.match(/count=(exact|planned|estimated)/),G=(j=p.headers.get("content-range"))===null||j===void 0?void 0:j.split("/");H&&G&&G.length>1&&(x=parseInt(G[1])),o.isMaybeSingle&&o.method==="GET"&&Array.isArray(b)&&(b.length>1?(g={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,x=null,w=406,A="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{var q;const H=await p.text();try{g=JSON.parse(H),Array.isArray(g)&&p.status===404&&(b=[],g=null,w=200,A="OK")}catch{p.status===404&&H===""?(w=204,A="No Content"):g={message:H}}if(g&&o.isMaybeSingle&&(!(g==null||(q=g.details)===null||q===void 0)&&q.includes("0 rows"))&&(g=null,w=200,A="OK"),g&&o.shouldThrowOnError)throw new iv(g)}return{error:g,data:b,count:x,status:w,statusText:A}});return this.shouldThrowOnError||(f=f.catch(p=>{var g;let b="";const x=p==null?void 0:p.cause;if(x){var w,A,E,j;const q=(w=x==null?void 0:x.message)!==null&&w!==void 0?w:"",H=(A=x==null?void 0:x.code)!==null&&A!==void 0?A:"";b=`${(E=p==null?void 0:p.name)!==null&&E!==void 0?E:"FetchError"}: ${p==null?void 0:p.message}`,b+=`

Caused by: ${(j=x==null?void 0:x.name)!==null&&j!==void 0?j:"Error"}: ${q}`,H&&(b+=` (${H})`),x!=null&&x.stack&&(b+=`
${x.stack}`)}else{var R;b=(R=p==null?void 0:p.stack)!==null&&R!==void 0?R:""}return{error:{message:`${(g=p==null?void 0:p.name)!==null&&g!==void 0?g:"FetchError"}: ${p==null?void 0:p.message}`,details:b,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),f.then(l,a)}returns(){return this}overrideTypes(){return this}},sv=class extends av{select(l){let a=!1;const o=(l??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:a=!0,nullsFirst:o,foreignTable:u,referencedTable:f=u}={}){const p=f?`${f}.order`:"order",g=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${g?`${g},`:""}${l}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:a,referencedTable:o=a}={}){const u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(u,`${l}`),this}range(l,a,{foreignTable:o,referencedTable:u=o}={}){const f=typeof u>"u"?"offset":`${u}.offset`,p=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${l}`),this.url.searchParams.set(p,`${a-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:a=!1,settings:o=!1,buffers:u=!1,wal:f=!1,format:p="text"}={}){var g;const b=[l?"analyze":null,a?"verbose":null,o?"settings":null,u?"buffers":null,f?"wal":null].filter(Boolean).join("|"),x=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${x}"; options=${b};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}};const kp=new RegExp("[,()]");var vr=class extends sv{eq(l,a){return this.url.searchParams.append(l,`eq.${a}`),this}neq(l,a){return this.url.searchParams.append(l,`neq.${a}`),this}gt(l,a){return this.url.searchParams.append(l,`gt.${a}`),this}gte(l,a){return this.url.searchParams.append(l,`gte.${a}`),this}lt(l,a){return this.url.searchParams.append(l,`lt.${a}`),this}lte(l,a){return this.url.searchParams.append(l,`lte.${a}`),this}like(l,a){return this.url.searchParams.append(l,`like.${a}`),this}likeAllOf(l,a){return this.url.searchParams.append(l,`like(all).{${a.join(",")}}`),this}likeAnyOf(l,a){return this.url.searchParams.append(l,`like(any).{${a.join(",")}}`),this}ilike(l,a){return this.url.searchParams.append(l,`ilike.${a}`),this}ilikeAllOf(l,a){return this.url.searchParams.append(l,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(l,a){return this.url.searchParams.append(l,`ilike(any).{${a.join(",")}}`),this}regexMatch(l,a){return this.url.searchParams.append(l,`match.${a}`),this}regexIMatch(l,a){return this.url.searchParams.append(l,`imatch.${a}`),this}is(l,a){return this.url.searchParams.append(l,`is.${a}`),this}isDistinct(l,a){return this.url.searchParams.append(l,`isdistinct.${a}`),this}in(l,a){const o=Array.from(new Set(a)).map(u=>typeof u=="string"&&kp.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(l,`in.(${o})`),this}notIn(l,a){const o=Array.from(new Set(a)).map(u=>typeof u=="string"&&kp.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(l,`not.in.(${o})`),this}contains(l,a){return typeof a=="string"?this.url.searchParams.append(l,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(l,`cs.{${a.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(a)}`),this}containedBy(l,a){return typeof a=="string"?this.url.searchParams.append(l,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(l,`cd.{${a.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(a)}`),this}rangeGt(l,a){return this.url.searchParams.append(l,`sr.${a}`),this}rangeGte(l,a){return this.url.searchParams.append(l,`nxl.${a}`),this}rangeLt(l,a){return this.url.searchParams.append(l,`sl.${a}`),this}rangeLte(l,a){return this.url.searchParams.append(l,`nxr.${a}`),this}rangeAdjacent(l,a){return this.url.searchParams.append(l,`adj.${a}`),this}overlaps(l,a){return typeof a=="string"?this.url.searchParams.append(l,`ov.${a}`):this.url.searchParams.append(l,`ov.{${a.join(",")}}`),this}textSearch(l,a,{config:o,type:u}={}){let f="";u==="plain"?f="pl":u==="phrase"?f="ph":u==="websearch"&&(f="w");const p=o===void 0?"":`(${o})`;return this.url.searchParams.append(l,`${f}fts${p}.${a}`),this}match(l){return Object.entries(l).forEach(([a,o])=>{this.url.searchParams.append(a,`eq.${o}`)}),this}not(l,a,o){return this.url.searchParams.append(l,`not.${a}.${o}`),this}or(l,{foreignTable:a,referencedTable:o=a}={}){const u=o?`${o}.or`:"or";return this.url.searchParams.append(u,`(${l})`),this}filter(l,a,o){return this.url.searchParams.append(l,`${a}.${o}`),this}},rv=class{constructor(l,{headers:a={},schema:o,fetch:u}){this.url=l,this.headers=new Headers(a),this.schema=o,this.fetch=u}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(l,a){const{head:o=!1,count:u}=a??{},f=o?"HEAD":"GET";let p=!1;const g=(l??"*").split("").map(w=>/\s/.test(w)&&!p?"":(w==='"'&&(p=!p),w)).join(""),{url:b,headers:x}=this.cloneRequestState();return b.searchParams.set("select",g),u&&x.append("Prefer",`count=${u}`),new vr({method:f,url:b,headers:x,schema:this.schema,fetch:this.fetch})}insert(l,{count:a,defaultToNull:o=!0}={}){var u;const f="POST",{url:p,headers:g}=this.cloneRequestState();if(a&&g.append("Prefer",`count=${a}`),o||g.append("Prefer","missing=default"),Array.isArray(l)){const b=l.reduce((x,w)=>x.concat(Object.keys(w)),[]);if(b.length>0){const x=[...new Set(b)].map(w=>`"${w}"`);p.searchParams.set("columns",x.join(","))}}return new vr({method:f,url:p,headers:g,schema:this.schema,body:l,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(l,{onConflict:a,ignoreDuplicates:o=!1,count:u,defaultToNull:f=!0}={}){var p;const g="POST",{url:b,headers:x}=this.cloneRequestState();if(x.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&b.searchParams.set("on_conflict",a),u&&x.append("Prefer",`count=${u}`),f||x.append("Prefer","missing=default"),Array.isArray(l)){const w=l.reduce((A,E)=>A.concat(Object.keys(E)),[]);if(w.length>0){const A=[...new Set(w)].map(E=>`"${E}"`);b.searchParams.set("columns",A.join(","))}}return new vr({method:g,url:b,headers:x,schema:this.schema,body:l,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(l,{count:a}={}){var o;const u="PATCH",{url:f,headers:p}=this.cloneRequestState();return a&&p.append("Prefer",`count=${a}`),new vr({method:u,url:f,headers:p,schema:this.schema,body:l,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:l}={}){var a;const o="DELETE",{url:u,headers:f}=this.cloneRequestState();return l&&f.append("Prefer",`count=${l}`),new vr({method:o,url:u,headers:f,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}},ov=class ag{constructor(a,{headers:o={},schema:u,fetch:f}={}){this.url=a,this.headers=new Headers(o),this.schemaName=u,this.fetch=f}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new rv(new URL(`${this.url}/${a}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new ag(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:u=!1,get:f=!1,count:p}={}){var g;let b;const x=new URL(`${this.url}/rpc/${a}`);let w;const A=R=>R!==null&&typeof R=="object"&&(!Array.isArray(R)||R.some(A)),E=u&&Object.values(o).some(A);E?(b="POST",w=o):u||f?(b=u?"HEAD":"GET",Object.entries(o).filter(([R,q])=>q!==void 0).map(([R,q])=>[R,Array.isArray(q)?`{${q.join(",")}}`:`${q}`]).forEach(([R,q])=>{x.searchParams.append(R,q)})):(b="POST",w=o);const j=new Headers(this.headers);return E?j.set("Prefer",p?`count=${p},return=minimal`:"return=minimal"):p&&j.set("Prefer",`count=${p}`),new vr({method:b,url:x,headers:j,schema:this.schemaName,body:w,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}};class lv{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const o=globalThis.process;if(o){const u=o.versions;if(u&&u.node){const f=u.node,p=parseInt(f.replace(/^v/,"").split(".")[0]);return p>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${p} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${p} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let o=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(o+=`

Suggested solution: ${a.workaround}`),new Error(o)}static createWebSocket(a,o){const u=this.getWebSocketConstructor();return new u(a,o)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const uv="2.93.3",cv=`realtime-js/${uv}`,hv="1.0.0",sg="2.0.0",Np=sg,nd=1e4,dv=1e3,fv=100;var Sa;(function(l){l[l.connecting=0]="connecting",l[l.open=1]="open",l[l.closing=2]="closing",l[l.closed=3]="closed"})(Sa||(Sa={}));var je;(function(l){l.closed="closed",l.errored="errored",l.joined="joined",l.joining="joining",l.leaving="leaving"})(je||(je={}));var Kn;(function(l){l.close="phx_close",l.error="phx_error",l.join="phx_join",l.reply="phx_reply",l.leave="phx_leave",l.access_token="access_token"})(Kn||(Kn={}));var id;(function(l){l.websocket="websocket"})(id||(id={}));var _s;(function(l){l.Connecting="connecting",l.Open="open",l.Closing="closing",l.Closed="closed"})(_s||(_s={}));class mv{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,o){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return o(this._binaryEncodeUserBroadcastPush(a));let u=[a.join_ref,a.ref,a.topic,a.event,a.payload];return o(JSON.stringify(u))}_binaryEncodeUserBroadcastPush(a){var o;return this._isArrayBuffer((o=a.payload)===null||o===void 0?void 0:o.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var o,u;const f=(u=(o=a.payload)===null||o===void 0?void 0:o.payload)!==null&&u!==void 0?u:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,f)}_encodeJsonUserBroadcastPush(a){var o,u;const f=(u=(o=a.payload)===null||o===void 0?void 0:o.payload)!==null&&u!==void 0?u:{},g=new TextEncoder().encode(JSON.stringify(f)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,g)}_encodeUserBroadcastPush(a,o,u){var f,p;const g=a.topic,b=(f=a.ref)!==null&&f!==void 0?f:"",x=(p=a.join_ref)!==null&&p!==void 0?p:"",w=a.payload.event,A=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},E=Object.keys(A).length===0?"":JSON.stringify(A);if(x.length>255)throw new Error(`joinRef length ${x.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`ref length ${b.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`topic length ${g.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`userEvent length ${w.length} exceeds maximum of 255`);if(E.length>255)throw new Error(`metadata length ${E.length} exceeds maximum of 255`);const j=this.USER_BROADCAST_PUSH_META_LENGTH+x.length+b.length+g.length+w.length+E.length,R=new ArrayBuffer(this.HEADER_LENGTH+j);let q=new DataView(R),H=0;q.setUint8(H++,this.KINDS.userBroadcastPush),q.setUint8(H++,x.length),q.setUint8(H++,b.length),q.setUint8(H++,g.length),q.setUint8(H++,w.length),q.setUint8(H++,E.length),q.setUint8(H++,o),Array.from(x,Q=>q.setUint8(H++,Q.charCodeAt(0))),Array.from(b,Q=>q.setUint8(H++,Q.charCodeAt(0))),Array.from(g,Q=>q.setUint8(H++,Q.charCodeAt(0))),Array.from(w,Q=>q.setUint8(H++,Q.charCodeAt(0))),Array.from(E,Q=>q.setUint8(H++,Q.charCodeAt(0)));var G=new Uint8Array(R.byteLength+u.byteLength);return G.set(new Uint8Array(R),0),G.set(new Uint8Array(u),R.byteLength),G.buffer}decode(a,o){if(this._isArrayBuffer(a)){let u=this._binaryDecode(a);return o(u)}if(typeof a=="string"){const u=JSON.parse(a),[f,p,g,b,x]=u;return o({join_ref:f,ref:p,topic:g,event:b,payload:x})}return o({})}_binaryDecode(a){const o=new DataView(a),u=o.getUint8(0),f=new TextDecoder;switch(u){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(a,o,f)}}_decodeUserBroadcast(a,o,u){const f=o.getUint8(1),p=o.getUint8(2),g=o.getUint8(3),b=o.getUint8(4);let x=this.HEADER_LENGTH+4;const w=u.decode(a.slice(x,x+f));x=x+f;const A=u.decode(a.slice(x,x+p));x=x+p;const E=u.decode(a.slice(x,x+g));x=x+g;const j=a.slice(x,a.byteLength),R=b===this.JSON_ENCODING?JSON.parse(u.decode(j)):j,q={type:this.BROADCAST_EVENT,event:A,payload:R};return g>0&&(q.meta=JSON.parse(E)),{join_ref:null,ref:null,topic:w,event:this.BROADCAST_EVENT,payload:q}}_isArrayBuffer(a){var o;return a instanceof ArrayBuffer||((o=a==null?void 0:a.constructor)===null||o===void 0?void 0:o.name)==="ArrayBuffer"}_pick(a,o){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([u])=>o.includes(u)))}}class rg{constructor(a,o){this.callback=a,this.timerCalc=o,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=o}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ne;(function(l){l.abstime="abstime",l.bool="bool",l.date="date",l.daterange="daterange",l.float4="float4",l.float8="float8",l.int2="int2",l.int4="int4",l.int4range="int4range",l.int8="int8",l.int8range="int8range",l.json="json",l.jsonb="jsonb",l.money="money",l.numeric="numeric",l.oid="oid",l.reltime="reltime",l.text="text",l.time="time",l.timestamp="timestamp",l.timestamptz="timestamptz",l.timetz="timetz",l.tsrange="tsrange",l.tstzrange="tstzrange"})(ne||(ne={}));const jp=(l,a,o={})=>{var u;const f=(u=o.skipTypes)!==null&&u!==void 0?u:[];return a?Object.keys(a).reduce((p,g)=>(p[g]=pv(g,l,a,f),p),{}):{}},pv=(l,a,o,u)=>{const f=a.find(b=>b.name===l),p=f==null?void 0:f.type,g=o[l];return p&&!u.includes(p)?og(p,g):ad(g)},og=(l,a)=>{if(l.charAt(0)==="_"){const o=l.slice(1,l.length);return yv(a,o)}switch(l){case ne.bool:return gv(a);case ne.float4:case ne.float8:case ne.int2:case ne.int4:case ne.int8:case ne.numeric:case ne.oid:return _v(a);case ne.json:case ne.jsonb:return vv(a);case ne.timestamp:return bv(a);case ne.abstime:case ne.date:case ne.daterange:case ne.int4range:case ne.int8range:case ne.money:case ne.reltime:case ne.text:case ne.time:case ne.timestamptz:case ne.timetz:case ne.tsrange:case ne.tstzrange:return ad(a);default:return ad(a)}},ad=l=>l,gv=l=>{switch(l){case"t":return!0;case"f":return!1;default:return l}},_v=l=>{if(typeof l=="string"){const a=parseFloat(l);if(!Number.isNaN(a))return a}return l},vv=l=>{if(typeof l=="string")try{return JSON.parse(l)}catch{return l}return l},yv=(l,a)=>{if(typeof l!="string")return l;const o=l.length-1,u=l[o];if(l[0]==="{"&&u==="}"){let p;const g=l.slice(1,o);try{p=JSON.parse("["+g+"]")}catch{p=g?g.split(","):[]}return p.map(b=>og(a,b))}return l},bv=l=>typeof l=="string"?l.replace(" ","T"):l,lg=l=>{const a=new URL(l);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class Yh{constructor(a,o,u={},f=nd){this.channel=a,this.event=o,this.payload=u,this.timeout=f,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,o){var u;return this._hasReceived(a)&&o((u=this.receivedResp)===null||u===void 0?void 0:u.response),this.recHooks.push({status:a,callback:o}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=o=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=o,this._matchReceive(o)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,o){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:o})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:o}){this.recHooks.filter(u=>u.status===a).forEach(u=>u.callback(o))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var Cp;(function(l){l.SYNC="sync",l.JOIN="join",l.LEAVE="leave"})(Cp||(Cp={}));class Po{constructor(a,o){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const u=(o==null?void 0:o.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(u.state,{},f=>{const{onJoin:p,onLeave:g,onSync:b}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Po.syncState(this.state,f,p,g),this.pendingDiffs.forEach(x=>{this.state=Po.syncDiff(this.state,x,p,g)}),this.pendingDiffs=[],b()}),this.channel._on(u.diff,{},f=>{const{onJoin:p,onLeave:g,onSync:b}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(f):(this.state=Po.syncDiff(this.state,f,p,g),b())}),this.onJoin((f,p,g)=>{this.channel._trigger("presence",{event:"join",key:f,currentPresences:p,newPresences:g})}),this.onLeave((f,p,g)=>{this.channel._trigger("presence",{event:"leave",key:f,currentPresences:p,leftPresences:g})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,o,u,f){const p=this.cloneDeep(a),g=this.transformState(o),b={},x={};return this.map(p,(w,A)=>{g[w]||(x[w]=A)}),this.map(g,(w,A)=>{const E=p[w];if(E){const j=A.map(G=>G.presence_ref),R=E.map(G=>G.presence_ref),q=A.filter(G=>R.indexOf(G.presence_ref)<0),H=E.filter(G=>j.indexOf(G.presence_ref)<0);q.length>0&&(b[w]=q),H.length>0&&(x[w]=H)}else b[w]=A}),this.syncDiff(p,{joins:b,leaves:x},u,f)}static syncDiff(a,o,u,f){const{joins:p,leaves:g}={joins:this.transformState(o.joins),leaves:this.transformState(o.leaves)};return u||(u=()=>{}),f||(f=()=>{}),this.map(p,(b,x)=>{var w;const A=(w=a[b])!==null&&w!==void 0?w:[];if(a[b]=this.cloneDeep(x),A.length>0){const E=a[b].map(R=>R.presence_ref),j=A.filter(R=>E.indexOf(R.presence_ref)<0);a[b].unshift(...j)}u(b,A,x)}),this.map(g,(b,x)=>{let w=a[b];if(!w)return;const A=x.map(E=>E.presence_ref);w=w.filter(E=>A.indexOf(E.presence_ref)<0),a[b]=w,f(b,w,x),w.length===0&&delete a[b]}),a}static map(a,o){return Object.getOwnPropertyNames(a).map(u=>o(u,a[u]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((o,u)=>{const f=a[u];return"metas"in f?o[u]=f.metas.map(p=>(p.presence_ref=p.phx_ref,delete p.phx_ref,delete p.phx_ref_prev,p)):o[u]=f,o},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Lp;(function(l){l.ALL="*",l.INSERT="INSERT",l.UPDATE="UPDATE",l.DELETE="DELETE"})(Lp||(Lp={}));var Ho;(function(l){l.BROADCAST="broadcast",l.PRESENCE="presence",l.POSTGRES_CHANGES="postgres_changes",l.SYSTEM="system"})(Ho||(Ho={}));var Di;(function(l){l.SUBSCRIBED="SUBSCRIBED",l.TIMED_OUT="TIMED_OUT",l.CLOSED="CLOSED",l.CHANNEL_ERROR="CHANNEL_ERROR"})(Di||(Di={}));class xr{constructor(a,o={config:{}},u){var f,p;if(this.topic=a,this.params=o,this.socket=u,this.bindings={},this.state=je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},o.config),this.timeout=this.socket.timeout,this.joinPush=new Yh(this,Kn.join,this.params,this.timeout),this.rejoinTimer=new rg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(g=>g.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=je.closed,this.socket._remove(this)}),this._onError(g=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,g),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",g=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,g),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Kn.reply,{},(g,b)=>{this._trigger(this._replyEventName(b),g)}),this.presence=new Po(this),this.broadcastEndpointURL=lg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((p=(f=this.params.config)===null||f===void 0?void 0:f.broadcast)===null||p===void 0)&&p.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,o=this.timeout){var u,f,p;if(this.socket.isConnected()||this.socket.connect(),this.state==je.closed){const{config:{broadcast:g,presence:b,private:x}}=this.params,w=(f=(u=this.bindings.postgres_changes)===null||u===void 0?void 0:u.map(R=>R.filter))!==null&&f!==void 0?f:[],A=!!this.bindings[Ho.PRESENCE]&&this.bindings[Ho.PRESENCE].length>0||((p=this.params.config.presence)===null||p===void 0?void 0:p.enabled)===!0,E={},j={broadcast:g,presence:Object.assign(Object.assign({},b),{enabled:A}),postgres_changes:w,private:x};this.socket.accessTokenValue&&(E.access_token=this.socket.accessTokenValue),this._onError(R=>a==null?void 0:a(Di.CHANNEL_ERROR,R)),this._onClose(()=>a==null?void 0:a(Di.CLOSED)),this.updateJoinPayload(Object.assign({config:j},E)),this.joinedOnce=!0,this._rejoin(o),this.joinPush.receive("ok",async({postgres_changes:R})=>{var q;if(this.socket._isManualToken()||this.socket.setAuth(),R===void 0){a==null||a(Di.SUBSCRIBED);return}else{const H=this.bindings.postgres_changes,G=(q=H==null?void 0:H.length)!==null&&q!==void 0?q:0,Q=[];for(let et=0;et<G;et++){const J=H[et],{filter:{event:ht,schema:Ct,table:yt,filter:F}}=J,st=R&&R[et];if(st&&st.event===ht&&xr.isFilterValueEqual(st.schema,Ct)&&xr.isFilterValueEqual(st.table,yt)&&xr.isFilterValueEqual(st.filter,F))Q.push(Object.assign(Object.assign({},J),{id:st.id}));else{this.unsubscribe(),this.state=je.errored,a==null||a(Di.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=Q,a&&a(Di.SUBSCRIBED);return}}).receive("error",R=>{this.state=je.errored,a==null||a(Di.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(R).join(", ")||"error")))}).receive("timeout",()=>{a==null||a(Di.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,o={}){return await this.send({type:"presence",event:"track",payload:a},o.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,o,u){return this.state===je.joined&&a===Ho.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,o,u)}async httpSend(a,o,u={}){var f;if(o==null)return Promise.reject("Payload is required for httpSend()");const p={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(p.Authorization=`Bearer ${this.socket.accessTokenValue}`);const g={method:"POST",headers:p,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})},b=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(f=u.timeout)!==null&&f!==void 0?f:this.timeout);if(b.status===202)return{success:!0};let x=b.statusText;try{const w=await b.json();x=w.error||w.message||x}catch{}return Promise.reject(new Error(x))}async send(a,o={}){var u,f;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:p,payload:g}=a,b={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(b.Authorization=`Bearer ${this.socket.accessTokenValue}`);const x={method:"POST",headers:b,body:JSON.stringify({messages:[{topic:this.subTopic,event:p,payload:g,private:this.private}]})};try{const w=await this._fetchWithTimeout(this.broadcastEndpointURL,x,(u=o.timeout)!==null&&u!==void 0?u:this.timeout);return await((f=w.body)===null||f===void 0?void 0:f.cancel()),w.ok?"ok":"error"}catch(w){return w.name==="AbortError"?"timed out":"error"}}else return new Promise(p=>{var g,b,x;const w=this._push(a.type,a,o.timeout||this.timeout);a.type==="broadcast"&&!(!((x=(b=(g=this.params)===null||g===void 0?void 0:g.config)===null||b===void 0?void 0:b.broadcast)===null||x===void 0)&&x.ack)&&p("ok"),w.receive("ok",()=>p("ok")),w.receive("error",()=>p("error")),w.receive("timeout",()=>p("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=je.leaving;const o=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Kn.close,"leave",this._joinRef())};this.joinPush.destroy();let u=null;return new Promise(f=>{u=new Yh(this,Kn.leave,{},a),u.receive("ok",()=>{o(),f("ok")}).receive("timeout",()=>{o(),f("timed out")}).receive("error",()=>{f("error")}),u.send(),this._canPush()||u.trigger("ok",{})}).finally(()=>{u==null||u.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=je.closed,this.bindings={}}async _fetchWithTimeout(a,o,u){const f=new AbortController,p=setTimeout(()=>f.abort(),u),g=await this.socket.fetch(a,Object.assign(Object.assign({},o),{signal:f.signal}));return clearTimeout(p),g}_push(a,o,u=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let f=new Yh(this,a,o,u);return this._canPush()?f.send():this._addToPushBuffer(f),f}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>fv){const o=this.pushBuffer.shift();o&&(o.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${o.event}`,o.payload))}}_onMessage(a,o,u){return o}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,o,u){var f,p;const g=a.toLocaleLowerCase(),{close:b,error:x,leave:w,join:A}=Kn;if(u&&[b,x,w,A].indexOf(g)>=0&&u!==this._joinRef())return;let j=this._onMessage(g,o,u);if(o&&!j)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(g)?(f=this.bindings.postgres_changes)===null||f===void 0||f.filter(R=>{var q,H,G;return((q=R.filter)===null||q===void 0?void 0:q.event)==="*"||((G=(H=R.filter)===null||H===void 0?void 0:H.event)===null||G===void 0?void 0:G.toLocaleLowerCase())===g}).map(R=>R.callback(j,u)):(p=this.bindings[g])===null||p===void 0||p.filter(R=>{var q,H,G,Q,et,J;if(["broadcast","presence","postgres_changes"].includes(g))if("id"in R){const ht=R.id,Ct=(q=R.filter)===null||q===void 0?void 0:q.event;return ht&&((H=o.ids)===null||H===void 0?void 0:H.includes(ht))&&(Ct==="*"||(Ct==null?void 0:Ct.toLocaleLowerCase())===((G=o.data)===null||G===void 0?void 0:G.type.toLocaleLowerCase()))}else{const ht=(et=(Q=R==null?void 0:R.filter)===null||Q===void 0?void 0:Q.event)===null||et===void 0?void 0:et.toLocaleLowerCase();return ht==="*"||ht===((J=o==null?void 0:o.event)===null||J===void 0?void 0:J.toLocaleLowerCase())}else return R.type.toLocaleLowerCase()===g}).map(R=>{if(typeof j=="object"&&"ids"in j){const q=j.data,{schema:H,table:G,commit_timestamp:Q,type:et,errors:J}=q;j=Object.assign(Object.assign({},{schema:H,table:G,commit_timestamp:Q,eventType:et,new:{},old:{},errors:J}),this._getPayloadRecords(q))}R.callback(j,u)})}_isClosed(){return this.state===je.closed}_isJoined(){return this.state===je.joined}_isJoining(){return this.state===je.joining}_isLeaving(){return this.state===je.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,o,u){const f=a.toLocaleLowerCase(),p={type:f,filter:o,callback:u};return this.bindings[f]?this.bindings[f].push(p):this.bindings[f]=[p],this}_off(a,o){const u=a.toLocaleLowerCase();return this.bindings[u]&&(this.bindings[u]=this.bindings[u].filter(f=>{var p;return!(((p=f.type)===null||p===void 0?void 0:p.toLocaleLowerCase())===u&&xr.isEqual(f.filter,o))})),this}static isEqual(a,o){if(Object.keys(a).length!==Object.keys(o).length)return!1;for(const u in a)if(a[u]!==o[u])return!1;return!0}static isFilterValueEqual(a,o){return(a??void 0)===(o??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(Kn.close,{},a)}_onError(a){this._on(Kn.error,{},o=>a(o))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=je.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const o={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(o.new=jp(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(o.old=jp(a.columns,a.old_record)),o}}const $h=()=>{},wu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},xv=[1e3,2e3,5e3,1e4],wv=1e4,Sv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Tv{constructor(a,o){var u;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=nd,this.transport=null,this.heartbeatIntervalMs=wu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=$h,this.ref=0,this.reconnectTimer=null,this.vsn=Np,this.logger=$h,this.conn=null,this.sendBuffer=[],this.serializer=new mv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=f=>f?(...p)=>f(...p):(...p)=>fetch(...p),!(!((u=o==null?void 0:o.params)===null||u===void 0)&&u.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=o.params.apikey,this.endPoint=`${a}/${id.websocket}`,this.httpEndpoint=lg(a),this._initializeOptions(o),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(o==null?void 0:o.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=lv.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const o=a.message;throw o.includes("Node.js")?new Error(`${o}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${o}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,o){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const u=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(u),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,o??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const o=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),o}async removeAllChannels(){const a=await Promise.all(this.channels.map(o=>o.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,o,u){this.logger(a,o,u)}connectionState(){switch(this.conn&&this.conn.readyState){case Sa.connecting:return _s.Connecting;case Sa.open:return _s.Open;case Sa.closing:return _s.Closing;default:return _s.Closed}}isConnected(){return this.connectionState()===_s.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,o={config:{}}){const u=`realtime:${a}`,f=this.getChannels().find(p=>p.topic===u);if(f)return f;{const p=new xr(`realtime:${a}`,o,this);return this.channels.push(p),p}}push(a){const{topic:o,event:u,payload:f,ref:p}=a,g=()=>{this.encode(a,b=>{var x;(x=this.conn)===null||x===void 0||x.send(b)})};this.log("push",`${o} ${u} (${p})`,f),this.isConnected()?g():this.sendBuffer.push(g)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(o){this.log("error","error in heartbeat callback",o)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(o){this.log("error","error in heartbeat callback",o)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(dv,"heartbeat timeout"),setTimeout(()=>{var o;this.isConnected()||(o=this.reconnectTimer)===null||o===void 0||o.scheduleTimeout()},wu.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(o){this.log("error","error in heartbeat callback",o)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let o=this.channels.find(u=>u.topic===a&&(u._isJoined()||u._isJoining()));o&&(this.log("transport",`leaving duplicate topic "${a}"`),o.unsubscribe())}_remove(a){this.channels=this.channels.filter(o=>o.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,o=>{if(o.topic==="phoenix"&&o.event==="phx_reply"&&o.ref&&o.ref===this.pendingHeartbeatRef){const w=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(o.payload.status==="ok"?"ok":"error",w)}catch(A){this.log("error","error in heartbeat callback",A)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:u,event:f,payload:p,ref:g}=o,b=g?`(${g})`:"",x=p.status||"";this.log("receive",`${x} ${u} ${f} ${b}`.trim(),p),this.channels.filter(w=>w._isMember(u)).forEach(w=>w._trigger(f,p,g)),this._triggerStateCallbacks("message",o)})}_clearTimer(a){var o;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((o=this.reconnectTimer)===null||o===void 0||o.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a),this.conn.readyState===Sa.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Sa.open||this.conn.readyState===Sa.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(o=>{this.log("error","error waiting for auth on connect",o),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=o=>{this.log("worker","worker error",o.message),this._terminateWorker()},this.workerRef.onmessage=o=>{o.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(a){var o;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(o=this.reconnectTimer)===null||o===void 0||o.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a);try{this.heartbeatCallback("error")}catch(o){this.log("error","error in heartbeat callback",o)}}_triggerChanError(){this.channels.forEach(a=>a._trigger(Kn.error))}_appendParams(a,o){if(Object.keys(o).length===0)return a;const u=a.match(/\?/)?"&":"?",f=new URLSearchParams(o);return`${a}${u}${f}`}_workerObjectUrl(a){let o;if(a)o=a;else{const u=new Blob([Sv],{type:"application/javascript"});o=URL.createObjectURL(u)}return o}_setConnectionState(a,o=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=o)}async _performAuth(a=null){let o,u=!1;if(a)o=a,u=!0;else if(this.accessToken)try{o=await this.accessToken()}catch(f){this.log("error","Error fetching access token from callback",f),o=this.accessTokenValue}else o=this.accessTokenValue;u?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=o&&(this.accessTokenValue=o,this.channels.forEach(f=>{const p={access_token:o,version:cv};o&&f.updateJoinPayload(p),f.joinedOnce&&f._isJoined()&&f._push(Kn.access_token,{access_token:o})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(o=>{this.log("error",`Error setting auth in ${a}`,o)})}_triggerStateCallbacks(a,o){try{this.stateChangeCallbacks[a].forEach(u=>{try{u(o)}catch(f){this.log("error",`error in ${a} callback`,f)}})}catch(u){this.log("error",`error triggering ${a} callbacks`,u)}}_setupReconnectionTimer(){this.reconnectTimer=new rg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},wu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var o,u,f,p,g,b,x,w,A,E,j,R;switch(this.transport=(o=a==null?void 0:a.transport)!==null&&o!==void 0?o:null,this.timeout=(u=a==null?void 0:a.timeout)!==null&&u!==void 0?u:nd,this.heartbeatIntervalMs=(f=a==null?void 0:a.heartbeatIntervalMs)!==null&&f!==void 0?f:wu.HEARTBEAT_INTERVAL,this.worker=(p=a==null?void 0:a.worker)!==null&&p!==void 0?p:!1,this.accessToken=(g=a==null?void 0:a.accessToken)!==null&&g!==void 0?g:null,this.heartbeatCallback=(b=a==null?void 0:a.heartbeatCallback)!==null&&b!==void 0?b:$h,this.vsn=(x=a==null?void 0:a.vsn)!==null&&x!==void 0?x:Np,a!=null&&a.params&&(this.params=a.params),a!=null&&a.logger&&(this.logger=a.logger),(a!=null&&a.logLevel||a!=null&&a.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(w=a==null?void 0:a.reconnectAfterMs)!==null&&w!==void 0?w:(q=>xv[q-1]||wv),this.vsn){case hv:this.encode=(A=a==null?void 0:a.encode)!==null&&A!==void 0?A:((q,H)=>H(JSON.stringify(q))),this.decode=(E=a==null?void 0:a.decode)!==null&&E!==void 0?E:((q,H)=>H(JSON.parse(q)));break;case sg:this.encode=(j=a==null?void 0:a.encode)!==null&&j!==void 0?j:this.serializer.encode.bind(this.serializer),this.decode=(R=a==null?void 0:a.decode)!==null&&R!==void 0?R:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a==null?void 0:a.workerUrl}}}var qo=class extends Error{constructor(l,a){var o;super(l),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&((o=a.icebergType)==null?void 0:o.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Ev(l,a,o){const u=new URL(a,l);if(o)for(const[f,p]of Object.entries(o))p!==void 0&&u.searchParams.set(f,p);return u.toString()}async function Av(l){return!l||l.type==="none"?{}:l.type==="bearer"?{Authorization:`Bearer ${l.token}`}:l.type==="header"?{[l.name]:l.value}:l.type==="custom"?await l.getHeaders():{}}function Ov(l){const a=l.fetchImpl??globalThis.fetch;return{async request({method:o,path:u,query:f,body:p,headers:g}){const b=Ev(l.baseUrl,u,f),x=await Av(l.auth),w=await a(b,{method:o,headers:{...p?{"Content-Type":"application/json"}:{},...x,...g},body:p?JSON.stringify(p):void 0}),A=await w.text(),E=(w.headers.get("content-type")||"").includes("application/json"),j=E&&A?JSON.parse(A):A;if(!w.ok){const R=E?j:void 0,q=R==null?void 0:R.error;throw new qo((q==null?void 0:q.message)??`Request failed with status ${w.status}`,{status:w.status,icebergType:q==null?void 0:q.type,icebergCode:q==null?void 0:q.code,details:R})}return{status:w.status,headers:w.headers,data:j}}}}function Su(l){return l.join("")}var kv=class{constructor(l,a=""){this.client=l,this.prefix=a}async listNamespaces(l){const a=l?{parent:Su(l.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(u=>({namespace:u}))}async createNamespace(l,a){const o={namespace:l.namespace,properties:a==null?void 0:a.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:o})).data}async dropNamespace(l){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Su(l.namespace)}`})}async loadNamespaceMetadata(l){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Su(l.namespace)}`})).data.properties}}async namespaceExists(l){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Su(l.namespace)}`}),!0}catch(a){if(a instanceof qo&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(l,a){try{return await this.createNamespace(l,a)}catch(o){if(o instanceof qo&&o.status===409)return;throw o}}};function dr(l){return l.join("")}var Nv=class{constructor(l,a="",o){this.client=l,this.prefix=a,this.accessDelegation=o}async listTables(l){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${dr(l.namespace)}/tables`})).data.identifiers}async createTable(l,a){const o={};return this.accessDelegation&&(o["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${dr(l.namespace)}/tables`,body:a,headers:o})).data.metadata}async updateTable(l,a){const o=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${dr(l.namespace)}/tables/${l.name}`,body:a});return{"metadata-location":o.data["metadata-location"],metadata:o.data.metadata}}async dropTable(l,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${dr(l.namespace)}/tables/${l.name}`,query:{purgeRequested:String((a==null?void 0:a.purge)??!1)}})}async loadTable(l){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${dr(l.namespace)}/tables/${l.name}`,headers:a})).data.metadata}async tableExists(l){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${dr(l.namespace)}/tables/${l.name}`,headers:a}),!0}catch(o){if(o instanceof qo&&o.status===404)return!1;throw o}}async createTableIfNotExists(l,a){try{return await this.createTable(l,a)}catch(o){if(o instanceof qo&&o.status===409)return await this.loadTable({namespace:l.namespace,name:a.name});throw o}}},jv=class{constructor(l){var u;let a="v1";l.catalogName&&(a+=`/${l.catalogName}`);const o=l.baseUrl.endsWith("/")?l.baseUrl:`${l.baseUrl}/`;this.client=Ov({baseUrl:o,auth:l.auth,fetchImpl:l.fetch}),this.accessDelegation=(u=l.accessDelegation)==null?void 0:u.join(","),this.namespaceOps=new kv(this.client,a),this.tableOps=new Nv(this.client,a,this.accessDelegation)}async listNamespaces(l){return this.namespaceOps.listNamespaces(l)}async createNamespace(l,a){return this.namespaceOps.createNamespace(l,a)}async dropNamespace(l){await this.namespaceOps.dropNamespace(l)}async loadNamespaceMetadata(l){return this.namespaceOps.loadNamespaceMetadata(l)}async listTables(l){return this.tableOps.listTables(l)}async createTable(l,a){return this.tableOps.createTable(l,a)}async updateTable(l,a){return this.tableOps.updateTable(l,a)}async dropTable(l,a){await this.tableOps.dropTable(l,a)}async loadTable(l){return this.tableOps.loadTable(l)}async namespaceExists(l){return this.namespaceOps.namespaceExists(l)}async tableExists(l){return this.tableOps.tableExists(l)}async createNamespaceIfNotExists(l,a){return this.namespaceOps.createNamespaceIfNotExists(l,a)}async createTableIfNotExists(l,a){return this.tableOps.createTableIfNotExists(l,a)}},Du=class extends Error{constructor(l,a="storage",o,u){super(l),this.__isStorageError=!0,this.namespace=a,this.name=a==="vectors"?"StorageVectorsError":"StorageError",this.status=o,this.statusCode=u}};function Uu(l){return typeof l=="object"&&l!==null&&"__isStorageError"in l}var Tu=class extends Du{constructor(l,a,o,u="storage"){super(l,u,a,o),this.name=u==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=a,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ug=class extends Du{constructor(l,a,o="storage"){super(l,o),this.name=o==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=a}};const Cv=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),Lv=l=>{if(typeof l!="object"||l===null)return!1;const a=Object.getPrototypeOf(l);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},sd=l=>{if(Array.isArray(l))return l.map(o=>sd(o));if(typeof l=="function"||l!==Object(l))return l;const a={};return Object.entries(l).forEach(([o,u])=>{const f=o.replace(/([-_][a-z])/gi,p=>p.toUpperCase().replace(/[-_]/g,""));a[f]=sd(u)}),a},Rv=l=>!l||typeof l!="string"||l.length===0||l.length>100||l.trim()!==l||l.includes("/")||l.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(l);function Zo(l){"@babel/helpers - typeof";return Zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Zo(l)}function zv(l,a){if(Zo(l)!="object"||!l)return l;var o=l[Symbol.toPrimitive];if(o!==void 0){var u=o.call(l,a);if(Zo(u)!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(l)}function Mv(l){var a=zv(l,"string");return Zo(a)=="symbol"?a:a+""}function Dv(l,a,o){return(a=Mv(a))in l?Object.defineProperty(l,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):l[a]=o,l}function Rp(l,a){var o=Object.keys(l);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(l);a&&(u=u.filter(function(f){return Object.getOwnPropertyDescriptor(l,f).enumerable})),o.push.apply(o,u)}return o}function wt(l){for(var a=1;a<arguments.length;a++){var o=arguments[a]!=null?arguments[a]:{};a%2?Rp(Object(o),!0).forEach(function(u){Dv(l,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(o)):Rp(Object(o)).forEach(function(u){Object.defineProperty(l,u,Object.getOwnPropertyDescriptor(o,u))})}return l}const zp=l=>{var a;return l.msg||l.message||l.error_description||(typeof l.error=="string"?l.error:(a=l.error)===null||a===void 0?void 0:a.message)||JSON.stringify(l)},Uv=async(l,a,o,u)=>{if(l&&typeof l=="object"&&"status"in l&&"ok"in l&&typeof l.status=="number"&&!(o!=null&&o.noResolveJson)){const f=l,p=f.status||500;if(typeof f.json=="function")f.json().then(g=>{const b=(g==null?void 0:g.statusCode)||(g==null?void 0:g.code)||p+"";a(new Tu(zp(g),p,b,u))}).catch(()=>{if(u==="vectors"){const g=p+"";a(new Tu(f.statusText||`HTTP ${p} error`,p,g,u))}else{const g=p+"";a(new Tu(f.statusText||`HTTP ${p} error`,p,g,u))}});else{const g=p+"";a(new Tu(f.statusText||`HTTP ${p} error`,p,g,u))}}else a(new ug(zp(l),l,u))},Bv=(l,a,o,u)=>{const f={method:l,headers:(a==null?void 0:a.headers)||{}};return l==="GET"||l==="HEAD"||!u?wt(wt({},f),o):(Lv(u)?(f.headers=wt({"Content-Type":"application/json"},a==null?void 0:a.headers),f.body=JSON.stringify(u)):f.body=u,a!=null&&a.duplex&&(f.duplex=a.duplex),wt(wt({},f),o))};async function Do(l,a,o,u,f,p,g){return new Promise((b,x)=>{l(o,Bv(a,u,f,p)).then(w=>{if(!w.ok)throw w;if(u!=null&&u.noResolveJson)return w;if(g==="vectors"){const A=w.headers.get("content-type");if(w.headers.get("content-length")==="0"||w.status===204)return{};if(!A||!A.includes("application/json"))return{}}return w.json()}).then(w=>b(w)).catch(w=>Uv(w,x,u,g))})}function cg(l="storage"){return{get:async(a,o,u,f)=>Do(a,"GET",o,u,f,void 0,l),post:async(a,o,u,f,p)=>Do(a,"POST",o,f,p,u,l),put:async(a,o,u,f,p)=>Do(a,"PUT",o,f,p,u,l),head:async(a,o,u,f)=>Do(a,"HEAD",o,wt(wt({},u),{},{noResolveJson:!0}),f,void 0,l),remove:async(a,o,u,f,p)=>Do(a,"DELETE",o,f,p,u,l)}}const Pv=cg("storage"),{get:Io,post:Vn,put:rd,head:Hv,remove:pd}=Pv,xn=cg("vectors");var Tr=class{constructor(l,a={},o,u="storage"){this.shouldThrowOnError=!1,this.url=l,this.headers=a,this.fetch=Cv(o),this.namespace=u}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(l){var a=this;try{return{data:await l(),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Uu(o))return{data:null,error:o};throw o}}},qv=class{constructor(l,a){this.downloadFn=l,this.shouldThrowOnError=a}then(l,a){return this.execute().then(l,a)}async execute(){var l=this;try{return{data:(await l.downloadFn()).body,error:null}}catch(a){if(l.shouldThrowOnError)throw a;if(Uu(a))return{data:null,error:a};throw a}}};let hg;hg=Symbol.toStringTag;var Zv=class{constructor(l,a){this.downloadFn=l,this.shouldThrowOnError=a,this[hg]="BlobDownloadBuilder",this.promise=null}asStream(){return new qv(this.downloadFn,this.shouldThrowOnError)}then(l,a){return this.getPromise().then(l,a)}catch(l){return this.getPromise().catch(l)}finally(l){return this.getPromise().finally(l)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var l=this;try{return{data:await(await l.downloadFn()).blob(),error:null}}catch(a){if(l.shouldThrowOnError)throw a;if(Uu(a))return{data:null,error:a};throw a}}};const Iv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Mp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Gv=class extends Tr{constructor(l,a={},o,u){super(l,a,u,"storage"),this.bucketId=o}async uploadOrUpdate(l,a,o,u){var f=this;return f.handleOperation(async()=>{let p;const g=wt(wt({},Mp),u);let b=wt(wt({},f.headers),l==="POST"&&{"x-upsert":String(g.upsert)});const x=g.metadata;typeof Blob<"u"&&o instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),x&&p.append("metadata",f.encodeMetadata(x)),p.append("",o)):typeof FormData<"u"&&o instanceof FormData?(p=o,p.has("cacheControl")||p.append("cacheControl",g.cacheControl),x&&!p.has("metadata")&&p.append("metadata",f.encodeMetadata(x))):(p=o,b["cache-control"]=`max-age=${g.cacheControl}`,b["content-type"]=g.contentType,x&&(b["x-metadata"]=f.toBase64(f.encodeMetadata(x))),(typeof ReadableStream<"u"&&p instanceof ReadableStream||p&&typeof p=="object"&&"pipe"in p&&typeof p.pipe=="function")&&!g.duplex&&(g.duplex="half")),u!=null&&u.headers&&(b=wt(wt({},b),u.headers));const w=f._removeEmptyFolders(a),A=f._getFinalPath(w),E=await(l=="PUT"?rd:Vn)(f.fetch,`${f.url}/object/${A}`,p,wt({headers:b},g!=null&&g.duplex?{duplex:g.duplex}:{}));return{path:w,id:E.Id,fullPath:E.Key}})}async upload(l,a,o){return this.uploadOrUpdate("POST",l,a,o)}async uploadToSignedUrl(l,a,o,u){var f=this;const p=f._removeEmptyFolders(l),g=f._getFinalPath(p),b=new URL(f.url+`/object/upload/sign/${g}`);return b.searchParams.set("token",a),f.handleOperation(async()=>{let x;const w=wt({upsert:Mp.upsert},u),A=wt(wt({},f.headers),{"x-upsert":String(w.upsert)});return typeof Blob<"u"&&o instanceof Blob?(x=new FormData,x.append("cacheControl",w.cacheControl),x.append("",o)):typeof FormData<"u"&&o instanceof FormData?(x=o,x.append("cacheControl",w.cacheControl)):(x=o,A["cache-control"]=`max-age=${w.cacheControl}`,A["content-type"]=w.contentType),{path:p,fullPath:(await rd(f.fetch,b.toString(),x,{headers:A})).Key}})}async createSignedUploadUrl(l,a){var o=this;return o.handleOperation(async()=>{let u=o._getFinalPath(l);const f=wt({},o.headers);a!=null&&a.upsert&&(f["x-upsert"]="true");const p=await Vn(o.fetch,`${o.url}/object/upload/sign/${u}`,{},{headers:f}),g=new URL(o.url+p.url),b=g.searchParams.get("token");if(!b)throw new Du("No token returned by API");return{signedUrl:g.toString(),path:l,token:b}})}async update(l,a,o){return this.uploadOrUpdate("PUT",l,a,o)}async move(l,a,o){var u=this;return u.handleOperation(async()=>await Vn(u.fetch,`${u.url}/object/move`,{bucketId:u.bucketId,sourceKey:l,destinationKey:a,destinationBucket:o==null?void 0:o.destinationBucket},{headers:u.headers}))}async copy(l,a,o){var u=this;return u.handleOperation(async()=>({path:(await Vn(u.fetch,`${u.url}/object/copy`,{bucketId:u.bucketId,sourceKey:l,destinationKey:a,destinationBucket:o==null?void 0:o.destinationBucket},{headers:u.headers})).Key}))}async createSignedUrl(l,a,o){var u=this;return u.handleOperation(async()=>{let f=u._getFinalPath(l),p=await Vn(u.fetch,`${u.url}/object/sign/${f}`,wt({expiresIn:a},o!=null&&o.transform?{transform:o.transform}:{}),{headers:u.headers});const g=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return{signedUrl:encodeURI(`${u.url}${p.signedURL}${g}`)}})}async createSignedUrls(l,a,o){var u=this;return u.handleOperation(async()=>{const f=await Vn(u.fetch,`${u.url}/object/sign/${u.bucketId}`,{expiresIn:a,paths:l},{headers:u.headers}),p=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return f.map(g=>wt(wt({},g),{},{signedUrl:g.signedURL?encodeURI(`${u.url}${g.signedURL}${p}`):null}))})}download(l,a){const o=typeof(a==null?void 0:a.transform)<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString((a==null?void 0:a.transform)||{}),f=u?`?${u}`:"",p=this._getFinalPath(l),g=()=>Io(this.fetch,`${this.url}/${o}/${p}${f}`,{headers:this.headers,noResolveJson:!0});return new Zv(g,this.shouldThrowOnError)}async info(l){var a=this;const o=a._getFinalPath(l);return a.handleOperation(async()=>sd(await Io(a.fetch,`${a.url}/object/info/${o}`,{headers:a.headers})))}async exists(l){var a=this;const o=a._getFinalPath(l);try{return await Hv(a.fetch,`${a.url}/object/${o}`,{headers:a.headers}),{data:!0,error:null}}catch(u){if(a.shouldThrowOnError)throw u;if(Uu(u)&&u instanceof ug){const f=u.originalError;if([400,404].includes(f==null?void 0:f.status))return{data:!1,error:u}}throw u}}getPublicUrl(l,a){const o=this._getFinalPath(l),u=[],f=a!=null&&a.download?`download=${a.download===!0?"":a.download}`:"";f!==""&&u.push(f);const p=typeof(a==null?void 0:a.transform)<"u"?"render/image":"object",g=this.transformOptsToQueryString((a==null?void 0:a.transform)||{});g!==""&&u.push(g);let b=u.join("&");return b!==""&&(b=`?${b}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${o}${b}`)}}}async remove(l){var a=this;return a.handleOperation(async()=>await pd(a.fetch,`${a.url}/object/${a.bucketId}`,{prefixes:l},{headers:a.headers}))}async list(l,a,o){var u=this;return u.handleOperation(async()=>{const f=wt(wt(wt({},Iv),a),{},{prefix:l||""});return await Vn(u.fetch,`${u.url}/object/list/${u.bucketId}`,f,{headers:u.headers},o)})}async listV2(l,a){var o=this;return o.handleOperation(async()=>{const u=wt({},l);return await Vn(o.fetch,`${o.url}/object/list-v2/${o.bucketId}`,u,{headers:o.headers},a)})}encodeMetadata(l){return JSON.stringify(l)}toBase64(l){return typeof Buffer<"u"?Buffer.from(l).toString("base64"):btoa(l)}_getFinalPath(l){return`${this.bucketId}/${l.replace(/^\/+/,"")}`}_removeEmptyFolders(l){return l.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(l){const a=[];return l.width&&a.push(`width=${l.width}`),l.height&&a.push(`height=${l.height}`),l.resize&&a.push(`resize=${l.resize}`),l.format&&a.push(`format=${l.format}`),l.quality&&a.push(`quality=${l.quality}`),a.join("&")}};const Vv="2.93.3",Yo={"X-Client-Info":`storage-js/${Vv}`};var Kv=class extends Tr{constructor(l,a={},o,u){const f=new URL(l);u!=null&&u.useNewHostname&&/supabase\.(co|in|red)$/.test(f.hostname)&&!f.hostname.includes("storage.supabase.")&&(f.hostname=f.hostname.replace("supabase.","storage.supabase."));const p=f.href.replace(/\/$/,""),g=wt(wt({},Yo),a);super(p,g,o,"storage")}async listBuckets(l){var a=this;return a.handleOperation(async()=>{const o=a.listBucketOptionsToQueryString(l);return await Io(a.fetch,`${a.url}/bucket${o}`,{headers:a.headers})})}async getBucket(l){var a=this;return a.handleOperation(async()=>await Io(a.fetch,`${a.url}/bucket/${l}`,{headers:a.headers}))}async createBucket(l,a={public:!1}){var o=this;return o.handleOperation(async()=>await Vn(o.fetch,`${o.url}/bucket`,{id:l,name:l,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:o.headers}))}async updateBucket(l,a){var o=this;return o.handleOperation(async()=>await rd(o.fetch,`${o.url}/bucket/${l}`,{id:l,name:l,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:o.headers}))}async emptyBucket(l){var a=this;return a.handleOperation(async()=>await Vn(a.fetch,`${a.url}/bucket/${l}/empty`,{},{headers:a.headers}))}async deleteBucket(l){var a=this;return a.handleOperation(async()=>await pd(a.fetch,`${a.url}/bucket/${l}`,{},{headers:a.headers}))}listBucketOptionsToQueryString(l){const a={};return l&&("limit"in l&&(a.limit=String(l.limit)),"offset"in l&&(a.offset=String(l.offset)),l.search&&(a.search=l.search),l.sortColumn&&(a.sortColumn=l.sortColumn),l.sortOrder&&(a.sortOrder=l.sortOrder)),Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():""}},Yv=class extends Tr{constructor(l,a={},o){const u=l.replace(/\/$/,""),f=wt(wt({},Yo),a);super(u,f,o,"storage")}async createBucket(l){var a=this;return a.handleOperation(async()=>await Vn(a.fetch,`${a.url}/bucket`,{name:l},{headers:a.headers}))}async listBuckets(l){var a=this;return a.handleOperation(async()=>{const o=new URLSearchParams;(l==null?void 0:l.limit)!==void 0&&o.set("limit",l.limit.toString()),(l==null?void 0:l.offset)!==void 0&&o.set("offset",l.offset.toString()),l!=null&&l.sortColumn&&o.set("sortColumn",l.sortColumn),l!=null&&l.sortOrder&&o.set("sortOrder",l.sortOrder),l!=null&&l.search&&o.set("search",l.search);const u=o.toString(),f=u?`${a.url}/bucket?${u}`:`${a.url}/bucket`;return await Io(a.fetch,f,{headers:a.headers})})}async deleteBucket(l){var a=this;return a.handleOperation(async()=>await pd(a.fetch,`${a.url}/bucket/${l}`,{},{headers:a.headers}))}from(l){var a=this;if(!Rv(l))throw new Du("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const o=new jv({baseUrl:this.url,catalogName:l,auth:{type:"custom",getHeaders:async()=>a.headers},fetch:this.fetch}),u=this.shouldThrowOnError;return new Proxy(o,{get(f,p){const g=f[p];return typeof g!="function"?g:async(...b)=>{try{return{data:await g.apply(f,b),error:null}}catch(x){if(u)throw x;return{data:null,error:x}}}}})}},$v=class extends Tr{constructor(l,a={},o){const u=l.replace(/\/$/,""),f=wt(wt({},Yo),{},{"Content-Type":"application/json"},a);super(u,f,o,"vectors")}async createIndex(l){var a=this;return a.handleOperation(async()=>await xn.post(a.fetch,`${a.url}/CreateIndex`,l,{headers:a.headers})||{})}async getIndex(l,a){var o=this;return o.handleOperation(async()=>await xn.post(o.fetch,`${o.url}/GetIndex`,{vectorBucketName:l,indexName:a},{headers:o.headers}))}async listIndexes(l){var a=this;return a.handleOperation(async()=>await xn.post(a.fetch,`${a.url}/ListIndexes`,l,{headers:a.headers}))}async deleteIndex(l,a){var o=this;return o.handleOperation(async()=>await xn.post(o.fetch,`${o.url}/DeleteIndex`,{vectorBucketName:l,indexName:a},{headers:o.headers})||{})}},Xv=class extends Tr{constructor(l,a={},o){const u=l.replace(/\/$/,""),f=wt(wt({},Yo),{},{"Content-Type":"application/json"},a);super(u,f,o,"vectors")}async putVectors(l){var a=this;if(l.vectors.length<1||l.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return a.handleOperation(async()=>await xn.post(a.fetch,`${a.url}/PutVectors`,l,{headers:a.headers})||{})}async getVectors(l){var a=this;return a.handleOperation(async()=>await xn.post(a.fetch,`${a.url}/GetVectors`,l,{headers:a.headers}))}async listVectors(l){var a=this;if(l.segmentCount!==void 0){if(l.segmentCount<1||l.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(l.segmentIndex!==void 0&&(l.segmentIndex<0||l.segmentIndex>=l.segmentCount))throw new Error(`segmentIndex must be between 0 and ${l.segmentCount-1}`)}return a.handleOperation(async()=>await xn.post(a.fetch,`${a.url}/ListVectors`,l,{headers:a.headers}))}async queryVectors(l){var a=this;return a.handleOperation(async()=>await xn.post(a.fetch,`${a.url}/QueryVectors`,l,{headers:a.headers}))}async deleteVectors(l){var a=this;if(l.keys.length<1||l.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return a.handleOperation(async()=>await xn.post(a.fetch,`${a.url}/DeleteVectors`,l,{headers:a.headers})||{})}},Jv=class extends Tr{constructor(l,a={},o){const u=l.replace(/\/$/,""),f=wt(wt({},Yo),{},{"Content-Type":"application/json"},a);super(u,f,o,"vectors")}async createBucket(l){var a=this;return a.handleOperation(async()=>await xn.post(a.fetch,`${a.url}/CreateVectorBucket`,{vectorBucketName:l},{headers:a.headers})||{})}async getBucket(l){var a=this;return a.handleOperation(async()=>await xn.post(a.fetch,`${a.url}/GetVectorBucket`,{vectorBucketName:l},{headers:a.headers}))}async listBuckets(l={}){var a=this;return a.handleOperation(async()=>await xn.post(a.fetch,`${a.url}/ListVectorBuckets`,l,{headers:a.headers}))}async deleteBucket(l){var a=this;return a.handleOperation(async()=>await xn.post(a.fetch,`${a.url}/DeleteVectorBucket`,{vectorBucketName:l},{headers:a.headers})||{})}},Qv=class extends Jv{constructor(l,a={}){super(l,a.headers||{},a.fetch)}from(l){return new Wv(this.url,this.headers,l,this.fetch)}async createBucket(l){var a=()=>super.createBucket,o=this;return a().call(o,l)}async getBucket(l){var a=()=>super.getBucket,o=this;return a().call(o,l)}async listBuckets(l={}){var a=()=>super.listBuckets,o=this;return a().call(o,l)}async deleteBucket(l){var a=()=>super.deleteBucket,o=this;return a().call(o,l)}},Wv=class extends $v{constructor(l,a,o,u){super(l,a,u),this.vectorBucketName=o}async createIndex(l){var a=()=>super.createIndex,o=this;return a().call(o,wt(wt({},l),{},{vectorBucketName:o.vectorBucketName}))}async listIndexes(l={}){var a=()=>super.listIndexes,o=this;return a().call(o,wt(wt({},l),{},{vectorBucketName:o.vectorBucketName}))}async getIndex(l){var a=()=>super.getIndex,o=this;return a().call(o,o.vectorBucketName,l)}async deleteIndex(l){var a=()=>super.deleteIndex,o=this;return a().call(o,o.vectorBucketName,l)}index(l){return new Fv(this.url,this.headers,this.vectorBucketName,l,this.fetch)}},Fv=class extends Xv{constructor(l,a,o,u,f){super(l,a,f),this.vectorBucketName=o,this.indexName=u}async putVectors(l){var a=()=>super.putVectors,o=this;return a().call(o,wt(wt({},l),{},{vectorBucketName:o.vectorBucketName,indexName:o.indexName}))}async getVectors(l){var a=()=>super.getVectors,o=this;return a().call(o,wt(wt({},l),{},{vectorBucketName:o.vectorBucketName,indexName:o.indexName}))}async listVectors(l={}){var a=()=>super.listVectors,o=this;return a().call(o,wt(wt({},l),{},{vectorBucketName:o.vectorBucketName,indexName:o.indexName}))}async queryVectors(l){var a=()=>super.queryVectors,o=this;return a().call(o,wt(wt({},l),{},{vectorBucketName:o.vectorBucketName,indexName:o.indexName}))}async deleteVectors(l){var a=()=>super.deleteVectors,o=this;return a().call(o,wt(wt({},l),{},{vectorBucketName:o.vectorBucketName,indexName:o.indexName}))}},ty=class extends Kv{constructor(l,a={},o,u){super(l,a,o,u)}from(l){return new Gv(this.url,this.headers,l,this.fetch)}get vectors(){return new Qv(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Yv(this.url+"/iceberg",this.headers,this.fetch)}};const dg="2.93.3",yr=30*1e3,od=3,Xh=od*yr,ey="http://localhost:9999",ny="supabase.auth.token",iy={"X-Client-Info":`gotrue-js/${dg}`},ld="X-Supabase-Api-Version",fg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ay=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,sy=600*1e3;class Go extends Error{constructor(a,o,u){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=o,this.code=u}}function gt(l){return typeof l=="object"&&l!==null&&"__isAuthError"in l}class ry extends Go{constructor(a,o,u){super(a,o,u),this.name="AuthApiError",this.status=o,this.code=u}}function oy(l){return gt(l)&&l.name==="AuthApiError"}class vs extends Go{constructor(a,o){super(a),this.name="AuthUnknownError",this.originalError=o}}class Ui extends Go{constructor(a,o,u,f){super(a,u,f),this.name=o,this.status=u}}class bn extends Ui{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Jh(l){return gt(l)&&l.name==="AuthSessionMissingError"}class fr extends Ui{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Eu extends Ui{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class Au extends Ui{constructor(a,o=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ly(l){return gt(l)&&l.name==="AuthImplicitGrantRedirectError"}class Dp extends Ui{constructor(a,o=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class uy extends Ui{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class ud extends Ui{constructor(a,o){super(a,"AuthRetryableFetchError",o,void 0)}}function Qh(l){return gt(l)&&l.name==="AuthRetryableFetchError"}class Up extends Ui{constructor(a,o,u){super(a,"AuthWeakPasswordError",o,"weak_password"),this.reasons=u}}class cd extends Ui{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const ju="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Bp=` 	
\r=`.split(""),cy=(()=>{const l=new Array(128);for(let a=0;a<l.length;a+=1)l[a]=-1;for(let a=0;a<Bp.length;a+=1)l[Bp[a].charCodeAt(0)]=-2;for(let a=0;a<ju.length;a+=1)l[ju[a].charCodeAt(0)]=a;return l})();function Pp(l,a,o){if(l!==null)for(a.queue=a.queue<<8|l,a.queuedBits+=8;a.queuedBits>=6;){const u=a.queue>>a.queuedBits-6&63;o(ju[u]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const u=a.queue>>a.queuedBits-6&63;o(ju[u]),a.queuedBits-=6}}function mg(l,a,o){const u=cy[l];if(u>-1)for(a.queue=a.queue<<6|u,a.queuedBits+=6;a.queuedBits>=8;)o(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(u===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(l)}"`)}}function Hp(l){const a=[],o=g=>{a.push(String.fromCodePoint(g))},u={utf8seq:0,codepoint:0},f={queue:0,queuedBits:0},p=g=>{fy(g,u,o)};for(let g=0;g<l.length;g+=1)mg(l.charCodeAt(g),f,p);return a.join("")}function hy(l,a){if(l<=127){a(l);return}else if(l<=2047){a(192|l>>6),a(128|l&63);return}else if(l<=65535){a(224|l>>12),a(128|l>>6&63),a(128|l&63);return}else if(l<=1114111){a(240|l>>18),a(128|l>>12&63),a(128|l>>6&63),a(128|l&63);return}throw new Error(`Unrecognized Unicode codepoint: ${l.toString(16)}`)}function dy(l,a){for(let o=0;o<l.length;o+=1){let u=l.charCodeAt(o);if(u>55295&&u<=56319){const f=(u-55296)*1024&65535;u=(l.charCodeAt(o+1)-56320&65535|f)+65536,o+=1}hy(u,a)}}function fy(l,a,o){if(a.utf8seq===0){if(l<=127){o(l);return}for(let u=1;u<6;u+=1)if((l>>7-u&1)===0){a.utf8seq=u;break}if(a.utf8seq===2)a.codepoint=l&31;else if(a.utf8seq===3)a.codepoint=l&15;else if(a.utf8seq===4)a.codepoint=l&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(l<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|l&63,a.utf8seq-=1,a.utf8seq===0&&o(a.codepoint)}}function wr(l){const a=[],o={queue:0,queuedBits:0},u=f=>{a.push(f)};for(let f=0;f<l.length;f+=1)mg(l.charCodeAt(f),o,u);return new Uint8Array(a)}function my(l){const a=[];return dy(l,o=>a.push(o)),new Uint8Array(a)}function ys(l){const a=[],o={queue:0,queuedBits:0},u=f=>{a.push(f)};return l.forEach(f=>Pp(f,o,u)),Pp(null,o,u),a.join("")}function py(l){return Math.round(Date.now()/1e3)+l}function gy(){return Symbol("auth-callback")}const Ze=()=>typeof window<"u"&&typeof document<"u",ms={tested:!1,writable:!1},pg=()=>{if(!Ze())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ms.tested)return ms.writable;const l=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(l,l),globalThis.localStorage.removeItem(l),ms.tested=!0,ms.writable=!0}catch{ms.tested=!0,ms.writable=!1}return ms.writable};function _y(l){const a={},o=new URL(l);if(o.hash&&o.hash[0]==="#")try{new URLSearchParams(o.hash.substring(1)).forEach((f,p)=>{a[p]=f})}catch{}return o.searchParams.forEach((u,f)=>{a[f]=u}),a}const gg=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),vy=l=>typeof l=="object"&&l!==null&&"status"in l&&"ok"in l&&"json"in l&&typeof l.json=="function",br=async(l,a,o)=>{await l.setItem(a,JSON.stringify(o))},ps=async(l,a)=>{const o=await l.getItem(a);if(!o)return null;try{return JSON.parse(o)}catch{return o}},qe=async(l,a)=>{await l.removeItem(a)};class Bu{constructor(){this.promise=new Bu.promiseConstructor((a,o)=>{this.resolve=a,this.reject=o})}}Bu.promiseConstructor=Promise;function Ou(l){const a=l.split(".");if(a.length!==3)throw new cd("Invalid JWT structure");for(let u=0;u<a.length;u++)if(!ay.test(a[u]))throw new cd("JWT not in base64url format");return{header:JSON.parse(Hp(a[0])),payload:JSON.parse(Hp(a[1])),signature:wr(a[2]),raw:{header:a[0],payload:a[1]}}}async function yy(l){return await new Promise(a=>{setTimeout(()=>a(null),l)})}function by(l,a){return new Promise((u,f)=>{(async()=>{for(let p=0;p<1/0;p++)try{const g=await l(p);if(!a(p,null,g)){u(g);return}}catch(g){if(!a(p,g)){f(g);return}}})()})}function xy(l){return("0"+l.toString(16)).substr(-2)}function wy(){const a=new Uint32Array(56);if(typeof crypto>"u"){const o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",u=o.length;let f="";for(let p=0;p<56;p++)f+=o.charAt(Math.floor(Math.random()*u));return f}return crypto.getRandomValues(a),Array.from(a,xy).join("")}async function Sy(l){const o=new TextEncoder().encode(l),u=await crypto.subtle.digest("SHA-256",o),f=new Uint8Array(u);return Array.from(f).map(p=>String.fromCharCode(p)).join("")}async function Ty(l){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),l;const o=await Sy(l);return btoa(o).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function mr(l,a,o=!1){const u=wy();let f=u;o&&(f+="/PASSWORD_RECOVERY"),await br(l,`${a}-code-verifier`,f);const p=await Ty(u);return[p,u===p?"plain":"s256"]}const Ey=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ay(l){const a=l.headers.get(ld);if(!a||!a.match(Ey))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function Oy(l){if(!l)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(l<=a)throw new Error("JWT has expired")}function ky(l){switch(l){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ny=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function pr(l){if(!Ny.test(l))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Wh(){const l={};return new Proxy(l,{get:(a,o)=>{if(o==="__isUserNotAvailableProxy")return!0;if(typeof o=="symbol"){const u=o.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${o}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,o)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${o}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,o)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${o}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function jy(l,a){return new Proxy(l,{get:(o,u,f)=>{if(u==="__isInsecureUserWarningProxy")return!0;if(typeof u=="symbol"){const p=u.toString();if(p==="Symbol(Symbol.toPrimitive)"||p==="Symbol(Symbol.toStringTag)"||p==="Symbol(util.inspect.custom)"||p==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(o,u,f)}return!a.value&&typeof u=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(o,u,f)}})}function qp(l){return JSON.parse(JSON.stringify(l))}const gs=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),Cy=[502,503,504];async function Zp(l){var a;if(!vy(l))throw new ud(gs(l),0);if(Cy.includes(l.status))throw new ud(gs(l),l.status);let o;try{o=await l.json()}catch(p){throw new vs(gs(p),p)}let u;const f=Ay(l);if(f&&f.getTime()>=fg["2024-01-01"].timestamp&&typeof o=="object"&&o&&typeof o.code=="string"?u=o.code:typeof o=="object"&&o&&typeof o.error_code=="string"&&(u=o.error_code),u){if(u==="weak_password")throw new Up(gs(o),l.status,((a=o.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(u==="session_not_found")throw new bn}else if(typeof o=="object"&&o&&typeof o.weak_password=="object"&&o.weak_password&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.reasons.reduce((p,g)=>p&&typeof g=="string",!0))throw new Up(gs(o),l.status,o.weak_password.reasons);throw new ry(gs(o),l.status||500,u)}const Ly=(l,a,o,u)=>{const f={method:l,headers:(a==null?void 0:a.headers)||{}};return l==="GET"?f:(f.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a==null?void 0:a.headers),f.body=JSON.stringify(u),Object.assign(Object.assign({},f),o))};async function bt(l,a,o,u){var f;const p=Object.assign({},u==null?void 0:u.headers);p[ld]||(p[ld]=fg["2024-01-01"].name),u!=null&&u.jwt&&(p.Authorization=`Bearer ${u.jwt}`);const g=(f=u==null?void 0:u.query)!==null&&f!==void 0?f:{};u!=null&&u.redirectTo&&(g.redirect_to=u.redirectTo);const b=Object.keys(g).length?"?"+new URLSearchParams(g).toString():"",x=await Ry(l,a,o+b,{headers:p,noResolveJson:u==null?void 0:u.noResolveJson},{},u==null?void 0:u.body);return u!=null&&u.xform?u==null?void 0:u.xform(x):{data:Object.assign({},x),error:null}}async function Ry(l,a,o,u,f,p){const g=Ly(a,u,f,p);let b;try{b=await l(o,Object.assign({},g))}catch(x){throw console.error(x),new ud(gs(x),0)}if(b.ok||await Zp(b),u!=null&&u.noResolveJson)return b;try{return await b.json()}catch(x){await Zp(x)}}function Gn(l){var a;let o=null;Dy(l)&&(o=Object.assign({},l),l.expires_at||(o.expires_at=py(l.expires_in)));const u=(a=l.user)!==null&&a!==void 0?a:l;return{data:{session:o,user:u},error:null}}function Ip(l){const a=Gn(l);return!a.error&&l.weak_password&&typeof l.weak_password=="object"&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.message&&typeof l.weak_password.message=="string"&&l.weak_password.reasons.reduce((o,u)=>o&&typeof u=="string",!0)&&(a.data.weak_password=l.weak_password),a}function Ta(l){var a;return{data:{user:(a=l.user)!==null&&a!==void 0?a:l},error:null}}function zy(l){return{data:l,error:null}}function My(l){const{action_link:a,email_otp:o,hashed_token:u,redirect_to:f,verification_type:p}=l,g=Mu(l,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),b={action_link:a,email_otp:o,hashed_token:u,redirect_to:f,verification_type:p},x=Object.assign({},g);return{data:{properties:b,user:x},error:null}}function Gp(l){return l}function Dy(l){return l.access_token&&l.refresh_token&&l.expires_in}const Fh=["global","local","others"];class Uy{constructor({url:a="",headers:o={},fetch:u}){this.url=a,this.headers=o,this.fetch=gg(u),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,o=Fh[0]){if(Fh.indexOf(o)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Fh.join(", ")}`);try{return await bt(this.fetch,"POST",`${this.url}/logout?scope=${o}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(u){if(gt(u))return{data:null,error:u};throw u}}async inviteUserByEmail(a,o={}){try{return await bt(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:o.data},headers:this.headers,redirectTo:o.redirectTo,xform:Ta})}catch(u){if(gt(u))return{data:{user:null},error:u};throw u}}async generateLink(a){try{const{options:o}=a,u=Mu(a,["options"]),f=Object.assign(Object.assign({},u),o);return"newEmail"in u&&(f.new_email=u==null?void 0:u.newEmail,delete f.newEmail),await bt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:f,headers:this.headers,xform:My,redirectTo:o==null?void 0:o.redirectTo})}catch(o){if(gt(o))return{data:{properties:null,user:null},error:o};throw o}}async createUser(a){try{return await bt(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:Ta})}catch(o){if(gt(o))return{data:{user:null},error:o};throw o}}async listUsers(a){var o,u,f,p,g,b,x;try{const w={nextPage:null,lastPage:0,total:0},A=await bt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(u=(o=a==null?void 0:a.page)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:"",per_page:(p=(f=a==null?void 0:a.perPage)===null||f===void 0?void 0:f.toString())!==null&&p!==void 0?p:""},xform:Gp});if(A.error)throw A.error;const E=await A.json(),j=(g=A.headers.get("x-total-count"))!==null&&g!==void 0?g:0,R=(x=(b=A.headers.get("link"))===null||b===void 0?void 0:b.split(","))!==null&&x!==void 0?x:[];return R.length>0&&(R.forEach(q=>{const H=parseInt(q.split(";")[0].split("=")[1].substring(0,1)),G=JSON.parse(q.split(";")[1].split("=")[1]);w[`${G}Page`]=H}),w.total=parseInt(j)),{data:Object.assign(Object.assign({},E),w),error:null}}catch(w){if(gt(w))return{data:{users:[]},error:w};throw w}}async getUserById(a){pr(a);try{return await bt(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:Ta})}catch(o){if(gt(o))return{data:{user:null},error:o};throw o}}async updateUserById(a,o){pr(a);try{return await bt(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:o,headers:this.headers,xform:Ta})}catch(u){if(gt(u))return{data:{user:null},error:u};throw u}}async deleteUser(a,o=!1){pr(a);try{return await bt(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:o},xform:Ta})}catch(u){if(gt(u))return{data:{user:null},error:u};throw u}}async _listFactors(a){pr(a.userId);try{const{data:o,error:u}=await bt(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:f=>({data:{factors:f},error:null})});return{data:o,error:u}}catch(o){if(gt(o))return{data:null,error:o};throw o}}async _deleteFactor(a){pr(a.userId),pr(a.id);try{return{data:await bt(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(o){if(gt(o))return{data:null,error:o};throw o}}async _listOAuthClients(a){var o,u,f,p,g,b,x;try{const w={nextPage:null,lastPage:0,total:0},A=await bt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(u=(o=a==null?void 0:a.page)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:"",per_page:(p=(f=a==null?void 0:a.perPage)===null||f===void 0?void 0:f.toString())!==null&&p!==void 0?p:""},xform:Gp});if(A.error)throw A.error;const E=await A.json(),j=(g=A.headers.get("x-total-count"))!==null&&g!==void 0?g:0,R=(x=(b=A.headers.get("link"))===null||b===void 0?void 0:b.split(","))!==null&&x!==void 0?x:[];return R.length>0&&(R.forEach(q=>{const H=parseInt(q.split(";")[0].split("=")[1].substring(0,1)),G=JSON.parse(q.split(";")[1].split("=")[1]);w[`${G}Page`]=H}),w.total=parseInt(j)),{data:Object.assign(Object.assign({},E),w),error:null}}catch(w){if(gt(w))return{data:{clients:[]},error:w};throw w}}async _createOAuthClient(a){try{return await bt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(gt(o))return{data:null,error:o};throw o}}async _getOAuthClient(a){try{return await bt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(gt(o))return{data:null,error:o};throw o}}async _updateOAuthClient(a,o){try{return await bt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:o,headers:this.headers,xform:u=>({data:u,error:null})})}catch(u){if(gt(u))return{data:null,error:u};throw u}}async _deleteOAuthClient(a){try{return await bt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(o){if(gt(o))return{data:null,error:o};throw o}}async _regenerateOAuthClientSecret(a){try{return await bt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(gt(o))return{data:null,error:o};throw o}}}function Vp(l={}){return{getItem:a=>l[a]||null,setItem:(a,o)=>{l[a]=o},removeItem:a=>{delete l[a]}}}const gr={debug:!!(globalThis&&pg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _g extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class By extends _g{}async function Py(l,a,o){gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",l,a);const u=new globalThis.AbortController;return a>0&&setTimeout(()=>{u.abort(),gr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",l)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(l,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:u.signal},async f=>{if(f){gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",l,f.name);try{return await o()}finally{gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",l,f.name)}}else{if(a===0)throw gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",l),new By(`Acquiring an exclusive Navigator LockManager lock "${l}" immediately failed`);if(gr.debug)try{const p=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(p,null,"  "))}catch(p){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",p)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await o()}}))}function Hy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function vg(l){if(!/^0x[a-fA-F0-9]{40}$/.test(l))throw new Error(`@supabase/auth-js: Address "${l}" is invalid.`);return l.toLowerCase()}function qy(l){return parseInt(l,16)}function Zy(l){const a=new TextEncoder().encode(l);return"0x"+Array.from(a,u=>u.toString(16).padStart(2,"0")).join("")}function Iy(l){var a;const{chainId:o,domain:u,expirationTime:f,issuedAt:p=new Date,nonce:g,notBefore:b,requestId:x,resources:w,scheme:A,uri:E,version:j}=l;{if(!Number.isInteger(o))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${o}`);if(!u)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(g&&g.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${g}`);if(!E)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(j!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${j}`);if(!((a=l.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${l.statement}`)}const R=vg(l.address),q=A?`${A}://${u}`:u,H=l.statement?`${l.statement}
`:"",G=`${q} wants you to sign in with your Ethereum account:
${R}

${H}`;let Q=`URI: ${E}
Version: ${j}
Chain ID: ${o}${g?`
Nonce: ${g}`:""}
Issued At: ${p.toISOString()}`;if(f&&(Q+=`
Expiration Time: ${f.toISOString()}`),b&&(Q+=`
Not Before: ${b.toISOString()}`),x&&(Q+=`
Request ID: ${x}`),w){let et=`
Resources:`;for(const J of w){if(!J||typeof J!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${J}`);et+=`
- ${J}`}Q+=et}return`${G}
${Q}`}class Ae extends Error{constructor({message:a,code:o,cause:u,name:f}){var p;super(a,{cause:u}),this.__isWebAuthnError=!0,this.name=(p=f??(u instanceof Error?u.name:void 0))!==null&&p!==void 0?p:"Unknown Error",this.code=o}}class Cu extends Ae{constructor(a,o){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o,message:a}),this.name="WebAuthnUnknownError",this.originalError=o}}function Gy({error:l,options:a}){var o,u,f;const{publicKey:p}=a;if(!p)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Ae({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else if(l.name==="ConstraintError"){if(((o=p.authenticatorSelection)===null||o===void 0?void 0:o.requireResidentKey)===!0)return new Ae({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:l});if(a.mediation==="conditional"&&((u=p.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new Ae({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:l});if(((f=p.authenticatorSelection)===null||f===void 0?void 0:f.userVerification)==="required")return new Ae({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:l})}else{if(l.name==="InvalidStateError")return new Ae({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:l});if(l.name==="NotAllowedError")return new Ae({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="NotSupportedError")return p.pubKeyCredParams.filter(b=>b.type==="public-key").length===0?new Ae({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:l}):new Ae({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:l});if(l.name==="SecurityError"){const g=window.location.hostname;if(yg(g)){if(p.rp.id!==g)return new Ae({message:`The RP ID "${p.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new Ae({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="TypeError"){if(p.user.id.byteLength<1||p.user.id.byteLength>64)return new Ae({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:l})}else if(l.name==="UnknownError")return new Ae({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new Ae({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}function Vy({error:l,options:a}){const{publicKey:o}=a;if(!o)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Ae({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else{if(l.name==="NotAllowedError")return new Ae({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="SecurityError"){const u=window.location.hostname;if(yg(u)){if(o.rpId!==u)return new Ae({message:`The RP ID "${o.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new Ae({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="UnknownError")return new Ae({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new Ae({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}class Ky{createNewAbortSignal(){if(this.controller){const o=new Error("Cancelling existing WebAuthn API call for new one");o.name="AbortError",this.controller.abort(o)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const Yy=new Ky;function $y(l){if(!l)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(l);const{challenge:a,user:o,excludeCredentials:u}=l,f=Mu(l,["challenge","user","excludeCredentials"]),p=wr(a).buffer,g=Object.assign(Object.assign({},o),{id:wr(o.id).buffer}),b=Object.assign(Object.assign({},f),{challenge:p,user:g});if(u&&u.length>0){b.excludeCredentials=new Array(u.length);for(let x=0;x<u.length;x++){const w=u[x];b.excludeCredentials[x]=Object.assign(Object.assign({},w),{id:wr(w.id).buffer,type:w.type||"public-key",transports:w.transports})}}return b}function Xy(l){if(!l)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(l);const{challenge:a,allowCredentials:o}=l,u=Mu(l,["challenge","allowCredentials"]),f=wr(a).buffer,p=Object.assign(Object.assign({},u),{challenge:f});if(o&&o.length>0){p.allowCredentials=new Array(o.length);for(let g=0;g<o.length;g++){const b=o[g];p.allowCredentials[g]=Object.assign(Object.assign({},b),{id:wr(b.id).buffer,type:b.type||"public-key",transports:b.transports})}}return p}function Jy(l){var a;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const o=l;return{id:l.id,rawId:l.id,response:{attestationObject:ys(new Uint8Array(l.response.attestationObject)),clientDataJSON:ys(new Uint8Array(l.response.clientDataJSON))},type:"public-key",clientExtensionResults:l.getClientExtensionResults(),authenticatorAttachment:(a=o.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Qy(l){var a;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const o=l,u=l.getClientExtensionResults(),f=l.response;return{id:l.id,rawId:l.id,response:{authenticatorData:ys(new Uint8Array(f.authenticatorData)),clientDataJSON:ys(new Uint8Array(f.clientDataJSON)),signature:ys(new Uint8Array(f.signature)),userHandle:f.userHandle?ys(new Uint8Array(f.userHandle)):void 0},type:"public-key",clientExtensionResults:u,authenticatorAttachment:(a=o.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function yg(l){return l==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(l)}function Kp(){var l,a;return!!(Ze()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((l=navigator==null?void 0:navigator.credentials)===null||l===void 0?void 0:l.create)=="function"&&typeof((a=navigator==null?void 0:navigator.credentials)===null||a===void 0?void 0:a.get)=="function")}async function Wy(l){try{const a=await navigator.credentials.create(l);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Cu("Browser returned unexpected credential type",a)}:{data:null,error:new Cu("Empty credential response",a)}}catch(a){return{data:null,error:Gy({error:a,options:l})}}}async function Fy(l){try{const a=await navigator.credentials.get(l);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Cu("Browser returned unexpected credential type",a)}:{data:null,error:new Cu("Empty credential response",a)}}catch(a){return{data:null,error:Vy({error:a,options:l})}}}const tb={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},eb={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Lu(...l){const a=f=>f!==null&&typeof f=="object"&&!Array.isArray(f),o=f=>f instanceof ArrayBuffer||ArrayBuffer.isView(f),u={};for(const f of l)if(f)for(const p in f){const g=f[p];if(g!==void 0)if(Array.isArray(g))u[p]=g;else if(o(g))u[p]=g;else if(a(g)){const b=u[p];a(b)?u[p]=Lu(b,g):u[p]=Lu(g)}else u[p]=g}return u}function nb(l,a){return Lu(tb,l,a||{})}function ib(l,a){return Lu(eb,l,a||{})}class ab{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:o,friendlyName:u,signal:f},p){var g;try{const{data:b,error:x}=await this.client.mfa.challenge({factorId:a,webauthn:o});if(!b)return{data:null,error:x};const w=f??Yy.createNewAbortSignal();if(b.webauthn.type==="create"){const{user:A}=b.webauthn.credential_options.publicKey;if(!A.name){const E=u;if(E)A.name=`${A.id}:${E}`;else{const R=(await this.client.getUser()).data.user,q=((g=R==null?void 0:R.user_metadata)===null||g===void 0?void 0:g.name)||(R==null?void 0:R.email)||(R==null?void 0:R.id)||"User";A.name=`${A.id}:${q}`}}A.displayName||(A.displayName=A.name)}switch(b.webauthn.type){case"create":{const A=nb(b.webauthn.credential_options.publicKey,p==null?void 0:p.create),{data:E,error:j}=await Wy({publicKey:A,signal:w});return E?{data:{factorId:a,challengeId:b.id,webauthn:{type:b.webauthn.type,credential_response:E}},error:null}:{data:null,error:j}}case"request":{const A=ib(b.webauthn.credential_options.publicKey,p==null?void 0:p.request),{data:E,error:j}=await Fy(Object.assign(Object.assign({},b.webauthn.credential_options),{publicKey:A,signal:w}));return E?{data:{factorId:a,challengeId:b.id,webauthn:{type:b.webauthn.type,credential_response:E}},error:null}:{data:null,error:j}}}}catch(b){return gt(b)?{data:null,error:b}:{data:null,error:new vs("Unexpected error in challenge",b)}}}async _verify({challengeId:a,factorId:o,webauthn:u}){return this.client.mfa.verify({factorId:o,challengeId:a,webauthn:u})}async _authenticate({factorId:a,webauthn:{rpId:o=typeof window<"u"?window.location.hostname:void 0,rpOrigins:u=typeof window<"u"?[window.location.origin]:void 0,signal:f}={}},p){if(!o)return{data:null,error:new Go("rpId is required for WebAuthn authentication")};try{if(!Kp())return{data:null,error:new vs("Browser does not support WebAuthn",null)};const{data:g,error:b}=await this.challenge({factorId:a,webauthn:{rpId:o,rpOrigins:u},signal:f},{request:p});if(!g)return{data:null,error:b};const{webauthn:x}=g;return this._verify({factorId:a,challengeId:g.challengeId,webauthn:{type:x.type,rpId:o,rpOrigins:u,credential_response:x.credential_response}})}catch(g){return gt(g)?{data:null,error:g}:{data:null,error:new vs("Unexpected error in authenticate",g)}}}async _register({friendlyName:a,webauthn:{rpId:o=typeof window<"u"?window.location.hostname:void 0,rpOrigins:u=typeof window<"u"?[window.location.origin]:void 0,signal:f}={}},p){if(!o)return{data:null,error:new Go("rpId is required for WebAuthn registration")};try{if(!Kp())return{data:null,error:new vs("Browser does not support WebAuthn",null)};const{data:g,error:b}=await this._enroll({friendlyName:a});if(!g)return await this.client.mfa.listFactors().then(A=>{var E;return(E=A.data)===null||E===void 0?void 0:E.all.find(j=>j.factor_type==="webauthn"&&j.friendly_name===a&&j.status!=="unverified")}).then(A=>A?this.client.mfa.unenroll({factorId:A==null?void 0:A.id}):void 0),{data:null,error:b};const{data:x,error:w}=await this._challenge({factorId:g.id,friendlyName:g.friendly_name,webauthn:{rpId:o,rpOrigins:u},signal:f},{create:p});return x?this._verify({factorId:g.id,challengeId:x.challengeId,webauthn:{rpId:o,rpOrigins:u,type:x.webauthn.type,credential_response:x.webauthn.credential_response}}):{data:null,error:w}}catch(g){return gt(g)?{data:null,error:g}:{data:null,error:new vs("Unexpected error in register",g)}}}}Hy();const sb={url:ey,storageKey:ny,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:iy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Yp(l,a,o){return await o()}const _r={};class Vo{get jwks(){var a,o;return(o=(a=_r[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&o!==void 0?o:{keys:[]}}set jwks(a){_r[this.storageKey]=Object.assign(Object.assign({},_r[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,o;return(o=(a=_r[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&o!==void 0?o:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){_r[this.storageKey]=Object.assign(Object.assign({},_r[this.storageKey]),{cachedAt:a})}constructor(a){var o,u,f;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const p=Object.assign(Object.assign({},sb),a);if(this.storageKey=p.storageKey,this.instanceID=(o=Vo.nextInstanceID[this.storageKey])!==null&&o!==void 0?o:0,Vo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!p.debug,typeof p.debug=="function"&&(this.logger=p.debug),this.instanceID>0&&Ze()){const g=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(g),this.logDebugMessages&&console.trace(g)}if(this.persistSession=p.persistSession,this.autoRefreshToken=p.autoRefreshToken,this.admin=new Uy({url:p.url,headers:p.headers,fetch:p.fetch}),this.url=p.url,this.headers=p.headers,this.fetch=gg(p.fetch),this.lock=p.lock||Yp,this.detectSessionInUrl=p.detectSessionInUrl,this.flowType=p.flowType,this.hasCustomAuthorizationHeader=p.hasCustomAuthorizationHeader,this.throwOnError=p.throwOnError,this.lockAcquireTimeout=p.lockAcquireTimeout,p.lock?this.lock=p.lock:this.persistSession&&Ze()&&(!((u=globalThis==null?void 0:globalThis.navigator)===null||u===void 0)&&u.locks)?this.lock=Py:this.lock=Yp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new ab(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(p.storage?this.storage=p.storage:pg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Vp(this.memoryStorage)),p.userStorage&&(this.userStorage=p.userStorage)):(this.memoryStorage={},this.storage=Vp(this.memoryStorage)),Ze()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(g){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",g)}(f=this.broadcastChannel)===null||f===void 0||f.addEventListener("message",async g=>{this._debug("received broadcast notification from other tab or client",g);try{await this._notifyAllSubscribers(g.data.event,g.data.session,!1)}catch(b){this._debug("#broadcastChannel","error",b)}})}this.initialize().catch(g=>{this._debug("#initialize()","error",g)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${dg}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let o={},u="none";if(Ze()&&(o=_y(window.location.href),this._isImplicitGrantCallback(o)?u="implicit":await this._isPKCECallback(o)&&(u="pkce")),Ze()&&this.detectSessionInUrl&&u!=="none"){const{data:f,error:p}=await this._getSessionFromURL(o,u);if(p){if(this._debug("#_initialize()","error detecting session from URL",p),ly(p)){const x=(a=p.details)===null||a===void 0?void 0:a.code;if(x==="identity_already_exists"||x==="identity_not_found"||x==="single_identity_not_deletable")return{error:p}}return{error:p}}const{session:g,redirectType:b}=f;return this._debug("#_initialize()","detected session in URL",g,"redirect type",b),await this._saveSession(g),setTimeout(async()=>{b==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",g):await this._notifyAllSubscribers("SIGNED_IN",g)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(o){return gt(o)?this._returnResult({error:o}):this._returnResult({error:new vs("Unexpected error during initialization",o)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var o,u,f;try{const p=await bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(u=(o=a==null?void 0:a.options)===null||o===void 0?void 0:o.data)!==null&&u!==void 0?u:{},gotrue_meta_security:{captcha_token:(f=a==null?void 0:a.options)===null||f===void 0?void 0:f.captchaToken}},xform:Gn}),{data:g,error:b}=p;if(b||!g)return this._returnResult({data:{user:null,session:null},error:b});const x=g.session,w=g.user;return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",x)),this._returnResult({data:{user:w,session:x},error:null})}catch(p){if(gt(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signUp(a){var o,u,f;try{let p;if("email"in a){const{email:A,password:E,options:j}=a;let R=null,q=null;this.flowType==="pkce"&&([R,q]=await mr(this.storage,this.storageKey)),p=await bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:j==null?void 0:j.emailRedirectTo,body:{email:A,password:E,data:(o=j==null?void 0:j.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:j==null?void 0:j.captchaToken},code_challenge:R,code_challenge_method:q},xform:Gn})}else if("phone"in a){const{phone:A,password:E,options:j}=a;p=await bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:A,password:E,data:(u=j==null?void 0:j.data)!==null&&u!==void 0?u:{},channel:(f=j==null?void 0:j.channel)!==null&&f!==void 0?f:"sms",gotrue_meta_security:{captcha_token:j==null?void 0:j.captchaToken}},xform:Gn})}else throw new Eu("You must provide either an email or phone number and a password");const{data:g,error:b}=p;if(b||!g)return await qe(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:b});const x=g.session,w=g.user;return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",x)),this._returnResult({data:{user:w,session:x},error:null})}catch(p){if(await qe(this.storage,`${this.storageKey}-code-verifier`),gt(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithPassword(a){try{let o;if("email"in a){const{email:p,password:g,options:b}=a;o=await bt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:p,password:g,gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:Ip})}else if("phone"in a){const{phone:p,password:g,options:b}=a;o=await bt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:p,password:g,gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:Ip})}else throw new Eu("You must provide either an email or phone number and a password");const{data:u,error:f}=o;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!u||!u.session||!u.user){const p=new fr;return this._returnResult({data:{user:null,session:null},error:p})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign({user:u.user,session:u.session},u.weak_password?{weakPassword:u.weak_password}:null),error:f})}catch(o){if(gt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithOAuth(a){var o,u,f,p;return await this._handleProviderSignIn(a.provider,{redirectTo:(o=a.options)===null||o===void 0?void 0:o.redirectTo,scopes:(u=a.options)===null||u===void 0?void 0:u.scopes,queryParams:(f=a.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:(p=a.options)===null||p===void 0?void 0:p.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:o}=a;switch(o){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${o}"`)}}async signInWithEthereum(a){var o,u,f,p,g,b,x,w,A,E,j;let R,q;if("message"in a)R=a.message,q=a.signature;else{const{chain:H,wallet:G,statement:Q,options:et}=a;let J;if(Ze())if(typeof G=="object")J=G;else{const mt=window;if("ethereum"in mt&&typeof mt.ethereum=="object"&&"request"in mt.ethereum&&typeof mt.ethereum.request=="function")J=mt.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof G!="object"||!(et!=null&&et.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");J=G}const ht=new URL((o=et==null?void 0:et.url)!==null&&o!==void 0?o:window.location.href),Ct=await J.request({method:"eth_requestAccounts"}).then(mt=>mt).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Ct||Ct.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const yt=vg(Ct[0]);let F=(u=et==null?void 0:et.signInWithEthereum)===null||u===void 0?void 0:u.chainId;if(!F){const mt=await J.request({method:"eth_chainId"});F=qy(mt)}const st={domain:ht.host,address:yt,statement:Q,uri:ht.href,version:"1",chainId:F,nonce:(f=et==null?void 0:et.signInWithEthereum)===null||f===void 0?void 0:f.nonce,issuedAt:(g=(p=et==null?void 0:et.signInWithEthereum)===null||p===void 0?void 0:p.issuedAt)!==null&&g!==void 0?g:new Date,expirationTime:(b=et==null?void 0:et.signInWithEthereum)===null||b===void 0?void 0:b.expirationTime,notBefore:(x=et==null?void 0:et.signInWithEthereum)===null||x===void 0?void 0:x.notBefore,requestId:(w=et==null?void 0:et.signInWithEthereum)===null||w===void 0?void 0:w.requestId,resources:(A=et==null?void 0:et.signInWithEthereum)===null||A===void 0?void 0:A.resources};R=Iy(st),q=await J.request({method:"personal_sign",params:[Zy(R),yt]})}try{const{data:H,error:G}=await bt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:R,signature:q},!((E=a.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(j=a.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:Gn});if(G)throw G;if(!H||!H.session||!H.user){const Q=new fr;return this._returnResult({data:{user:null,session:null},error:Q})}return H.session&&(await this._saveSession(H.session),await this._notifyAllSubscribers("SIGNED_IN",H.session)),this._returnResult({data:Object.assign({},H),error:G})}catch(H){if(gt(H))return this._returnResult({data:{user:null,session:null},error:H});throw H}}async signInWithSolana(a){var o,u,f,p,g,b,x,w,A,E,j,R;let q,H;if("message"in a)q=a.message,H=a.signature;else{const{chain:G,wallet:Q,statement:et,options:J}=a;let ht;if(Ze())if(typeof Q=="object")ht=Q;else{const yt=window;if("solana"in yt&&typeof yt.solana=="object"&&("signIn"in yt.solana&&typeof yt.solana.signIn=="function"||"signMessage"in yt.solana&&typeof yt.solana.signMessage=="function"))ht=yt.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof Q!="object"||!(J!=null&&J.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");ht=Q}const Ct=new URL((o=J==null?void 0:J.url)!==null&&o!==void 0?o:window.location.href);if("signIn"in ht&&ht.signIn){const yt=await ht.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},J==null?void 0:J.signInWithSolana),{version:"1",domain:Ct.host,uri:Ct.href}),et?{statement:et}:null));let F;if(Array.isArray(yt)&&yt[0]&&typeof yt[0]=="object")F=yt[0];else if(yt&&typeof yt=="object"&&"signedMessage"in yt&&"signature"in yt)F=yt;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)q=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),H=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in ht)||typeof ht.signMessage!="function"||!("publicKey"in ht)||typeof ht!="object"||!ht.publicKey||!("toBase58"in ht.publicKey)||typeof ht.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");q=[`${Ct.host} wants you to sign in with your Solana account:`,ht.publicKey.toBase58(),...et?["",et,""]:[""],"Version: 1",`URI: ${Ct.href}`,`Issued At: ${(f=(u=J==null?void 0:J.signInWithSolana)===null||u===void 0?void 0:u.issuedAt)!==null&&f!==void 0?f:new Date().toISOString()}`,...!((p=J==null?void 0:J.signInWithSolana)===null||p===void 0)&&p.notBefore?[`Not Before: ${J.signInWithSolana.notBefore}`]:[],...!((g=J==null?void 0:J.signInWithSolana)===null||g===void 0)&&g.expirationTime?[`Expiration Time: ${J.signInWithSolana.expirationTime}`]:[],...!((b=J==null?void 0:J.signInWithSolana)===null||b===void 0)&&b.chainId?[`Chain ID: ${J.signInWithSolana.chainId}`]:[],...!((x=J==null?void 0:J.signInWithSolana)===null||x===void 0)&&x.nonce?[`Nonce: ${J.signInWithSolana.nonce}`]:[],...!((w=J==null?void 0:J.signInWithSolana)===null||w===void 0)&&w.requestId?[`Request ID: ${J.signInWithSolana.requestId}`]:[],...!((E=(A=J==null?void 0:J.signInWithSolana)===null||A===void 0?void 0:A.resources)===null||E===void 0)&&E.length?["Resources",...J.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const yt=await ht.signMessage(new TextEncoder().encode(q),"utf8");if(!yt||!(yt instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");H=yt}}try{const{data:G,error:Q}=await bt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:q,signature:ys(H)},!((j=a.options)===null||j===void 0)&&j.captchaToken?{gotrue_meta_security:{captcha_token:(R=a.options)===null||R===void 0?void 0:R.captchaToken}}:null),xform:Gn});if(Q)throw Q;if(!G||!G.session||!G.user){const et=new fr;return this._returnResult({data:{user:null,session:null},error:et})}return G.session&&(await this._saveSession(G.session),await this._notifyAllSubscribers("SIGNED_IN",G.session)),this._returnResult({data:Object.assign({},G),error:Q})}catch(G){if(gt(G))return this._returnResult({data:{user:null,session:null},error:G});throw G}}async _exchangeCodeForSession(a){const o=await ps(this.storage,`${this.storageKey}-code-verifier`),[u,f]=(o??"").split("/");try{if(!u&&this.flowType==="pkce")throw new uy;const{data:p,error:g}=await bt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:u},xform:Gn});if(await qe(this.storage,`${this.storageKey}-code-verifier`),g)throw g;if(!p||!p.session||!p.user){const b=new fr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:b})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:Object.assign(Object.assign({},p),{redirectType:f??null}),error:g})}catch(p){if(await qe(this.storage,`${this.storageKey}-code-verifier`),gt(p))return this._returnResult({data:{user:null,session:null,redirectType:null},error:p});throw p}}async signInWithIdToken(a){try{const{options:o,provider:u,token:f,access_token:p,nonce:g}=a,b=await bt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:u,id_token:f,access_token:p,nonce:g,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Gn}),{data:x,error:w}=b;if(w)return this._returnResult({data:{user:null,session:null},error:w});if(!x||!x.session||!x.user){const A=new fr;return this._returnResult({data:{user:null,session:null},error:A})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:x,error:w})}catch(o){if(gt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithOtp(a){var o,u,f,p,g;try{if("email"in a){const{email:b,options:x}=a;let w=null,A=null;this.flowType==="pkce"&&([w,A]=await mr(this.storage,this.storageKey));const{error:E}=await bt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:b,data:(o=x==null?void 0:x.data)!==null&&o!==void 0?o:{},create_user:(u=x==null?void 0:x.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:w,code_challenge_method:A},redirectTo:x==null?void 0:x.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:E})}if("phone"in a){const{phone:b,options:x}=a,{data:w,error:A}=await bt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:b,data:(f=x==null?void 0:x.data)!==null&&f!==void 0?f:{},create_user:(p=x==null?void 0:x.shouldCreateUser)!==null&&p!==void 0?p:!0,gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},channel:(g=x==null?void 0:x.channel)!==null&&g!==void 0?g:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:w==null?void 0:w.message_id},error:A})}throw new Eu("You must provide either an email or phone number.")}catch(b){if(await qe(this.storage,`${this.storageKey}-code-verifier`),gt(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async verifyOtp(a){var o,u;try{let f,p;"options"in a&&(f=(o=a.options)===null||o===void 0?void 0:o.redirectTo,p=(u=a.options)===null||u===void 0?void 0:u.captchaToken);const{data:g,error:b}=await bt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:p}}),redirectTo:f,xform:Gn});if(b)throw b;if(!g)throw new Error("An error occurred on token verification.");const x=g.session,w=g.user;return x!=null&&x.access_token&&(await this._saveSession(x),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",x)),this._returnResult({data:{user:w,session:x},error:null})}catch(f){if(gt(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async signInWithSSO(a){var o,u,f,p,g;try{let b=null,x=null;this.flowType==="pkce"&&([b,x]=await mr(this.storage,this.storageKey));const w=await bt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(u=(o=a.options)===null||o===void 0?void 0:o.redirectTo)!==null&&u!==void 0?u:void 0}),!((f=a==null?void 0:a.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:b,code_challenge_method:x}),headers:this.headers,xform:zy});return!((p=w.data)===null||p===void 0)&&p.url&&Ze()&&!(!((g=a.options)===null||g===void 0)&&g.skipBrowserRedirect)&&window.location.assign(w.data.url),this._returnResult(w)}catch(b){if(await qe(this.storage,`${this.storageKey}-code-verifier`),gt(b))return this._returnResult({data:null,error:b});throw b}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:o},error:u}=a;if(u)throw u;if(!o)throw new bn;const{error:f}=await bt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:o.access_token});return this._returnResult({data:{user:null,session:null},error:f})})}catch(a){if(gt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const o=`${this.url}/resend`;if("email"in a){const{email:u,type:f,options:p}=a,{error:g}=await bt(this.fetch,"POST",o,{headers:this.headers,body:{email:u,type:f,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},redirectTo:p==null?void 0:p.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}else if("phone"in a){const{phone:u,type:f,options:p}=a,{data:g,error:b}=await bt(this.fetch,"POST",o,{headers:this.headers,body:{phone:u,type:f,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:b})}throw new Eu("You must provide either an email or phone number and a type")}catch(o){if(gt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async o=>o))}async _acquireLock(a,o){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const u=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),f=(async()=>(await u,await o()))();return this.pendingInLock.push((async()=>{try{await f}catch{}})()),f}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const u=o();for(this.pendingInLock.push((async()=>{try{await u}catch{}})()),await u;this.pendingInLock.length;){const f=[...this.pendingInLock];await Promise.all(f),this.pendingInLock.splice(0,f.length)}return await u}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const o=await this.__loadSession();return await a(o)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const o=await ps(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",o),o!==null&&(this._isValidSession(o)?a=o:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const u=a.expires_at?a.expires_at*1e3-Date.now()<Xh:!1;if(this._debug("#__loadSession()",`session has${u?"":" not"} expired`,"expires_at",a.expires_at),!u){if(this.userStorage){const g=await ps(this.userStorage,this.storageKey+"-user");g!=null&&g.user?a.user=g.user:a.user=Wh()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const g={value:this.suppressGetSessionWarning};a.user=jy(a.user,g),g.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:f,error:p}=await this._callRefreshToken(a.refresh_token);return p?this._returnResult({data:{session:null},error:p}):this._returnResult({data:{session:f},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;const o=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return o.data.user&&(this.suppressGetSessionWarning=!0),o}async _getUser(a){try{return a?await bt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:Ta}):await this._useSession(async o=>{var u,f,p;const{data:g,error:b}=o;if(b)throw b;return!(!((u=g.session)===null||u===void 0)&&u.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new bn}:await bt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(p=(f=g.session)===null||f===void 0?void 0:f.access_token)!==null&&p!==void 0?p:void 0,xform:Ta})})}catch(o){if(gt(o))return Jh(o)&&(await this._removeSession(),await qe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:o});throw o}}async updateUser(a,o={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(a,o))}async _updateUser(a,o={}){try{return await this._useSession(async u=>{const{data:f,error:p}=u;if(p)throw p;if(!f.session)throw new bn;const g=f.session;let b=null,x=null;this.flowType==="pkce"&&a.email!=null&&([b,x]=await mr(this.storage,this.storageKey));const{data:w,error:A}=await bt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:o==null?void 0:o.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:b,code_challenge_method:x}),jwt:g.access_token,xform:Ta});if(A)throw A;return g.user=w.user,await this._saveSession(g),await this._notifyAllSubscribers("USER_UPDATED",g),this._returnResult({data:{user:g.user},error:null})})}catch(u){if(await qe(this.storage,`${this.storageKey}-code-verifier`),gt(u))return this._returnResult({data:{user:null},error:u});throw u}}async setSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new bn;const o=Date.now()/1e3;let u=o,f=!0,p=null;const{payload:g}=Ou(a.access_token);if(g.exp&&(u=g.exp,f=u<=o),f){const{data:b,error:x}=await this._callRefreshToken(a.refresh_token);if(x)return this._returnResult({data:{user:null,session:null},error:x});if(!b)return{data:{user:null,session:null},error:null};p=b}else{const{data:b,error:x}=await this._getUser(a.access_token);if(x)return this._returnResult({data:{user:null,session:null},error:x});p={access_token:a.access_token,refresh_token:a.refresh_token,user:b.user,token_type:"bearer",expires_in:u-o,expires_at:u},await this._saveSession(p),await this._notifyAllSubscribers("SIGNED_IN",p)}return this._returnResult({data:{user:p.user,session:p},error:null})}catch(o){if(gt(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async o=>{var u;if(!a){const{data:g,error:b}=o;if(b)throw b;a=(u=g.session)!==null&&u!==void 0?u:void 0}if(!(a!=null&&a.refresh_token))throw new bn;const{data:f,error:p}=await this._callRefreshToken(a.refresh_token);return p?this._returnResult({data:{user:null,session:null},error:p}):f?this._returnResult({data:{user:f.user,session:f},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(o){if(gt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async _getSessionFromURL(a,o){try{if(!Ze())throw new Au("No browser detected.");if(a.error||a.error_description||a.error_code)throw new Au(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(o){case"implicit":if(this.flowType==="pkce")throw new Dp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Au("Not a valid implicit grant flow url.");break;default:}if(o==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new Dp("No code detected.");const{data:et,error:J}=await this._exchangeCodeForSession(a.code);if(J)throw J;const ht=new URL(window.location.href);return ht.searchParams.delete("code"),window.history.replaceState(window.history.state,"",ht.toString()),{data:{session:et.session,redirectType:null},error:null}}const{provider_token:u,provider_refresh_token:f,access_token:p,refresh_token:g,expires_in:b,expires_at:x,token_type:w}=a;if(!p||!b||!g||!w)throw new Au("No session defined in URL");const A=Math.round(Date.now()/1e3),E=parseInt(b);let j=A+E;x&&(j=parseInt(x));const R=j-A;R*1e3<=yr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${R}s, should have been closer to ${E}s`);const q=j-E;A-q>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",q,j,A):A-q<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",q,j,A);const{data:H,error:G}=await this._getUser(p);if(G)throw G;const Q={provider_token:u,provider_refresh_token:f,access_token:p,expires_in:E,expires_at:j,refresh_token:g,token_type:w,user:H.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:Q,redirectType:a.type},error:null})}catch(u){if(gt(u))return this._returnResult({data:{session:null,redirectType:null},error:u});throw u}}_isImplicitGrantCallback(a){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),a):!!(a.access_token||a.error_description)}async _isPKCECallback(a){const o=await ps(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&o)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async o=>{var u;const{data:f,error:p}=o;if(p&&!Jh(p))return this._returnResult({error:p});const g=(u=f.session)===null||u===void 0?void 0:u.access_token;if(g){const{error:b}=await this.admin.signOut(g,a);if(b&&!(oy(b)&&(b.status===404||b.status===401||b.status===403)||Jh(b)))return this._returnResult({error:b})}return a!=="others"&&(await this._removeSession(),await qe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const o=gy(),u={id:o,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",o),this.stateChangeEmitters.delete(o)}};return this._debug("#onAuthStateChange()","registered callback with id",o),this.stateChangeEmitters.set(o,u),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(o)})))(),{data:{subscription:u}}}async _emitInitialSession(a){return await this._useSession(async o=>{var u,f;try{const{data:{session:p},error:g}=o;if(g)throw g;await((u=this.stateChangeEmitters.get(a))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",p)),this._debug("INITIAL_SESSION","callback id",a,"session",p)}catch(p){await((f=this.stateChangeEmitters.get(a))===null||f===void 0?void 0:f.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",p),console.error(p)}})}async resetPasswordForEmail(a,o={}){let u=null,f=null;this.flowType==="pkce"&&([u,f]=await mr(this.storage,this.storageKey,!0));try{return await bt(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:u,code_challenge_method:f,gotrue_meta_security:{captcha_token:o.captchaToken}},headers:this.headers,redirectTo:o.redirectTo})}catch(p){if(await qe(this.storage,`${this.storageKey}-code-verifier`),gt(p))return this._returnResult({data:null,error:p});throw p}}async getUserIdentities(){var a;try{const{data:o,error:u}=await this.getUser();if(u)throw u;return this._returnResult({data:{identities:(a=o.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(o){if(gt(o))return this._returnResult({data:null,error:o});throw o}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var o;try{const{data:u,error:f}=await this._useSession(async p=>{var g,b,x,w,A;const{data:E,error:j}=p;if(j)throw j;const R=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(g=a.options)===null||g===void 0?void 0:g.redirectTo,scopes:(b=a.options)===null||b===void 0?void 0:b.scopes,queryParams:(x=a.options)===null||x===void 0?void 0:x.queryParams,skipBrowserRedirect:!0});return await bt(this.fetch,"GET",R,{headers:this.headers,jwt:(A=(w=E.session)===null||w===void 0?void 0:w.access_token)!==null&&A!==void 0?A:void 0})});if(f)throw f;return Ze()&&!(!((o=a.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u==null?void 0:u.url),this._returnResult({data:{provider:a.provider,url:u==null?void 0:u.url},error:null})}catch(u){if(gt(u))return this._returnResult({data:{provider:a.provider,url:null},error:u});throw u}}async linkIdentityIdToken(a){return await this._useSession(async o=>{var u;try{const{error:f,data:{session:p}}=o;if(f)throw f;const{options:g,provider:b,token:x,access_token:w,nonce:A}=a,E=await bt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(u=p==null?void 0:p.access_token)!==null&&u!==void 0?u:void 0,body:{provider:b,id_token:x,access_token:w,nonce:A,link_identity:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Gn}),{data:j,error:R}=E;return R?this._returnResult({data:{user:null,session:null},error:R}):!j||!j.session||!j.user?this._returnResult({data:{user:null,session:null},error:new fr}):(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("USER_UPDATED",j.session)),this._returnResult({data:j,error:R}))}catch(f){if(await qe(this.storage,`${this.storageKey}-code-verifier`),gt(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}})}async unlinkIdentity(a){try{return await this._useSession(async o=>{var u,f;const{data:p,error:g}=o;if(g)throw g;return await bt(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(f=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})})}catch(o){if(gt(o))return this._returnResult({data:null,error:o});throw o}}async _refreshAccessToken(a){const o=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(o,"begin");try{const u=Date.now();return await by(async f=>(f>0&&await yy(200*Math.pow(2,f-1)),this._debug(o,"refreshing attempt",f),await bt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:Gn})),(f,p)=>{const g=200*Math.pow(2,f);return p&&Qh(p)&&Date.now()+g-u<yr})}catch(u){if(this._debug(o,"error",u),gt(u))return this._returnResult({data:{session:null,user:null},error:u});throw u}finally{this._debug(o,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,o){const u=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:o.redirectTo,scopes:o.scopes,queryParams:o.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",o,"url",u),Ze()&&!o.skipBrowserRedirect&&window.location.assign(u),{data:{provider:a,url:u},error:null}}async _recoverAndRefresh(){var a,o;const u="#_recoverAndRefresh()";this._debug(u,"begin");try{const f=await ps(this.storage,this.storageKey);if(f&&this.userStorage){let g=await ps(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!g&&(g={user:f.user},await br(this.userStorage,this.storageKey+"-user",g)),f.user=(a=g==null?void 0:g.user)!==null&&a!==void 0?a:Wh()}else if(f&&!f.user&&!f.user){const g=await ps(this.storage,this.storageKey+"-user");g&&(g!=null&&g.user)?(f.user=g.user,await qe(this.storage,this.storageKey+"-user"),await br(this.storage,this.storageKey,f)):f.user=Wh()}if(this._debug(u,"session from storage",f),!this._isValidSession(f)){this._debug(u,"session is not valid"),f!==null&&await this._removeSession();return}const p=((o=f.expires_at)!==null&&o!==void 0?o:1/0)*1e3-Date.now()<Xh;if(this._debug(u,`session has${p?"":" not"} expired with margin of ${Xh}s`),p){if(this.autoRefreshToken&&f.refresh_token){const{error:g}=await this._callRefreshToken(f.refresh_token);g&&(console.error(g),Qh(g)||(this._debug(u,"refresh failed with a non-retryable error, removing the session",g),await this._removeSession()))}}else if(f.user&&f.user.__isUserNotAvailableProxy===!0)try{const{data:g,error:b}=await this._getUser(f.access_token);!b&&(g!=null&&g.user)?(f.user=g.user,await this._saveSession(f),await this._notifyAllSubscribers("SIGNED_IN",f)):this._debug(u,"could not get user data, skipping SIGNED_IN notification")}catch(g){console.error("Error getting user data:",g),this._debug(u,"error getting user data, skipping SIGNED_IN notification",g)}else await this._notifyAllSubscribers("SIGNED_IN",f)}catch(f){this._debug(u,"error",f),console.error(f);return}finally{this._debug(u,"end")}}async _callRefreshToken(a){var o,u;if(!a)throw new bn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const f=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(f,"begin");try{this.refreshingDeferred=new Bu;const{data:p,error:g}=await this._refreshAccessToken(a);if(g)throw g;if(!p.session)throw new bn;await this._saveSession(p.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",p.session);const b={data:p.session,error:null};return this.refreshingDeferred.resolve(b),b}catch(p){if(this._debug(f,"error",p),gt(p)){const g={data:null,error:p};return Qh(p)||await this._removeSession(),(o=this.refreshingDeferred)===null||o===void 0||o.resolve(g),g}throw(u=this.refreshingDeferred)===null||u===void 0||u.reject(p),p}finally{this.refreshingDeferred=null,this._debug(f,"end")}}async _notifyAllSubscribers(a,o,u=!0){const f=`#_notifyAllSubscribers(${a})`;this._debug(f,"begin",o,`broadcast = ${u}`);try{this.broadcastChannel&&u&&this.broadcastChannel.postMessage({event:a,session:o});const p=[],g=Array.from(this.stateChangeEmitters.values()).map(async b=>{try{await b.callback(a,o)}catch(x){p.push(x)}});if(await Promise.all(g),p.length>0){for(let b=0;b<p.length;b+=1)console.error(p[b]);throw p[0]}}finally{this._debug(f,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await qe(this.storage,`${this.storageKey}-code-verifier`);const o=Object.assign({},a),u=o.user&&o.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!u&&o.user&&await br(this.userStorage,this.storageKey+"-user",{user:o.user});const f=Object.assign({},o);delete f.user;const p=qp(f);await br(this.storage,this.storageKey,p)}else{const f=qp(o);await br(this.storage,this.storageKey,f)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await qe(this.storage,this.storageKey),await qe(this.storage,this.storageKey+"-code-verifier"),await qe(this.storage,this.storageKey+"-user"),this.userStorage&&await qe(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&Ze()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",a)}catch(o){console.error("removing visibilitychange callback failed",o)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),yr);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a);const o=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=o,o&&typeof o=="object"&&typeof o.unref=="function"?o.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(o)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a);const o=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,o&&clearTimeout(o)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async o=>{const{data:{session:u}}=o;if(!u||!u.refresh_token||!u.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const f=Math.floor((u.expires_at*1e3-a)/yr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${f} ticks, a tick lasts ${yr}ms, refresh threshold is ${od} ticks`),f<=od&&await this._callRefreshToken(u.refresh_token)})}catch(o){console.error("Auto refresh tick failed with error. This is likely a transient error.",o)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof _g)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ze()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(a){this._debug("#visibilityChangedCallback","error",a)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const o=`#_onVisibilityChanged(${a})`;this._debug(o,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(o,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,o,u){const f=[`provider=${encodeURIComponent(o)}`];if(u!=null&&u.redirectTo&&f.push(`redirect_to=${encodeURIComponent(u.redirectTo)}`),u!=null&&u.scopes&&f.push(`scopes=${encodeURIComponent(u.scopes)}`),this.flowType==="pkce"){const[p,g]=await mr(this.storage,this.storageKey),b=new URLSearchParams({code_challenge:`${encodeURIComponent(p)}`,code_challenge_method:`${encodeURIComponent(g)}`});f.push(b.toString())}if(u!=null&&u.queryParams){const p=new URLSearchParams(u.queryParams);f.push(p.toString())}return u!=null&&u.skipBrowserRedirect&&f.push(`skip_http_redirect=${u.skipBrowserRedirect}`),`${a}?${f.join("&")}`}async _unenroll(a){try{return await this._useSession(async o=>{var u;const{data:f,error:p}=o;return p?this._returnResult({data:null,error:p}):await bt(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(u=f==null?void 0:f.session)===null||u===void 0?void 0:u.access_token})})}catch(o){if(gt(o))return this._returnResult({data:null,error:o});throw o}}async _enroll(a){try{return await this._useSession(async o=>{var u,f;const{data:p,error:g}=o;if(g)return this._returnResult({data:null,error:g});const b=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:x,error:w}=await bt(this.fetch,"POST",`${this.url}/factors`,{body:b,headers:this.headers,jwt:(u=p==null?void 0:p.session)===null||u===void 0?void 0:u.access_token});return w?this._returnResult({data:null,error:w}):(a.factorType==="totp"&&x.type==="totp"&&(!((f=x==null?void 0:x.totp)===null||f===void 0)&&f.qr_code)&&(x.totp.qr_code=`data:image/svg+xml;utf-8,${x.totp.qr_code}`),this._returnResult({data:x,error:null}))})}catch(o){if(gt(o))return this._returnResult({data:null,error:o});throw o}}async _verify(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async o=>{var u;const{data:f,error:p}=o;if(p)return this._returnResult({data:null,error:p});const g=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?Jy(a.webauthn.credential_response):Qy(a.webauthn.credential_response)})}:{code:a.code}),{data:b,error:x}=await bt(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:g,headers:this.headers,jwt:(u=f==null?void 0:f.session)===null||u===void 0?void 0:u.access_token});return x?this._returnResult({data:null,error:x}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+b.expires_in},b)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",b),this._returnResult({data:b,error:x}))})}catch(o){if(gt(o))return this._returnResult({data:null,error:o});throw o}})}async _challenge(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async o=>{var u;const{data:f,error:p}=o;if(p)return this._returnResult({data:null,error:p});const g=await bt(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(u=f==null?void 0:f.session)===null||u===void 0?void 0:u.access_token});if(g.error)return g;const{data:b}=g;if(b.type!=="webauthn")return{data:b,error:null};switch(b.webauthn.type){case"create":return{data:Object.assign(Object.assign({},b),{webauthn:Object.assign(Object.assign({},b.webauthn),{credential_options:Object.assign(Object.assign({},b.webauthn.credential_options),{publicKey:$y(b.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},b),{webauthn:Object.assign(Object.assign({},b.webauthn),{credential_options:Object.assign(Object.assign({},b.webauthn.credential_options),{publicKey:Xy(b.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(o){if(gt(o))return this._returnResult({data:null,error:o});throw o}})}async _challengeAndVerify(a){const{data:o,error:u}=await this._challenge({factorId:a.factorId});return u?this._returnResult({data:null,error:u}):await this._verify({factorId:a.factorId,challengeId:o.id,code:a.code})}async _listFactors(){var a;const{data:{user:o},error:u}=await this.getUser();if(u)return{data:null,error:u};const f={all:[],phone:[],totp:[],webauthn:[]};for(const p of(a=o==null?void 0:o.factors)!==null&&a!==void 0?a:[])f.all.push(p),p.status==="verified"&&f[p.factor_type].push(p);return{data:f,error:null}}async _getAuthenticatorAssuranceLevel(a){var o,u,f,p;if(a)try{const{payload:R}=Ou(a);let q=null;R.aal&&(q=R.aal);let H=q;const{data:{user:G},error:Q}=await this.getUser(a);if(Q)return this._returnResult({data:null,error:Q});((u=(o=G==null?void 0:G.factors)===null||o===void 0?void 0:o.filter(ht=>ht.status==="verified"))!==null&&u!==void 0?u:[]).length>0&&(H="aal2");const J=R.amr||[];return{data:{currentLevel:q,nextLevel:H,currentAuthenticationMethods:J},error:null}}catch(R){if(gt(R))return this._returnResult({data:null,error:R});throw R}const{data:{session:g},error:b}=await this.getSession();if(b)return this._returnResult({data:null,error:b});if(!g)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:x}=Ou(g.access_token);let w=null;x.aal&&(w=x.aal);let A=w;((p=(f=g.user.factors)===null||f===void 0?void 0:f.filter(R=>R.status==="verified"))!==null&&p!==void 0?p:[]).length>0&&(A="aal2");const j=x.amr||[];return{data:{currentLevel:w,nextLevel:A,currentAuthenticationMethods:j},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async o=>{const{data:{session:u},error:f}=o;return f?this._returnResult({data:null,error:f}):u?await bt(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:u.access_token,xform:p=>({data:p,error:null})}):this._returnResult({data:null,error:new bn})})}catch(o){if(gt(o))return this._returnResult({data:null,error:o});throw o}}async _approveAuthorization(a,o){try{return await this._useSession(async u=>{const{data:{session:f},error:p}=u;if(p)return this._returnResult({data:null,error:p});if(!f)return this._returnResult({data:null,error:new bn});const g=await bt(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:f.access_token,body:{action:"approve"},xform:b=>({data:b,error:null})});return g.data&&g.data.redirect_url&&Ze()&&!(o!=null&&o.skipBrowserRedirect)&&window.location.assign(g.data.redirect_url),g})}catch(u){if(gt(u))return this._returnResult({data:null,error:u});throw u}}async _denyAuthorization(a,o){try{return await this._useSession(async u=>{const{data:{session:f},error:p}=u;if(p)return this._returnResult({data:null,error:p});if(!f)return this._returnResult({data:null,error:new bn});const g=await bt(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:f.access_token,body:{action:"deny"},xform:b=>({data:b,error:null})});return g.data&&g.data.redirect_url&&Ze()&&!(o!=null&&o.skipBrowserRedirect)&&window.location.assign(g.data.redirect_url),g})}catch(u){if(gt(u))return this._returnResult({data:null,error:u});throw u}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:o},error:u}=a;return u?this._returnResult({data:null,error:u}):o?await bt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,xform:f=>({data:f,error:null})}):this._returnResult({data:null,error:new bn})})}catch(a){if(gt(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async o=>{const{data:{session:u},error:f}=o;return f?this._returnResult({data:null,error:f}):u?(await bt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:u.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new bn})})}catch(o){if(gt(o))return this._returnResult({data:null,error:o});throw o}}async fetchJwk(a,o={keys:[]}){let u=o.keys.find(b=>b.kid===a);if(u)return u;const f=Date.now();if(u=this.jwks.keys.find(b=>b.kid===a),u&&this.jwks_cached_at+sy>f)return u;const{data:p,error:g}=await bt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(g)throw g;return!p.keys||p.keys.length===0||(this.jwks=p,this.jwks_cached_at=f,u=p.keys.find(b=>b.kid===a),!u)?null:u}async getClaims(a,o={}){try{let u=a;if(!u){const{data:R,error:q}=await this.getSession();if(q||!R.session)return this._returnResult({data:null,error:q});u=R.session.access_token}const{header:f,payload:p,signature:g,raw:{header:b,payload:x}}=Ou(u);o!=null&&o.allowExpired||Oy(p.exp);const w=!f.alg||f.alg.startsWith("HS")||!f.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(f.kid,o!=null&&o.keys?{keys:o.keys}:o==null?void 0:o.jwks);if(!w){const{error:R}=await this.getUser(u);if(R)throw R;return{data:{claims:p,header:f,signature:g},error:null}}const A=ky(f.alg),E=await crypto.subtle.importKey("jwk",w,A,!0,["verify"]);if(!await crypto.subtle.verify(A,E,g,my(`${b}.${x}`)))throw new cd("Invalid JWT signature");return{data:{claims:p,header:f,signature:g},error:null}}catch(u){if(gt(u))return this._returnResult({data:null,error:u});throw u}}}Vo.nextInstanceID={};const rb=Vo,ob="2.93.3";let Uo="";typeof Deno<"u"?Uo="deno":typeof document<"u"?Uo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Uo="react-native":Uo="node";const lb={"X-Client-Info":`supabase-js-${Uo}/${ob}`},ub={headers:lb},cb={schema:"public"},hb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},db={};function Ko(l){"@babel/helpers - typeof";return Ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Ko(l)}function fb(l,a){if(Ko(l)!="object"||!l)return l;var o=l[Symbol.toPrimitive];if(o!==void 0){var u=o.call(l,a);if(Ko(u)!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(l)}function mb(l){var a=fb(l,"string");return Ko(a)=="symbol"?a:a+""}function pb(l,a,o){return(a=mb(a))in l?Object.defineProperty(l,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):l[a]=o,l}function $p(l,a){var o=Object.keys(l);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(l);a&&(u=u.filter(function(f){return Object.getOwnPropertyDescriptor(l,f).enumerable})),o.push.apply(o,u)}return o}function ge(l){for(var a=1;a<arguments.length;a++){var o=arguments[a]!=null?arguments[a]:{};a%2?$p(Object(o),!0).forEach(function(u){pb(l,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(o)):$p(Object(o)).forEach(function(u){Object.defineProperty(l,u,Object.getOwnPropertyDescriptor(o,u))})}return l}const gb=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),_b=()=>Headers,vb=(l,a,o)=>{const u=gb(o),f=_b();return async(p,g)=>{var b;const x=(b=await a())!==null&&b!==void 0?b:l;let w=new f(g==null?void 0:g.headers);return w.has("apikey")||w.set("apikey",l),w.has("Authorization")||w.set("Authorization",`Bearer ${x}`),u(p,ge(ge({},g),{},{headers:w}))}};function yb(l){return l.endsWith("/")?l:l+"/"}function bb(l,a){var o,u;const{db:f,auth:p,realtime:g,global:b}=l,{db:x,auth:w,realtime:A,global:E}=a,j={db:ge(ge({},x),f),auth:ge(ge({},w),p),realtime:ge(ge({},A),g),storage:{},global:ge(ge(ge({},E),b),{},{headers:ge(ge({},(o=E==null?void 0:E.headers)!==null&&o!==void 0?o:{}),(u=b==null?void 0:b.headers)!==null&&u!==void 0?u:{})}),accessToken:async()=>""};return l.accessToken?j.accessToken=l.accessToken:delete j.accessToken,j}function xb(l){const a=l==null?void 0:l.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(yb(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var wb=class extends rb{constructor(l){super(l)}},Sb=class{constructor(l,a,o){var u,f;this.supabaseUrl=l,this.supabaseKey=a;const p=xb(l);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const g=`sb-${p.hostname.split(".")[0]}-auth-token`,b={db:cb,realtime:db,auth:ge(ge({},hb),{},{storageKey:g}),global:ub},x=bb(o??{},b);if(this.storageKey=(u=x.auth.storageKey)!==null&&u!==void 0?u:"",this.headers=(f=x.global.headers)!==null&&f!==void 0?f:{},x.accessToken)this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(A,E)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(E)} is not possible`)}});else{var w;this.auth=this._initSupabaseAuthClient((w=x.auth)!==null&&w!==void 0?w:{},this.headers,x.global.fetch)}this.fetch=vb(a,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(ge({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(A=>this.realtime.setAuth(A)).catch(A=>console.warn("Failed to set initial Realtime auth token:",A)),this.rest=new ov(new URL("rest/v1",p).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),this.storage=new ty(this.storageUrl.href,this.headers,this.fetch,o==null?void 0:o.storage),x.accessToken||this._listenForAuthEvents()}get functions(){return new nv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(l){return this.rest.from(l)}schema(l){return this.rest.schema(l)}rpc(l,a={},o={head:!1,get:!1,count:void 0}){return this.rest.rpc(l,a,o)}channel(l,a={config:{}}){return this.realtime.channel(l,a)}getChannels(){return this.realtime.getChannels()}removeChannel(l){return this.realtime.removeChannel(l)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var l=this,a,o;if(l.accessToken)return await l.accessToken();const{data:u}=await l.auth.getSession();return(a=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:l.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:l,persistSession:a,detectSessionInUrl:o,storage:u,userStorage:f,storageKey:p,flowType:g,lock:b,debug:x,throwOnError:w},A,E){const j={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new wb({url:this.authUrl.href,headers:ge(ge({},j),A),storageKey:p,autoRefreshToken:l,persistSession:a,detectSessionInUrl:o,storage:u,userStorage:f,flowType:g,lock:b,debug:x,throwOnError:w,fetch:E,hasCustomAuthorizationHeader:Object.keys(this.headers).some(R=>R.toLowerCase()==="authorization")})}_initRealtimeClient(l){return new Tv(this.realtimeUrl.href,ge(ge({},l),{},{params:ge(ge({},{apikey:this.supabaseKey}),l==null?void 0:l.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((l,a)=>{this._handleTokenChanged(l,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(l,a,o){(l==="TOKEN_REFRESHED"||l==="SIGNED_IN")&&this.changedAccessToken!==o?(this.changedAccessToken=o,this.realtime.setAuth(o)):l==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Tb=(l,a,o)=>new Sb(l,a,o);function Eb(){if(typeof window<"u")return!1;const l=globalThis.process;if(!l)return!1;const a=l.version;if(a==null)return!1;const o=a.match(/^v(\d+)\./);return o?parseInt(o[1],10)<=18:!1}Eb()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ab="https://ccyqzcaghwaggtmkmigi.supabase.co",Ob="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNjeXF6Y2FnaHdhZ2d0bWttaWdpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc2ODUwMjgsImV4cCI6MjA4MzI2MTAyOH0.pJTXXaMH1FQC5ml7IWGI3DjOfIl0aAW4Xcgy5dhKSvE",ce=Tb(Ab,Ob),kb=({onLogin:l})=>{const[a,o]=ut.useState(cn.DRIVER),[u,f]=ut.useState(""),[p,g]=ut.useState(""),[b,x]=ut.useState(!1),[w,A]=ut.useState(null),E=async j=>{j.preventDefault(),x(!0),A(null);try{const{data:R,error:q}=await ce.auth.signInWithPassword({email:u,password:p});if(q)throw q;if(R.session){const{data:H,error:G}=await ce.from("profiles").select("role").eq("id",R.session.user.id).single();if(G)throw G;if(H.role!==a){A(`Access denied. Your account is registered as ${H.role}, but you selected ${a}.`),await ce.auth.signOut();return}l(H.role,R.session)}}catch(R){A(R.message||"An error occurred during sign in")}finally{x(!1)}};return y.jsxs("div",{className:"flex flex-col min-h-[100dvh] lg:flex-row bg-background-light dark:bg-background-dark overflow-hidden",children:[y.jsx("div",{className:"hidden lg:flex flex-1 relative bg-[#f3ae3d] items-center justify-center p-12 xl:p-20 shrink-0 shadow-2xl z-10",children:y.jsxs("div",{className:"relative z-10 text-[#1c160d] text-center max-w-xl",children:[y.jsx("span",{className:"material-symbols-outlined text-[60px] xl:text-[90px] material-symbols-fill mb-6 xl:mb-8",children:"directions_bus"}),y.jsx("h1",{className:"text-3xl xl:text-5xl font-extrabold mb-4 xl:mb-8 leading-tight tracking-tight",children:"The smarter way to drive students."}),y.jsx("p",{className:"text-lg xl:text-xl font-semibold opacity-90 leading-relaxed",children:"Real-time tracking, student boarding, and efficient route management all in one place."}),y.jsxs("div",{className:"mt-8 xl:mt-14 flex gap-4 justify-center",children:[y.jsxs("div",{className:"bg-white/20 backdrop-blur-xl px-6 py-4 rounded-2xl flex items-center gap-3 border border-white/30",children:[y.jsx("span",{className:"material-symbols-outlined",children:"shield_person"}),y.jsx("p",{className:"font-extrabold tracking-tight",children:"Safety First"})]}),y.jsxs("div",{className:"bg-white/20 backdrop-blur-xl px-6 py-4 rounded-2xl flex items-center gap-3 border border-white/30",children:[y.jsx("span",{className:"material-symbols-outlined",children:"speed"}),y.jsx("p",{className:"font-extrabold tracking-tight",children:"Fast Tracking"})]})]})]})}),y.jsxs("div",{className:"flex-1 flex flex-col justify-center px-6 py-8 md:py-16 lg:px-12 xl:px-20 max-w-2xl mx-auto w-full overflow-y-auto no-scrollbar",children:[y.jsxs("header",{className:"flex items-center justify-between mb-8 md:mb-16 lg:hidden",children:[y.jsxs("div",{className:"text-[#f3ae3d] flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-[28px] md:text-[32px] material-symbols-fill",children:"directions_bus"}),y.jsx("span",{className:"font-black text-xl tracking-tighter",children:"Vidyon"})]}),y.jsx("div",{className:"bg-black/5 dark:bg-white/5 px-4 py-1.5 rounded-full border border-black/5",children:y.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest opacity-40",children:"v2.4.1"})})]}),y.jsxs("div",{className:"max-w-md w-full mx-auto",children:[y.jsxs("div",{className:"mb-10 md:mb-16",children:[y.jsx("h1",{className:"text-2xl md:text-3xl lg:text-4xl font-extrabold leading-tight mb-3 md:mb-6 tracking-tight",children:"Sign In"}),y.jsx("p",{className:"text-black/40 dark:text-white/40 text-base md:text-lg font-semibold leading-relaxed",children:"Welcome back! Please select your role and sign in."})]}),y.jsxs("form",{className:"space-y-6 md:space-y-8",onSubmit:E,children:[y.jsxs("div",{className:"flex flex-col gap-3",children:[y.jsx("label",{className:"text-xs md:text-sm font-bold uppercase tracking-widest text-black/30 dark:text-white/30 ml-1",children:"Account Role"}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsxs("button",{type:"button",onClick:()=>o(cn.DRIVER),className:`p-4 rounded-2xl border-2 transition-all flex flex-col items-center gap-2 ${a===cn.DRIVER?"border-[#f3ae3d] bg-[#f3ae3d]/5":"border-black/5 dark:border-white/5"}`,children:[y.jsx("span",{className:"material-symbols-outlined text-2xl",children:"directions_bus"}),y.jsx("span",{className:"font-bold text-sm",children:"Driver"})]}),y.jsxs("button",{type:"button",onClick:()=>o(cn.INSTITUTION),className:`p-4 rounded-2xl border-2 transition-all flex flex-col items-center gap-2 ${a===cn.INSTITUTION?"border-[#f3ae3d] bg-[#f3ae3d]/5":"border-black/5 dark:border-white/5"}`,children:[y.jsx("span",{className:"material-symbols-outlined text-2xl",children:"school"}),y.jsx("span",{className:"font-bold text-sm",children:"Institution"})]})]})]}),y.jsxs("div",{className:"flex flex-col gap-3",children:[y.jsx("label",{className:"text-xs md:text-sm font-bold uppercase tracking-widest text-black/30 dark:text-white/30 ml-1",children:"Email Address"}),y.jsxs("div",{className:"flex items-center bg-white dark:bg-[#2b2214] border-2 border-transparent shadow-xl shadow-black/[0.02] rounded-xl md:rounded-2xl h-14 md:h-18 px-5 md:px-7 focus-within:border-[#f3ae3d] focus-within:ring-4 ring-[#f3ae3d]/10 transition-all",children:[y.jsx("input",{type:"email",placeholder:"Enter your email",value:u,onChange:j=>f(j.target.value),className:"flex-1 bg-transparent border-none focus:ring-0 p-0 text-sm md:text-lg font-bold placeholder:text-black/10 dark:text-white",required:!0}),y.jsx("span",{className:"material-symbols-outlined text-[#f3ae3d]/40 text-xl md:text-3xl",children:"mail"})]})]}),y.jsxs("div",{className:"flex flex-col gap-3",children:[y.jsx("label",{className:"text-xs md:text-sm font-bold uppercase tracking-widest text-black/30 dark:text-white/30 ml-1",children:"Password"}),y.jsxs("div",{className:"flex items-center bg-white dark:bg-[#2b2214] border-2 border-transparent shadow-xl shadow-black/[0.02] rounded-xl md:rounded-2xl h-14 md:h-18 px-5 md:px-7 focus-within:border-[#f3ae3d] focus-within:ring-4 ring-[#f3ae3d]/10 transition-all",children:[y.jsx("input",{type:"password",placeholder:"",value:p,onChange:j=>g(j.target.value),className:"flex-1 bg-transparent border-none focus:ring-0 p-0 text-sm md:text-lg font-bold placeholder:text-black/10 dark:text-white",required:!0}),y.jsx("span",{className:"material-symbols-outlined text-[#f3ae3d]/40 text-xl md:text-3xl",children:"lock"})]})]}),w&&y.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-2xl text-red-600 dark:text-red-400 text-sm font-bold flex items-center gap-3",children:[y.jsx("span",{className:"material-symbols-outlined",children:"error"}),w]}),y.jsx("div",{className:"space-y-4 md:space-y-6 pt-4 md:pt-6",children:y.jsx("button",{type:"submit",disabled:b,className:"w-full h-12 md:h-16 bg-[#f3ae3d] text-[#1c160d] font-extrabold text-base md:text-xl rounded-xl md:rounded-2xl shadow-2xl shadow-[#f3ae3d]/20 hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-50 disabled:hover:scale-100",children:b?"Authenticating...":"Log In"})})]}),y.jsx("footer",{className:"mt-12 md:mt-16 flex flex-col items-center gap-4 md:gap-6",children:y.jsxs("div",{className:"flex gap-4 items-center",children:[y.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 bg-black/5 dark:bg-white/5 rounded-full flex items-center justify-center",children:y.jsx("span",{className:"material-symbols-outlined text-xs md:text-sm",children:"help"})}),y.jsx("span",{className:"text-xs md:text-sm font-bold opacity-60",children:"Fleet Support: 1-800-VIDYON"})]})})]})]})]})},Nb=({trip:l,boardedCount:a,totalStudents:o,onStartTrip:u,setView:f})=>{const p=o-a;return y.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[y.jsxs("header",{className:"px-4 py-6 md:px-8 md:py-10 lg:px-12 flex flex-col md:flex-row md:items-end justify-between gap-4 shrink-0",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx("h1",{className:"text-xl md:text-3xl font-extrabold tracking-tight",children:"Driver Dashboard"}),y.jsxs("div",{className:"bg-success/10 text-success px-2 py-0.5 rounded-full flex items-center gap-1.5 border border-success/20",children:[y.jsx("div",{className:"w-1.5 h-1.5 bg-success rounded-full animate-pulse"}),y.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Live"})]})]}),y.jsx("p",{className:"text-black/40 dark:text-white/40 text-sm md:text-base font-semibold",children:"Morning pickup and student monitoring"})]}),y.jsxs("div",{className:"flex items-center gap-2 text-xs md:text-sm font-semibold opacity-60",children:[y.jsx("span",{children:"Updated: 1:00:43 pm"}),y.jsx("button",{onClick:u,className:"ml-2 bg-primary text-[#1c160d] px-4 py-2 md:px-6 md:py-3 rounded-xl font-bold shadow-lg shadow-primary/20 hover:scale-[1.02] active:scale-[0.98] transition-all",children:"Start Trip"})]})]}),y.jsxs("main",{className:"flex-1 overflow-y-auto px-4 py-2 md:px-8 lg:px-12 pb-32 no-scrollbar",children:[y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8 md:mb-12",children:[y.jsxs("div",{className:"bg-white dark:bg-card-dark p-5 md:p-6 rounded-[1.5rem] md:rounded-[2rem] shadow-xl shadow-black/[0.02] border border-black/5 flex flex-col justify-between",children:[y.jsxs("div",{className:"flex items-start justify-between mb-4",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-[10px] md:text-xs font-bold text-black/40 dark:text-white/40 uppercase tracking-widest mb-1",children:"Total Students"}),y.jsx("h3",{className:"text-xl md:text-3xl font-extrabold leading-none",children:o})]}),y.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-blue-500/10 text-blue-500 rounded-xl flex items-center justify-center",children:y.jsx("span",{className:"material-symbols-outlined text-2xl md:text-3xl",children:"diversity_3"})})]}),y.jsx("p",{className:"text-[10px] md:text-xs font-semibold text-black/30 dark:text-white/30",children:"Enrolled for this route"})]}),y.jsxs("div",{className:"bg-white dark:bg-card-dark p-5 md:p-6 rounded-[1.5rem] md:rounded-[2rem] shadow-xl shadow-black/[0.02] border border-black/5 flex flex-col justify-between",children:[y.jsxs("div",{className:"flex items-start justify-between mb-4",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-[10px] md:text-xs font-bold text-black/40 dark:text-white/40 uppercase tracking-widest mb-1",children:"Boarded Today"}),y.jsx("h3",{className:"text-xl md:text-3xl font-extrabold leading-none",children:a})]}),y.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-success/10 text-success rounded-xl flex items-center justify-center",children:y.jsx("span",{className:"material-symbols-outlined text-2xl md:text-3xl",children:"check_circle"})})]}),y.jsx("p",{className:"text-[10px] md:text-xs font-semibold text-black/30 dark:text-white/30",children:"Confirmed on bus"})]}),y.jsxs("div",{className:"bg-white dark:bg-card-dark p-5 md:p-6 rounded-[1.5rem] md:rounded-[2rem] shadow-xl shadow-black/[0.02] border border-black/5 flex flex-col justify-between",children:[y.jsxs("div",{className:"flex items-start justify-between mb-4",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-[10px] md:text-xs font-bold text-black/40 dark:text-white/40 uppercase tracking-widest mb-1",children:"Remaining"}),y.jsx("h3",{className:"text-xl md:text-3xl font-extrabold leading-none",children:p})]}),y.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-danger/10 text-danger rounded-xl flex items-center justify-center",children:y.jsx("span",{className:"material-symbols-outlined text-2xl md:text-3xl",children:"error"})})]}),y.jsx("p",{className:"text-[10px] md:text-xs font-semibold text-black/30 dark:text-white/30",children:"Pending boarding"})]}),y.jsxs("div",{className:"bg-white dark:bg-card-dark p-5 md:p-6 rounded-[1.5rem] md:rounded-[2rem] shadow-xl shadow-black/[0.02] border border-black/5 flex flex-col justify-between",children:[y.jsxs("div",{className:"flex items-start justify-between mb-4",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-[10px] md:text-xs font-bold text-black/40 dark:text-white/40 uppercase tracking-widest mb-1",children:"Progress"}),y.jsxs("h3",{className:"text-xl md:text-3xl font-extrabold leading-none",children:[Math.round(a/o*100),"%"]})]}),y.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-primary/10 text-primary rounded-xl flex items-center justify-center",children:y.jsx("span",{className:"material-symbols-outlined text-2xl md:text-3xl",children:"trending_up"})})]}),y.jsx("p",{className:"text-[10px] md:text-xs font-semibold text-black/30 dark:text-white/30",children:"Of total expected"})]})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 md:gap-8",children:[y.jsxs("section",{className:"bg-white dark:bg-card-dark rounded-[2rem] shadow-xl shadow-black/[0.02] border border-black/5 overflow-hidden flex flex-col p-6 md:p-8",children:[y.jsxs("div",{className:"mb-6",children:[y.jsx("h4",{className:"text-xl font-extrabold mb-1",children:"Boarding Analytics"}),y.jsx("p",{className:"text-xs font-semibold opacity-40",children:"Breakdown of student boarding records"})]}),y.jsx("div",{className:"flex-1 flex items-center justify-center min-h-[250px] relative",children:y.jsxs("div",{className:"relative w-48 h-48 md:w-56 md:h-56",children:[y.jsxs("svg",{className:"w-full h-full -rotate-90",viewBox:"0 0 100 100",children:[y.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"currentColor",strokeWidth:"12",className:"text-black/5 dark:text-white/5"}),y.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"currentColor",strokeWidth:"12",strokeDasharray:"251.2",strokeDashoffset:251.2*(1-(a/o||0)),strokeLinecap:"round",className:"text-success transition-all duration-1000"})]}),y.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[y.jsxs("span",{className:"text-2xl md:text-3xl font-black",children:[Math.round(a/o*100),"%"]}),y.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest opacity-40",children:"Boarded"})]})]})}),y.jsxs("div",{className:"mt-6 flex justify-center gap-6",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"w-3 h-3 rounded-sm bg-success"}),y.jsx("span",{className:"text-xs font-bold opacity-60",children:"Boarded"})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"w-3 h-3 rounded-sm bg-black/10 dark:bg-white/10"}),y.jsx("span",{className:"text-xs font-bold opacity-60",children:"Pending"})]})]})]}),y.jsxs("section",{className:"bg-white dark:bg-card-dark rounded-[2rem] shadow-xl shadow-black/[0.02] border border-black/5 overflow-hidden flex flex-col p-6 md:p-8",children:[y.jsx("div",{className:"mb-6",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("h4",{className:"text-xl font-extrabold mb-1",children:"Route Context"}),y.jsx("p",{className:"text-xs font-semibold opacity-40",children:"Current trip specifics"})]}),y.jsx("div",{className:"bg-primary/10 p-2 rounded-xl text-primary",children:y.jsx("span",{className:"material-symbols-outlined",children:"map"})})]})}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"bg-black/[0.02] dark:bg-white/[0.02] p-6 rounded-3xl border border-black/5",children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsx("span",{className:"text-[10px] font-bold opacity-40 uppercase tracking-widest",children:"Ongoing Trip"}),y.jsx("span",{className:"text-[10px] font-bold text-primary uppercase tracking-widest",children:"Stop 4 / 12"})]}),y.jsx("p",{className:"text-lg font-extrabold",children:"Green Valley Apartments"}),y.jsx("p",{className:"text-xs font-semibold opacity-40 mt-1",children:"Expected 08:45 AM  2.4km distance"})]}),y.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center py-6 opacity-30",children:[y.jsx("div",{className:"w-12 h-12 bg-black/5 dark:bg-white/5 rounded-full flex items-center justify-center mb-3",children:y.jsx("span",{className:"material-symbols-outlined text-2xl",children:"history"})}),y.jsx("p",{className:"text-sm font-bold",children:"No recent notifications"})]})]})]})]})]})]})},jb=({students:l,onToggleBoarding:a,onDrop:o,busNumber:u,setView:f})=>{const[p,g]=ut.useState(""),[b,x]=ut.useState(null),w=l.filter(E=>E.name.toLowerCase().includes(p.toLowerCase())),A=l.filter(E=>E.boarded).length;return y.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[y.jsxs("header",{className:"sticky top-0 z-20 bg-background-light dark:bg-background-dark pt-6 md:pt-10 px-4 md:px-8 lg:px-10 pb-2 border-b border-primary/5 shrink-0",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-4 md:mb-6",children:[y.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[y.jsx("div",{className:"bg-primary/20 p-2 rounded-xl text-primary lg:hidden shrink-0",children:y.jsx("span",{className:"material-symbols-outlined text-2xl md:text-3xl material-symbols-fill",children:"group"})}),y.jsxs("div",{children:[y.jsx("h1",{className:"text-xl md:text-3xl font-extrabold tracking-tight",children:"Student Boarding"}),y.jsx("p",{className:"text-black/40 dark:text-white/40 text-[10px] md:text-xs font-bold uppercase tracking-widest",children:"Route 42  Morning Pickup"})]})]}),y.jsx("div",{className:"flex items-center gap-4",children:y.jsxs("div",{className:"bg-white dark:bg-card-dark px-4 py-2 md:px-6 md:py-3 rounded-xl md:rounded-2xl shadow-sm border border-black/5 flex items-center gap-3 flex-1 sm:flex-none",children:[y.jsxs("div",{className:"flex flex-col text-right flex-1 sm:flex-none",children:[y.jsx("p",{className:"text-[8px] md:text-[10px] font-bold opacity-30 uppercase tracking-widest",children:"Attendance"}),y.jsxs("p",{className:"text-base md:text-lg font-extrabold text-primary leading-tight",children:[A," / ",l.length]})]}),y.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 bg-primary/10 rounded-full flex items-center justify-center text-primary shrink-0",children:y.jsx("span",{className:"material-symbols-outlined font-black text-xl md:text-2xl",children:"fact_check"})})]})})]}),y.jsx("div",{className:"mb-4",children:y.jsxs("div",{className:"flex items-center bg-white dark:bg-card-dark border border-black/5 rounded-xl md:rounded-[1.5rem] h-12 md:h-14 px-4 md:px-6 shadow-sm focus-within:ring-2 ring-primary/20 transition-all lg:max-w-md",children:[y.jsx("span",{className:"material-symbols-outlined text-primary mr-3 text-xl md:text-2xl shrink-0",children:"search"}),y.jsx("input",{type:"text",placeholder:"Quick search by name...",value:p,onChange:E=>g(E.target.value),className:"flex-1 bg-transparent border-none focus:ring-0 p-0 text-sm md:text-base font-semibold placeholder:text-black/20"})]})})]}),y.jsxs("main",{className:"flex-1 overflow-y-auto px-4 py-4 md:px-8 md:py-6 lg:px-10 pb-32 lg:pb-10 no-scrollbar",children:[y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-4 md:gap-6 lg:gap-8",children:w.map(E=>y.jsxs("div",{className:`group p-5 md:p-6 rounded-2xl md:rounded-[2rem] border transition-all duration-300 flex flex-col justify-between ${E.boarded?"bg-white/40 dark:bg-card-dark/40 border-success/20 opacity-90":"bg-white dark:bg-card-dark border-black/5 shadow-xl shadow-black/[0.02] hover:scale-[1.02] hover:shadow-2xl"}`,children:[y.jsx("div",{className:"flex items-start justify-between mb-4 md:mb-6",children:y.jsxs("div",{className:"flex items-center gap-4 md:gap-5 min-w-0",children:[y.jsxs("div",{className:"relative shrink-0",children:[y.jsx("img",{src:E.avatar,alt:E.name,className:`w-16 h-16 md:w-20 md:h-20 rounded-xl md:rounded-[1.5rem] object-cover border-4 transition-all ${E.boarded?"grayscale border-success/20 scale-90 opacity-50":"border-primary/5"}`}),E.boarded&&y.jsx("div",{className:"absolute -top-1.5 -right-1.5 bg-success text-white w-6 h-6 md:w-8 md:h-8 rounded-full flex items-center justify-center shadow-lg animate-in zoom-in",children:y.jsx("span",{className:"material-symbols-outlined text-sm md:text-xl material-symbols-fill",children:"check"})})]}),y.jsxs("div",{className:"min-w-0",children:[y.jsx("h3",{className:`text-base md:text-lg font-extrabold leading-tight truncate ${E.boarded?"opacity-40 line-through":""}`,children:E.name}),y.jsxs("div",{className:"flex flex-wrap items-center gap-1.5 mt-1",children:[y.jsx("span",{className:`px-1.5 py-0.5 rounded-md text-[8px] md:text-[10px] font-bold uppercase tracking-widest ${E.boarded?"bg-gray-100 text-gray-400":"bg-primary/10 text-primary"}`,children:E.grade}),E.boarded&&y.jsx("span",{className:"text-[8px] md:text-[10px] font-bold text-success uppercase tracking-widest",children:E.boardedTime})]})]}),y.jsxs("div",{className:"relative",children:[y.jsx("button",{onClick:j=>{j.stopPropagation(),x(b===E.id?null:E.id)},className:"w-8 h-8 md:w-10 md:h-10 rounded-full hover:bg-black/5 flex items-center justify-center transition-colors",children:y.jsx("span",{className:"material-symbols-outlined text-black/40 dark:text-white/40",children:"more_vert"})}),b===E.id&&y.jsx("div",{className:"absolute right-0 top-full mt-2 w-48 md:w-56 bg-white dark:bg-[#2c241b] rounded-xl shadow-xl border border-black/5 z-10 overflow-hidden animate-in fade-in zoom-in-95 duration-200 p-1",children:y.jsxs("div",{className:"p-3 md:p-4 bg-primary/10 rounded-lg",children:[y.jsx("p",{className:"text-[10px] uppercase font-bold text-primary tracking-widest mb-1",children:"Parent Contact"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-primary text-sm",children:"call"}),y.jsx("span",{className:"font-bold text-sm md:text-base text-[#1c160d] dark:text-[#fcfaf8]",children:E.parentPhone})]})]})})]})]})}),y.jsxs("div",{className:"flex gap-3",children:[y.jsxs("button",{onClick:()=>!E.boarded&&a(E.id),disabled:E.boarded,className:`flex-1 h-12 md:h-14 rounded-xl font-bold text-sm flex items-center justify-center gap-2 transition-all active:scale-[0.98] ${E.boarded?"bg-success/10 text-success border border-success/20 cursor-default":"bg-primary text-[#1c160d] shadow-lg shadow-primary/20 hover:bg-primary/90"}`,children:[y.jsx("span",{className:"material-symbols-outlined text-lg material-symbols-fill",children:E.boarded?"check_circle":"login"}),E.boarded?"Boarded":"Confirm"]}),y.jsxs("button",{onClick:()=>o(E.id),disabled:!E.boarded||E.dropped,className:`flex-1 h-12 md:h-14 rounded-xl font-bold text-sm flex items-center justify-center gap-2 transition-all active:scale-[0.98] ${E.dropped?"bg-red-50 text-red-400 border border-red-100 cursor-default":E.boarded?"bg-white border-2 border-red-500 text-red-500 hover:bg-red-50":"bg-gray-100 text-gray-300 border border-transparent cursor-not-allowed"}`,children:[y.jsx("span",{className:"material-symbols-outlined text-lg material-symbols-fill",children:E.dropped?"no_crash":"logout"}),E.dropped?"Dropped":"Drop"]})]})]},E.id))}),w.length===0&&y.jsxs("div",{className:"flex flex-col items-center justify-center py-20 md:py-32 opacity-20",children:[y.jsx("span",{className:"material-symbols-outlined text-6xl md:text-8xl",children:"person_search"}),y.jsx("p",{className:"mt-4 md:mt-6 text-lg md:text-xl font-extrabold tracking-tight",children:"No students found"}),y.jsx("p",{className:"text-xs md:text-sm font-semibold",children:"Try adjusting your search terms"})]})]})]})};function bg(l,a){const o=ut.useRef(a);ut.useEffect(function(){a!==o.current&&l.attributionControl!=null&&(o.current!=null&&l.attributionControl.removeAttribution(o.current),a!=null&&l.attributionControl.addAttribution(a)),o.current=a},[l,a])}var Cb=ig();const Lb=1;function Rb(l){return Object.freeze({__version:Lb,map:l})}function xg(l,a){return Object.freeze({...l,...a})}const gd=ut.createContext(null);function _d(){const l=ut.use(gd);if(l==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return l}function wg(l){function a(o,u){const{instance:f,context:p}=l(o).current;ut.useImperativeHandle(u,()=>f);const{children:g}=o;return g==null?null:Nu.createElement(gd,{value:p},g)}return ut.forwardRef(a)}function zb(l){function a(o,u){const[f,p]=ut.useState(!1),{instance:g}=l(o,p).current;ut.useImperativeHandle(u,()=>g),ut.useEffect(function(){f&&g.update()},[g,f,o.children]);const b=g._contentNode;return b?Cb.createPortal(o.children,b):null}return ut.forwardRef(a)}function Mb(l){function a(o,u){const{instance:f}=l(o).current;return ut.useImperativeHandle(u,()=>f),null}return ut.forwardRef(a)}function vd(l,a){const o=ut.useRef(void 0);ut.useEffect(function(){return a!=null&&l.instance.on(a),o.current=a,function(){o.current!=null&&l.instance.off(o.current),o.current=null}},[l,a])}function Pu(l,a){const o=l.pane??a.pane;return o?{...l,pane:o}:l}function Db(l,a){return function(u,f){const p=_d(),g=l(Pu(u,p),p);return bg(p.map,u.attribution),vd(g.current,u.eventHandlers),a(g.current,p,u,f),g}}var Bo={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var Ub=Bo.exports,Xp;function Bb(){return Xp||(Xp=1,(function(l,a){(function(o,u){u(a)})(Ub,(function(o){var u="1.9.4";function f(n){var s,c,m,_;for(c=1,m=arguments.length;c<m;c++){_=arguments[c];for(s in _)n[s]=_[s]}return n}var p=Object.create||(function(){function n(){}return function(s){return n.prototype=s,new n}})();function g(n,s){var c=Array.prototype.slice;if(n.bind)return n.bind.apply(n,c.call(arguments,1));var m=c.call(arguments,2);return function(){return n.apply(s,m.length?m.concat(c.call(arguments)):arguments)}}var b=0;function x(n){return"_leaflet_id"in n||(n._leaflet_id=++b),n._leaflet_id}function w(n,s,c){var m,_,S,O;return O=function(){m=!1,_&&(S.apply(c,_),_=!1)},S=function(){m?_=arguments:(n.apply(c,arguments),setTimeout(O,s),m=!0)},S}function A(n,s,c){var m=s[1],_=s[0],S=m-_;return n===m&&c?n:((n-_)%S+S)%S+_}function E(){return!1}function j(n,s){if(s===!1)return n;var c=Math.pow(10,s===void 0?6:s);return Math.round(n*c)/c}function R(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function q(n){return R(n).split(/\s+/)}function H(n,s){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?p(n.options):{});for(var c in s)n.options[c]=s[c];return n.options}function G(n,s,c){var m=[];for(var _ in n)m.push(encodeURIComponent(c?_.toUpperCase():_)+"="+encodeURIComponent(n[_]));return(!s||s.indexOf("?")===-1?"?":"&")+m.join("&")}var Q=/\{ *([\w_ -]+) *\}/g;function et(n,s){return n.replace(Q,function(c,m){var _=s[m];if(_===void 0)throw new Error("No value provided for variable "+c);return typeof _=="function"&&(_=_(s)),_})}var J=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function ht(n,s){for(var c=0;c<n.length;c++)if(n[c]===s)return c;return-1}var Ct="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function yt(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var F=0;function st(n){var s=+new Date,c=Math.max(0,16-(s-F));return F=s+c,window.setTimeout(n,c)}var mt=window.requestAnimationFrame||yt("RequestAnimationFrame")||st,Dt=window.cancelAnimationFrame||yt("CancelAnimationFrame")||yt("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function Et(n,s,c){if(c&&mt===st)n.call(s);else return mt.call(window,g(n,s))}function Ut(n){n&&Dt.call(window,n)}var _e={__proto__:null,extend:f,create:p,bind:g,get lastId(){return b},stamp:x,throttle:w,wrapNum:A,falseFn:E,formatNum:j,trim:R,splitWords:q,setOptions:H,getParamString:G,template:et,isArray:J,indexOf:ht,emptyImageUrl:Ct,requestFn:mt,cancelFn:Dt,requestAnimFrame:Et,cancelAnimFrame:Ut};function se(){}se.extend=function(n){var s=function(){H(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=s.__super__=this.prototype,m=p(c);m.constructor=s,s.prototype=m;for(var _ in this)Object.prototype.hasOwnProperty.call(this,_)&&_!=="prototype"&&_!=="__super__"&&(s[_]=this[_]);return n.statics&&f(s,n.statics),n.includes&&(Ce(n.includes),f.apply(null,[m].concat(n.includes))),f(m,n),delete m.statics,delete m.includes,m.options&&(m.options=c.options?p(c.options):{},f(m.options,n.options)),m._initHooks=[],m.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var S=0,O=m._initHooks.length;S<O;S++)m._initHooks[S].call(this)}},s},se.include=function(n){var s=this.prototype.options;return f(this.prototype,n),n.options&&(this.prototype.options=s,this.mergeOptions(n.options)),this},se.mergeOptions=function(n){return f(this.prototype.options,n),this},se.addInitHook=function(n){var s=Array.prototype.slice.call(arguments,1),c=typeof n=="function"?n:function(){this[n].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};function Ce(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=J(n)?n:[n];for(var s=0;s<n.length;s++)n[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var I={on:function(n,s,c){if(typeof n=="object")for(var m in n)this._on(m,n[m],s);else{n=q(n);for(var _=0,S=n.length;_<S;_++)this._on(n[_],s,c)}return this},off:function(n,s,c){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var m in n)this._off(m,n[m],s);else{n=q(n);for(var _=arguments.length===1,S=0,O=n.length;S<O;S++)_?this._off(n[S]):this._off(n[S],s,c)}return this},_on:function(n,s,c,m){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(n,s,c)===!1){c===this&&(c=void 0);var _={fn:s,ctx:c};m&&(_.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(_)}},_off:function(n,s,c){var m,_,S;if(this._events&&(m=this._events[n],!!m)){if(arguments.length===1){if(this._firingCount)for(_=0,S=m.length;_<S;_++)m[_].fn=E;delete this._events[n];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var O=this._listens(n,s,c);if(O!==!1){var M=m[O];this._firingCount&&(M.fn=E,this._events[n]=m=m.slice()),m.splice(O,1)}}},fire:function(n,s,c){if(!this.listens(n,c))return this;var m=f({},s,{type:n,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var _=this._events[n];if(_){this._firingCount=this._firingCount+1||1;for(var S=0,O=_.length;S<O;S++){var M=_[S],B=M.fn;M.once&&this.off(n,B,M.ctx),B.call(M.ctx||this,m)}this._firingCount--}}return c&&this._propagateEvent(m),this},listens:function(n,s,c,m){typeof n!="string"&&console.warn('"string" type argument expected');var _=s;typeof s!="function"&&(m=!!s,_=void 0,c=void 0);var S=this._events&&this._events[n];if(S&&S.length&&this._listens(n,_,c)!==!1)return!0;if(m){for(var O in this._eventParents)if(this._eventParents[O].listens(n,s,c,m))return!0}return!1},_listens:function(n,s,c){if(!this._events)return!1;var m=this._events[n]||[];if(!s)return!!m.length;c===this&&(c=void 0);for(var _=0,S=m.length;_<S;_++)if(m[_].fn===s&&m[_].ctx===c)return _;return!1},once:function(n,s,c){if(typeof n=="object")for(var m in n)this._on(m,n[m],s,!0);else{n=q(n);for(var _=0,S=n.length;_<S;_++)this._on(n[_],s,c,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[x(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[x(n)],this},_propagateEvent:function(n){for(var s in this._eventParents)this._eventParents[s].fire(n.type,f({layer:n.target,propagatedFrom:n.target},n),!0)}};I.addEventListener=I.on,I.removeEventListener=I.clearAllEventListeners=I.off,I.addOneTimeEventListener=I.once,I.fireEvent=I.fire,I.hasEventListeners=I.listens;var at=se.extend(I);function W(n,s,c){this.x=c?Math.round(n):n,this.y=c?Math.round(s):s}var Vt=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};W.prototype={clone:function(){return new W(this.x,this.y)},add:function(n){return this.clone()._add(rt(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(rt(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new W(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new W(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Vt(this.x),this.y=Vt(this.y),this},distanceTo:function(n){n=rt(n);var s=n.x-this.x,c=n.y-this.y;return Math.sqrt(s*s+c*c)},equals:function(n){return n=rt(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=rt(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+j(this.x)+", "+j(this.y)+")"}};function rt(n,s,c){return n instanceof W?n:J(n)?new W(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new W(n.x,n.y):new W(n,s,c)}function N(n,s){if(n)for(var c=s?[n,s]:n,m=0,_=c.length;m<_;m++)this.extend(c[m])}N.prototype={extend:function(n){var s,c;if(!n)return this;if(n instanceof W||typeof n[0]=="number"||"x"in n)s=c=rt(n);else if(n=V(n),s=n.min,c=n.max,!s||!c)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=c.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)),this},getCenter:function(n){return rt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return rt(this.min.x,this.max.y)},getTopRight:function(){return rt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var s,c;return typeof n[0]=="number"||n instanceof W?n=rt(n):n=V(n),n instanceof N?(s=n.min,c=n.max):s=c=n,s.x>=this.min.x&&c.x<=this.max.x&&s.y>=this.min.y&&c.y<=this.max.y},intersects:function(n){n=V(n);var s=this.min,c=this.max,m=n.min,_=n.max,S=_.x>=s.x&&m.x<=c.x,O=_.y>=s.y&&m.y<=c.y;return S&&O},overlaps:function(n){n=V(n);var s=this.min,c=this.max,m=n.min,_=n.max,S=_.x>s.x&&m.x<c.x,O=_.y>s.y&&m.y<c.y;return S&&O},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var s=this.min,c=this.max,m=Math.abs(s.x-c.x)*n,_=Math.abs(s.y-c.y)*n;return V(rt(s.x-m,s.y-_),rt(c.x+m,c.y+_))},equals:function(n){return n?(n=V(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function V(n,s){return!n||n instanceof N?n:new N(n,s)}function tt(n,s){if(n)for(var c=s?[n,s]:n,m=0,_=c.length;m<_;m++)this.extend(c[m])}tt.prototype={extend:function(n){var s=this._southWest,c=this._northEast,m,_;if(n instanceof lt)m=n,_=n;else if(n instanceof tt){if(m=n._southWest,_=n._northEast,!m||!_)return this}else return n?this.extend(ot(n)||nt(n)):this;return!s&&!c?(this._southWest=new lt(m.lat,m.lng),this._northEast=new lt(_.lat,_.lng)):(s.lat=Math.min(m.lat,s.lat),s.lng=Math.min(m.lng,s.lng),c.lat=Math.max(_.lat,c.lat),c.lng=Math.max(_.lng,c.lng)),this},pad:function(n){var s=this._southWest,c=this._northEast,m=Math.abs(s.lat-c.lat)*n,_=Math.abs(s.lng-c.lng)*n;return new tt(new lt(s.lat-m,s.lng-_),new lt(c.lat+m,c.lng+_))},getCenter:function(){return new lt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new lt(this.getNorth(),this.getWest())},getSouthEast:function(){return new lt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof lt||"lat"in n?n=ot(n):n=nt(n);var s=this._southWest,c=this._northEast,m,_;return n instanceof tt?(m=n.getSouthWest(),_=n.getNorthEast()):m=_=n,m.lat>=s.lat&&_.lat<=c.lat&&m.lng>=s.lng&&_.lng<=c.lng},intersects:function(n){n=nt(n);var s=this._southWest,c=this._northEast,m=n.getSouthWest(),_=n.getNorthEast(),S=_.lat>=s.lat&&m.lat<=c.lat,O=_.lng>=s.lng&&m.lng<=c.lng;return S&&O},overlaps:function(n){n=nt(n);var s=this._southWest,c=this._northEast,m=n.getSouthWest(),_=n.getNorthEast(),S=_.lat>s.lat&&m.lat<c.lat,O=_.lng>s.lng&&m.lng<c.lng;return S&&O},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,s){return n?(n=nt(n),this._southWest.equals(n.getSouthWest(),s)&&this._northEast.equals(n.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function nt(n,s){return n instanceof tt?n:new tt(n,s)}function lt(n,s,c){if(isNaN(n)||isNaN(s))throw new Error("Invalid LatLng object: ("+n+", "+s+")");this.lat=+n,this.lng=+s,c!==void 0&&(this.alt=+c)}lt.prototype={equals:function(n,s){if(!n)return!1;n=ot(n);var c=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return c<=(s===void 0?1e-9:s)},toString:function(n){return"LatLng("+j(this.lat,n)+", "+j(this.lng,n)+")"},distanceTo:function(n){return re.distance(this,ot(n))},wrap:function(){return re.wrapLatLng(this)},toBounds:function(n){var s=180*n/40075017,c=s/Math.cos(Math.PI/180*this.lat);return nt([this.lat-s,this.lng-c],[this.lat+s,this.lng+c])},clone:function(){return new lt(this.lat,this.lng,this.alt)}};function ot(n,s,c){return n instanceof lt?n:J(n)&&typeof n[0]!="object"?n.length===3?new lt(n[0],n[1],n[2]):n.length===2?new lt(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new lt(n.lat,"lng"in n?n.lng:n.lon,n.alt):s===void 0?null:new lt(n,s,c)}var Nt={latLngToPoint:function(n,s){var c=this.projection.project(n),m=this.scale(s);return this.transformation._transform(c,m)},pointToLatLng:function(n,s){var c=this.scale(s),m=this.transformation.untransform(n,c);return this.projection.unproject(m)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var s=this.projection.bounds,c=this.scale(n),m=this.transformation.transform(s.min,c),_=this.transformation.transform(s.max,c);return new N(m,_)},infinite:!1,wrapLatLng:function(n){var s=this.wrapLng?A(n.lng,this.wrapLng,!0):n.lng,c=this.wrapLat?A(n.lat,this.wrapLat,!0):n.lat,m=n.alt;return new lt(c,s,m)},wrapLatLngBounds:function(n){var s=n.getCenter(),c=this.wrapLatLng(s),m=s.lat-c.lat,_=s.lng-c.lng;if(m===0&&_===0)return n;var S=n.getSouthWest(),O=n.getNorthEast(),M=new lt(S.lat-m,S.lng-_),B=new lt(O.lat-m,O.lng-_);return new tt(M,B)}},re=f({},Nt,{wrapLng:[-180,180],R:6371e3,distance:function(n,s){var c=Math.PI/180,m=n.lat*c,_=s.lat*c,S=Math.sin((s.lat-n.lat)*c/2),O=Math.sin((s.lng-n.lng)*c/2),M=S*S+Math.cos(m)*Math.cos(_)*O*O,B=2*Math.atan2(Math.sqrt(M),Math.sqrt(1-M));return this.R*B}}),oe=6378137,ui={R:oe,MAX_LATITUDE:85.0511287798,project:function(n){var s=Math.PI/180,c=this.MAX_LATITUDE,m=Math.max(Math.min(c,n.lat),-c),_=Math.sin(m*s);return new W(this.R*n.lng*s,this.R*Math.log((1+_)/(1-_))/2)},unproject:function(n){var s=180/Math.PI;return new lt((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*s,n.x*s/this.R)},bounds:(function(){var n=oe*Math.PI;return new N([-n,-n],[n,n])})()};function Bi(n,s,c,m){if(J(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=s,this._c=c,this._d=m}Bi.prototype={transform:function(n,s){return this._transform(n.clone(),s)},_transform:function(n,s){return s=s||1,n.x=s*(this._a*n.x+this._b),n.y=s*(this._c*n.y+this._d),n},untransform:function(n,s){return s=s||1,new W((n.x/s-this._b)/this._a,(n.y/s-this._d)/this._c)}};function ci(n,s,c,m){return new Bi(n,s,c,m)}var bs=f({},re,{code:"EPSG:3857",projection:ui,transformation:(function(){var n=.5/(Math.PI*ui.R);return ci(n,.5,-n,.5)})()}),hi=f({},bs,{code:"EPSG:900913"});function xs(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function ws(n,s){var c="",m,_,S,O,M,B;for(m=0,S=n.length;m<S;m++){for(M=n[m],_=0,O=M.length;_<O;_++)B=M[_],c+=(_?"L":"M")+B.x+" "+B.y;c+=s?ft.svg?"z":"x":""}return c||"M0 0"}var Or=document.documentElement.style,Ea="ActiveXObject"in window,kr=Ea&&!document.addEventListener,Ss="msLaunchUri"in navigator&&!("documentMode"in document),Aa=Qe("webkit"),$o=Qe("android"),Xo=Qe("android 2")||Qe("android 3"),Ke=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Iu=$o&&Qe("Google")&&Ke<537&&!("AudioNode"in window),Ts=!!window.opera,Nr=!Ss&&Qe("chrome"),Oa=Qe("gecko")&&!Aa&&!Ts&&!Ea,Gu=!Nr&&Qe("safari"),jr=Qe("phantom"),Jo="OTransition"in Or,Vu=navigator.platform.indexOf("Win")===0,Pi=Ea&&"transition"in Or,De="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Xo,Rn="MozPerspective"in Or,Ye=!window.L_DISABLE_3D&&(Pi||De||Rn)&&!Jo&&!jr,ka=typeof orientation<"u"||Qe("mobile"),Ku=ka&&Aa,Yu=ka&&De,Na=!window.PointerEvent&&window.MSPointerEvent,ja=!!(window.PointerEvent||Na),Ca="ontouchstart"in window||!!window.TouchEvent,di=!window.L_NO_TOUCH&&(Ca||ja),Es=ka&&Ts,La=ka&&Oa,$u=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Qo=(function(){var n=!1;try{var s=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",E,s),window.removeEventListener("testPassiveEventSupport",E,s)}catch{}return n})(),Cr=(function(){return!!document.createElement("canvas").getContext})(),fi=!!(document.createElementNS&&xs("svg").createSVGRect),Xu=!!fi&&(function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Wo=!fi&&(function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var s=n.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}})(),Fo=navigator.platform.indexOf("Mac")===0,tl=navigator.platform.indexOf("Linux")===0;function Qe(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var ft={ie:Ea,ielt9:kr,edge:Ss,webkit:Aa,android:$o,android23:Xo,androidStock:Iu,opera:Ts,chrome:Nr,gecko:Oa,safari:Gu,phantom:jr,opera12:Jo,win:Vu,ie3d:Pi,webkit3d:De,gecko3d:Rn,any3d:Ye,mobile:ka,mobileWebkit:Ku,mobileWebkit3d:Yu,msPointer:Na,pointer:ja,touch:di,touchNative:Ca,mobileOpera:Es,mobileGecko:La,retina:$u,passiveEvents:Qo,canvas:Cr,svg:fi,vml:Wo,inlineSvg:Xu,mac:Fo,linux:tl},Lr=ft.msPointer?"MSPointerDown":"pointerdown",Rr=ft.msPointer?"MSPointerMove":"pointermove",zn=ft.msPointer?"MSPointerUp":"pointerup",be=ft.msPointer?"MSPointerCancel":"pointercancel",Le={touchstart:Lr,touchmove:Rr,touchend:zn,touchcancel:be},mi={touchstart:qi,touchmove:$n,touchend:$n,touchcancel:$n},Yn={},el=!1;function Ju(n,s,c){return s==="touchstart"&&Hi(),mi[s]?(c=mi[s].bind(this,c),n.addEventListener(Le[s],c,!1),c):(console.warn("wrong event specified:",s),E)}function nl(n,s,c){if(!Le[s]){console.warn("wrong event specified:",s);return}n.removeEventListener(Le[s],c,!1)}function Ra(n){Yn[n.pointerId]=n}function zr(n){Yn[n.pointerId]&&(Yn[n.pointerId]=n)}function pi(n){delete Yn[n.pointerId]}function Hi(){el||(document.addEventListener(Lr,Ra,!0),document.addEventListener(Rr,zr,!0),document.addEventListener(zn,pi,!0),document.addEventListener(be,pi,!0),el=!0)}function $n(n,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var c in Yn)s.touches.push(Yn[c]);s.changedTouches=[s],n(s)}}function qi(n,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&de(s),$n(n,s)}function xe(n){var s={},c,m;for(m in n)c=n[m],s[m]=c&&c.bind?c.bind(n):c;return n=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var il=200;function al(n,s){n.addEventListener("dblclick",s);var c=0,m;function _(S){if(S.detail!==1){m=S.detail;return}if(!(S.pointerType==="mouse"||S.sourceCapabilities&&!S.sourceCapabilities.firesTouchEvents)){var O=Ha(S);if(!(O.some(function(B){return B instanceof HTMLLabelElement&&B.attributes.for})&&!O.some(function(B){return B instanceof HTMLInputElement||B instanceof HTMLSelectElement}))){var M=Date.now();M-c<=il?(m++,m===2&&s(xe(S))):m=1,c=M}}}return n.addEventListener("click",_),{dblclick:s,simDblclick:_}}function gi(n,s){n.removeEventListener("dblclick",s.dblclick),n.removeEventListener("click",s.simDblclick)}var Xn=Da(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),za=Da(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Mr=za==="webkitTransition"||za==="OTransition"?za+"End":"transitionend";function Dr(n){return typeof n=="string"?document.getElementById(n):n}function Ma(n,s){var c=n.style[s]||n.currentStyle&&n.currentStyle[s];if((!c||c==="auto")&&document.defaultView){var m=document.defaultView.getComputedStyle(n,null);c=m?m[s]:null}return c==="auto"?null:c}function Lt(n,s,c){var m=document.createElement(n);return m.className=s||"",c&&c.appendChild(m),m}function Jt(n){var s=n.parentNode;s&&s.removeChild(n)}function We(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function Oe(n){var s=n.parentNode;s&&s.lastChild!==n&&s.appendChild(n)}function _i(n){var s=n.parentNode;s&&s.firstChild!==n&&s.insertBefore(n,s.firstChild)}function Ur(n,s){if(n.classList!==void 0)return n.classList.contains(s);var c=As(n);return c.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(c)}function St(n,s){if(n.classList!==void 0)for(var c=q(s),m=0,_=c.length;m<_;m++)n.classList.add(c[m]);else if(!Ur(n,s)){var S=As(n);Zi(n,(S?S+" ":"")+s)}}function le(n,s){n.classList!==void 0?n.classList.remove(s):Zi(n,R((" "+As(n)+" ").replace(" "+s+" "," ")))}function Zi(n,s){n.className.baseVal===void 0?n.className=s:n.className.baseVal=s}function As(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function ie(n,s){"opacity"in n.style?n.style.opacity=s:"filter"in n.style&&Br(n,s)}function Br(n,s){var c=!1,m="DXImageTransform.Microsoft.Alpha";try{c=n.filters.item(m)}catch{if(s===1)return}s=Math.round(s*100),c?(c.Enabled=s!==100,c.Opacity=s):n.style.filter+=" progid:"+m+"(opacity="+s+")"}function Da(n){for(var s=document.documentElement.style,c=0;c<n.length;c++)if(n[c]in s)return n[c];return!1}function Mn(n,s,c){var m=s||new W(0,0);n.style[Xn]=(ft.ie3d?"translate("+m.x+"px,"+m.y+"px)":"translate3d("+m.x+"px,"+m.y+"px,0)")+(c?" scale("+c+")":"")}function te(n,s){n._leaflet_pos=s,ft.any3d?Mn(n,s):(n.style.left=s.x+"px",n.style.top=s.y+"px")}function Jn(n){return n._leaflet_pos||new W(0,0)}var Ii,wn,Pr;if("onselectstart"in document)Ii=function(){xt(window,"selectstart",de)},wn=function(){Yt(window,"selectstart",de)};else{var Gi=Da(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ii=function(){if(Gi){var n=document.documentElement.style;Pr=n[Gi],n[Gi]="none"}},wn=function(){Gi&&(document.documentElement.style[Gi]=Pr,Pr=void 0)}}function Os(){xt(window,"dragstart",de)}function Ua(){Yt(window,"dragstart",de)}var ks,Hr;function Vi(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(Fe(),ks=n,Hr=n.style.outlineStyle,n.style.outlineStyle="none",xt(window,"keydown",Fe))}function Fe(){ks&&(ks.style.outlineStyle=Hr,ks=void 0,Hr=void 0,Yt(window,"keydown",Fe))}function Ns(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function Ba(n){var s=n.getBoundingClientRect();return{x:s.width/n.offsetWidth||1,y:s.height/n.offsetHeight||1,boundingClientRect:s}}var Ki={__proto__:null,TRANSFORM:Xn,TRANSITION:za,TRANSITION_END:Mr,get:Dr,getStyle:Ma,create:Lt,remove:Jt,empty:We,toFront:Oe,toBack:_i,hasClass:Ur,addClass:St,removeClass:le,setClass:Zi,getClass:As,setOpacity:ie,testProp:Da,setTransform:Mn,setPosition:te,getPosition:Jn,get disableTextSelection(){return Ii},get enableTextSelection(){return wn},disableImageDrag:Os,enableImageDrag:Ua,preventOutline:Vi,restoreOutline:Fe,getSizedParentNode:Ns,getScale:Ba};function xt(n,s,c,m){if(s&&typeof s=="object")for(var _ in s)dn(n,_,s[_],c);else{s=q(s);for(var S=0,O=s.length;S<O;S++)dn(n,s[S],c,m)}return this}var hn="_leaflet_events";function Yt(n,s,c,m){if(arguments.length===1)qr(n),delete n[hn];else if(s&&typeof s=="object")for(var _ in s)Pa(n,_,s[_],c);else if(s=q(s),arguments.length===2)qr(n,function(M){return ht(s,M)!==-1});else for(var S=0,O=s.length;S<O;S++)Pa(n,s[S],c,m);return this}function qr(n,s){for(var c in n[hn]){var m=c.split(/\d/)[0];(!s||s(m))&&Pa(n,m,null,null,c)}}var vi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function dn(n,s,c,m){var _=s+x(c)+(m?"_"+x(m):"");if(n[hn]&&n[hn][_])return this;var S=function(M){return c.call(m||n,M||window.event)},O=S;!ft.touchNative&&ft.pointer&&s.indexOf("touch")===0?S=Ju(n,s,S):ft.touch&&s==="dblclick"?S=al(n,S):"addEventListener"in n?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?n.addEventListener(vi[s]||s,S,ft.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(S=function(M){M=M||window.event,Dn(n,M)&&O(M)},n.addEventListener(vi[s],S,!1)):n.addEventListener(s,O,!1):n.attachEvent("on"+s,S),n[hn]=n[hn]||{},n[hn][_]=S}function Pa(n,s,c,m,_){_=_||s+x(c)+(m?"_"+x(m):"");var S=n[hn]&&n[hn][_];if(!S)return this;!ft.touchNative&&ft.pointer&&s.indexOf("touch")===0?nl(n,s,S):ft.touch&&s==="dblclick"?gi(n,S):"removeEventListener"in n?n.removeEventListener(vi[s]||s,S,!1):n.detachEvent("on"+s,S),n[hn][_]=null}function fn(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function Sn(n){return dn(n,"wheel",fn),this}function yi(n){return xt(n,"mousedown touchstart dblclick contextmenu",fn),n._leaflet_disable_click=!0,this}function de(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function Qn(n){return de(n),fn(n),this}function Ha(n){if(n.composedPath)return n.composedPath();for(var s=[],c=n.target;c;)s.push(c),c=c.parentNode;return s}function qa(n,s){if(!s)return new W(n.clientX,n.clientY);var c=Ba(s),m=c.boundingClientRect;return new W((n.clientX-m.left)/c.x-s.clientLeft,(n.clientY-m.top)/c.y-s.clientTop)}var sl=ft.linux&&ft.chrome?window.devicePixelRatio:ft.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ue(n){return ft.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/sl:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function Dn(n,s){var c=s.relatedTarget;if(!c)return!0;try{for(;c&&c!==n;)c=c.parentNode}catch{return!1}return c!==n}var js={__proto__:null,on:xt,off:Yt,stopPropagation:fn,disableScrollPropagation:Sn,disableClickPropagation:yi,preventDefault:de,stop:Qn,getPropagationPath:Ha,getMousePosition:qa,getWheelDelta:Ue,isExternalTarget:Dn,addListener:xt,removeListener:Yt},Yi=at.extend({run:function(n,s,c,m){this.stop(),this._el=n,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(m||.5,.2),this._startPos=Jn(n),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Et(this._animate,this),this._step()},_step:function(n){var s=+new Date-this._startTime,c=this._duration*1e3;s<c?this._runFrame(this._easeOut(s/c),n):(this._runFrame(1),this._complete())},_runFrame:function(n,s){var c=this._startPos.add(this._offset.multiplyBy(n));s&&c._round(),te(this._el,c),this.fire("step")},_complete:function(){Ut(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),Bt=at.extend({options:{crs:bs,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,s){s=H(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=g(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(ot(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=za&&ft.any3d&&!ft.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),xt(this._proxy,Mr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,s,c){if(s=s===void 0?this._zoom:this._limitZoom(s),n=this._limitCenter(ot(n),s,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=f({animate:c.animate},c.zoom),c.pan=f({animate:c.animate,duration:c.duration},c.pan));var m=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,s,c.zoom):this._tryAnimatedPan(n,c.pan);if(m)return clearTimeout(this._sizeTimer),this}return this._resetView(n,s,c.pan&&c.pan.noMoveStart),this},setZoom:function(n,s){return this._loaded?this.setView(this.getCenter(),n,{zoom:s}):(this._zoom=n,this)},zoomIn:function(n,s){return n=n||(ft.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,s)},zoomOut:function(n,s){return n=n||(ft.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,s)},setZoomAround:function(n,s,c){var m=this.getZoomScale(s),_=this.getSize().divideBy(2),S=n instanceof W?n:this.latLngToContainerPoint(n),O=S.subtract(_).multiplyBy(1-1/m),M=this.containerPointToLatLng(_.add(O));return this.setView(M,s,{zoom:c})},_getBoundsCenterZoom:function(n,s){s=s||{},n=n.getBounds?n.getBounds():nt(n);var c=rt(s.paddingTopLeft||s.padding||[0,0]),m=rt(s.paddingBottomRight||s.padding||[0,0]),_=this.getBoundsZoom(n,!1,c.add(m));if(_=typeof s.maxZoom=="number"?Math.min(s.maxZoom,_):_,_===1/0)return{center:n.getCenter(),zoom:_};var S=m.subtract(c).divideBy(2),O=this.project(n.getSouthWest(),_),M=this.project(n.getNorthEast(),_),B=this.unproject(O.add(M).divideBy(2).add(S),_);return{center:B,zoom:_}},fitBounds:function(n,s){if(n=nt(n),!n.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(n,s);return this.setView(c.center,c.zoom,s)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,s){return this.setView(n,this._zoom,{pan:s})},panBy:function(n,s){if(n=rt(n).round(),s=s||{},!n.x&&!n.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Yi,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){St(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,c,s.duration||.25,s.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,s,c){if(c=c||{},c.animate===!1||!ft.any3d)return this.setView(n,s,c);this._stop();var m=this.project(this.getCenter()),_=this.project(n),S=this.getSize(),O=this._zoom;n=ot(n),s=s===void 0?O:s;var M=Math.max(S.x,S.y),B=M*this.getZoomScale(O,s),$=_.distanceTo(m)||1,it=1.42,pt=it*it;function Ot(he){var Hn=he?-1:1,Si=he?B:M,no=B*B-M*M+Hn*pt*pt*$*$,is=2*Si*pt*$,as=no/is,ri=Math.sqrt(as*as+1)-as,qn=ri<1e-9?-18:Math.log(ri);return qn}function ke(he){return(Math.exp(he)-Math.exp(-he))/2}function fe(he){return(Math.exp(he)+Math.exp(-he))/2}function Xe(he){return ke(he)/fe(he)}var qt=Ot(0);function Zt(he){return M*(fe(qt)/fe(qt+it*he))}function Rt(he){return M*(fe(qt)*Xe(qt+it*he)-ke(qt))/pt}function ai(he){return 1-Math.pow(1-he,1.5)}var an=Date.now(),Gs=(Ot(1)-qt)/it,si=c.duration?1e3*c.duration:1e3*Gs*.8;function eo(){var he=(Date.now()-an)/si,Hn=ai(he)*Gs;he<=1?(this._flyToFrame=Et(eo,this),this._move(this.unproject(m.add(_.subtract(m).multiplyBy(Rt(Hn)/$)),O),this.getScaleZoom(M/Zt(Hn),O),{flyTo:!0})):this._move(n,s)._moveEnd(!0)}return this._moveStart(!0,c.noMoveStart),eo.call(this),this},flyToBounds:function(n,s){var c=this._getBoundsCenterZoom(n,s);return this.flyTo(c.center,c.zoom,s)},setMaxBounds:function(n){return n=nt(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var s=this.options.minZoom;return this.options.minZoom=n,this._loaded&&s!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var s=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&s!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,s){this._enforcingBounds=!0;var c=this.getCenter(),m=this._limitCenter(c,this._zoom,nt(n));return c.equals(m)||this.panTo(m,s),this._enforcingBounds=!1,this},panInside:function(n,s){s=s||{};var c=rt(s.paddingTopLeft||s.padding||[0,0]),m=rt(s.paddingBottomRight||s.padding||[0,0]),_=this.project(this.getCenter()),S=this.project(n),O=this.getPixelBounds(),M=V([O.min.add(c),O.max.subtract(m)]),B=M.getSize();if(!M.contains(S)){this._enforcingBounds=!0;var $=S.subtract(M.getCenter()),it=M.extend(S).getSize().subtract(B);_.x+=$.x<0?-it.x:it.x,_.y+=$.y<0?-it.y:it.y,this.panTo(this.unproject(_),s),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=f({animate:!1,pan:!0},n===!0?{animate:!0}:n);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),m=s.divideBy(2).round(),_=c.divideBy(2).round(),S=m.subtract(_);return!S.x&&!S.y?this:(n.animate&&n.pan?this.panBy(S):(n.pan&&this._rawPanBy(S),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(g(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:c}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=f({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=g(this._handleGeolocationResponse,this),c=g(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,c,n):navigator.geolocation.getCurrentPosition(s,c,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var s=n.code,c=n.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var s=n.coords.latitude,c=n.coords.longitude,m=new lt(s,c),_=m.toBounds(n.coords.accuracy*2),S=this._locateOptions;if(S.setView){var O=this.getBoundsZoom(_);this.setView(m,S.maxZoom?Math.min(O,S.maxZoom):O)}var M={latlng:m,bounds:_,timestamp:n.timestamp};for(var B in n.coords)typeof n.coords[B]=="number"&&(M[B]=n.coords[B]);this.fire("locationfound",M)}},addHandler:function(n,s){if(!s)return this;var c=this[n]=new s(this);return this._handlers.push(c),this.options[n]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Jt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Ut(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)Jt(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,s){var c="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),m=Lt("div",c,s||this._mapPane);return n&&(this._panes[n]=m),m},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),s=this.unproject(n.getBottomLeft()),c=this.unproject(n.getTopRight());return new tt(s,c)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,s,c){n=nt(n),c=rt(c||[0,0]);var m=this.getZoom()||0,_=this.getMinZoom(),S=this.getMaxZoom(),O=n.getNorthWest(),M=n.getSouthEast(),B=this.getSize().subtract(c),$=V(this.project(M,m),this.project(O,m)).getSize(),it=ft.any3d?this.options.zoomSnap:1,pt=B.x/$.x,Ot=B.y/$.y,ke=s?Math.max(pt,Ot):Math.min(pt,Ot);return m=this.getScaleZoom(ke,m),it&&(m=Math.round(m/(it/100))*(it/100),m=s?Math.ceil(m/it)*it:Math.floor(m/it)*it),Math.max(_,Math.min(S,m))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new W(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,s){var c=this._getTopLeftPoint(n,s);return new N(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,s){var c=this.options.crs;return s=s===void 0?this._zoom:s,c.scale(n)/c.scale(s)},getScaleZoom:function(n,s){var c=this.options.crs;s=s===void 0?this._zoom:s;var m=c.zoom(n*c.scale(s));return isNaN(m)?1/0:m},project:function(n,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(ot(n),s)},unproject:function(n,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(rt(n),s)},layerPointToLatLng:function(n){var s=rt(n).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(n){var s=this.project(ot(n))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(ot(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(nt(n))},distance:function(n,s){return this.options.crs.distance(ot(n),ot(s))},containerPointToLayerPoint:function(n){return rt(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return rt(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var s=this.containerPointToLayerPoint(rt(n));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ot(n)))},mouseEventToContainerPoint:function(n){return qa(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var s=this._container=Dr(n);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");xt(s,"scroll",this._onScroll,this),this._containerId=x(s)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&ft.any3d,St(n,"leaflet-container"+(ft.touch?" leaflet-touch":"")+(ft.retina?" leaflet-retina":"")+(ft.ielt9?" leaflet-oldie":"")+(ft.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=Ma(n,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),te(this._mapPane,new W(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(St(n.markerPane,"leaflet-zoom-hide"),St(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,s,c){te(this._mapPane,new W(0,0));var m=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var _=this._zoom!==s;this._moveStart(_,c)._move(n,s)._moveEnd(_),this.fire("viewreset"),m&&this.fire("load")},_moveStart:function(n,s){return n&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(n,s,c,m){s===void 0&&(s=this._zoom);var _=this._zoom!==s;return this._zoom=s,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),m?c&&c.pinch&&this.fire("zoom",c):((_||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Ut(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){te(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[x(this._container)]=this;var s=n?Yt:xt;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),ft.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Ut(this._resizeRequest),this._resizeRequest=Et(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,s){for(var c=[],m,_=s==="mouseout"||s==="mouseover",S=n.target||n.srcElement,O=!1;S;){if(m=this._targets[x(S)],m&&(s==="click"||s==="preclick")&&this._draggableMoved(m)){O=!0;break}if(m&&m.listens(s,!0)&&(_&&!Dn(S,n)||(c.push(m),_))||S===this._container)break;S=S.parentNode}return!c.length&&!O&&!_&&this.listens(s,!0)&&(c=[this]),c},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var s=n.target||n.srcElement;if(!(!this._loaded||s._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(s))){var c=n.type;c==="mousedown"&&Vi(s),this._fireDOMEvent(n,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,s,c){if(n.type==="click"){var m=f({},n);m.type="preclick",this._fireDOMEvent(m,m.type,c)}var _=this._findEventTargets(n,s);if(c){for(var S=[],O=0;O<c.length;O++)c[O].listens(s,!0)&&S.push(c[O]);_=S.concat(_)}if(_.length){s==="contextmenu"&&de(n);var M=_[0],B={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var $=M.getLatLng&&(!M._radius||M._radius<=10);B.containerPoint=$?this.latLngToContainerPoint(M.getLatLng()):this.mouseEventToContainerPoint(n),B.layerPoint=this.containerPointToLayerPoint(B.containerPoint),B.latlng=$?M.getLatLng():this.layerPointToLatLng(B.layerPoint)}for(O=0;O<_.length;O++)if(_[O].fire(s,B,!0),B.originalEvent._stopped||_[O].options.bubblingMouseEvents===!1&&ht(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,s=this._handlers.length;n<s;n++)this._handlers[n].disable()},whenReady:function(n,s){return this._loaded?n.call(s||this,{target:this}):this.on("load",n,s),this},_getMapPanePos:function(){return Jn(this._mapPane)||new W(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,s){var c=n&&s!==void 0?this._getNewPixelOrigin(n,s):this.getPixelOrigin();return c.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,s){var c=this.getSize()._divideBy(2);return this.project(n,s)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,s,c){var m=this._getNewPixelOrigin(c,s);return this.project(n,s)._subtract(m)},_latLngBoundsToNewLayerBounds:function(n,s,c){var m=this._getNewPixelOrigin(c,s);return V([this.project(n.getSouthWest(),s)._subtract(m),this.project(n.getNorthWest(),s)._subtract(m),this.project(n.getSouthEast(),s)._subtract(m),this.project(n.getNorthEast(),s)._subtract(m)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,s,c){if(!c)return n;var m=this.project(n,s),_=this.getSize().divideBy(2),S=new N(m.subtract(_),m.add(_)),O=this._getBoundsOffset(S,c,s);return Math.abs(O.x)<=1&&Math.abs(O.y)<=1?n:this.unproject(m.add(O),s)},_limitOffset:function(n,s){if(!s)return n;var c=this.getPixelBounds(),m=new N(c.min.add(n),c.max.add(n));return n.add(this._getBoundsOffset(m,s))},_getBoundsOffset:function(n,s,c){var m=V(this.project(s.getNorthEast(),c),this.project(s.getSouthWest(),c)),_=m.min.subtract(n.min),S=m.max.subtract(n.max),O=this._rebound(_.x,-S.x),M=this._rebound(_.y,-S.y);return new W(O,M)},_rebound:function(n,s){return n+s>0?Math.round(n-s)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(s))},_limitZoom:function(n){var s=this.getMinZoom(),c=this.getMaxZoom(),m=ft.any3d?this.options.zoomSnap:1;return m&&(n=Math.round(n/m)*m),Math.max(s,Math.min(c,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){le(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,s){var c=this._getCenterOffset(n)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(c)?!1:(this.panBy(c,s),!0)},_createAnimProxy:function(){var n=this._proxy=Lt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(s){var c=Xn,m=this._proxy.style[c];Mn(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),m===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Jt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),s=this.getZoom();Mn(this._proxy,this.project(n,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,s,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var m=this.getZoomScale(s),_=this._getCenterOffset(n)._divideBy(1-1/m);return c.animate!==!0&&!this.getSize().contains(_)?!1:(Et(function(){this._moveStart(!0,c.noMoveStart||!1)._animateZoom(n,s,!0)},this),!0)},_animateZoom:function(n,s,c,m){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=s,St(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:s,noUpdate:m}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(g(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&le(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Zr(n,s){return new Bt(n,s)}var $e=se.extend({options:{position:"topright"},initialize:function(n){H(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var s=this._map;return s&&s.removeControl(this),this.options.position=n,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var s=this._container=this.onAdd(n),c=this.getPosition(),m=n._controlCorners[c];return St(s,"leaflet-control"),c.indexOf("bottom")!==-1?m.insertBefore(s,m.firstChild):m.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Jt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),Un=function(n){return new $e(n)};Bt.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},s="leaflet-",c=this._controlContainer=Lt("div",s+"control-container",this._container);function m(_,S){var O=s+_+" "+s+S;n[_+S]=Lt("div",O,c)}m("top","left"),m("top","right"),m("bottom","left"),m("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)Jt(this._controlCorners[n]);Jt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Za=$e.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,s,c,m){return c<m?-1:m<c?1:0}},initialize:function(n,s,c){H(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var m in n)this._addLayer(n[m],m);for(m in s)this._addLayer(s[m],m,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return $e.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,s){return this._addLayer(n,s),this._map?this._update():this},addOverlay:function(n,s){return this._addLayer(n,s,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var s=this._getLayer(x(n));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){St(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(St(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):le(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return le(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",s=this._container=Lt("div",n),c=this.options.collapsed;s.setAttribute("aria-haspopup",!0),yi(s),Sn(s);var m=this._section=Lt("section",n+"-list");c&&(this._map.on("click",this.collapse,this),xt(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var _=this._layersLink=Lt("a",n+"-toggle",s);_.href="#",_.title="Layers",_.setAttribute("role","button"),xt(_,{keydown:function(S){S.keyCode===13&&this._expandSafely()},click:function(S){de(S),this._expandSafely()}},this),c||this.expand(),this._baseLayersList=Lt("div",n+"-base",m),this._separator=Lt("div",n+"-separator",m),this._overlaysList=Lt("div",n+"-overlays",m),s.appendChild(m)},_getLayer:function(n){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&x(this._layers[s].layer)===n)return this._layers[s]},_addLayer:function(n,s,c){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:s,overlay:c}),this.options.sortLayers&&this._layers.sort(g(function(m,_){return this.options.sortFunction(m.layer,_.layer,m.name,_.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;We(this._baseLayersList),We(this._overlaysList),this._layerControlInputs=[];var n,s,c,m,_=0;for(c=0;c<this._layers.length;c++)m=this._layers[c],this._addItem(m),s=s||m.overlay,n=n||!m.overlay,_+=m.overlay?0:1;return this.options.hideSingleBase&&(n=n&&_>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=s&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var s=this._getLayer(x(n.target)),c=s.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;c&&this._map.fire(c,s)},_createRadioElement:function(n,s){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(s?' checked="checked"':"")+"/>",m=document.createElement("div");return m.innerHTML=c,m.firstChild},_addItem:function(n){var s=document.createElement("label"),c=this._map.hasLayer(n.layer),m;n.overlay?(m=document.createElement("input"),m.type="checkbox",m.className="leaflet-control-layers-selector",m.defaultChecked=c):m=this._createRadioElement("leaflet-base-layers_"+x(this),c),this._layerControlInputs.push(m),m.layerId=x(n.layer),xt(m,"click",this._onInputClick,this);var _=document.createElement("span");_.innerHTML=" "+n.name;var S=document.createElement("span");s.appendChild(S),S.appendChild(m),S.appendChild(_);var O=n.overlay?this._overlaysList:this._baseLayersList;return O.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,s,c,m=[],_=[];this._handlingClick=!0;for(var S=n.length-1;S>=0;S--)s=n[S],c=this._getLayer(s.layerId).layer,s.checked?m.push(c):s.checked||_.push(c);for(S=0;S<_.length;S++)this._map.hasLayer(_[S])&&this._map.removeLayer(_[S]);for(S=0;S<m.length;S++)this._map.hasLayer(m[S])||this._map.addLayer(m[S]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,s,c,m=this._map.getZoom(),_=n.length-1;_>=0;_--)s=n[_],c=this._getLayer(s.layerId).layer,s.disabled=c.options.minZoom!==void 0&&m<c.options.minZoom||c.options.maxZoom!==void 0&&m>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,xt(n,"click",de),this.expand();var s=this;setTimeout(function(){Yt(n,"click",de),s._preventClick=!1})}}),rl=function(n,s,c){return new Za(n,s,c)},Ir=$e.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var s="leaflet-control-zoom",c=Lt("div",s+" leaflet-bar"),m=this.options;return this._zoomInButton=this._createButton(m.zoomInText,m.zoomInTitle,s+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(m.zoomOutText,m.zoomOutTitle,s+"-out",c,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,s,c,m,_){var S=Lt("a",c,m);return S.innerHTML=n,S.href="#",S.title=s,S.setAttribute("role","button"),S.setAttribute("aria-label",s),yi(S),xt(S,"click",Qn),xt(S,"click",_,this),xt(S,"click",this._refocusOnMap,this),S},_updateDisabled:function(){var n=this._map,s="leaflet-disabled";le(this._zoomInButton,s),le(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(St(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(St(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});Bt.mergeOptions({zoomControl:!0}),Bt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ir,this.addControl(this.zoomControl))});var Qu=function(n){return new Ir(n)},ol=$e.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var s="leaflet-control-scale",c=Lt("div",s),m=this.options;return this._addScales(m,s+"-line",c),n.on(m.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),c},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,s,c){n.metric&&(this._mScale=Lt("div",s,c)),n.imperial&&(this._iScale=Lt("div",s,c))},_update:function(){var n=this._map,s=n.getSize().y/2,c=n.distance(n.containerPointToLatLng([0,s]),n.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(c)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var s=this._getRoundNum(n),c=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,c,s/n)},_updateImperial:function(n){var s=n*3.2808399,c,m,_;s>5280?(c=s/5280,m=this._getRoundNum(c),this._updateScale(this._iScale,m+" mi",m/c)):(_=this._getRoundNum(s),this._updateScale(this._iScale,_+" ft",_/s))},_updateScale:function(n,s,c){n.style.width=Math.round(this.options.maxWidth*c)+"px",n.innerHTML=s},_getRoundNum:function(n){var s=Math.pow(10,(Math.floor(n)+"").length-1),c=n/s;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,s*c}}),Gr=function(n){return new ol(n)},Wu='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Vr=$e.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ft.inlineSvg?Wu+" ":"")+"Leaflet</a>"},initialize:function(n){H(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=Lt("div","leaflet-control-attribution"),yi(this._container);for(var s in n._layers)n._layers[s].getAttribution&&this.addAttribution(n._layers[s].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var s in this._attributions)this._attributions[s]&&n.push(s);var c=[];this.options.prefix&&c.push(this.options.prefix),n.length&&c.push(n.join(", ")),this._container.innerHTML=c.join(' <span aria-hidden="true">|</span> ')}}});Bt.mergeOptions({attributionControl:!0}),Bt.addInitHook(function(){this.options.attributionControl&&new Vr().addTo(this)});var Fu=function(n){return new Vr(n)};$e.Layers=Za,$e.Zoom=Ir,$e.Scale=ol,$e.Attribution=Vr,Un.layers=rl,Un.zoom=Qu,Un.scale=Gr,Un.attribution=Fu;var Tn=se.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Tn.addTo=function(n,s){return n.addHandler(s,this),this};var tc={Events:I},Kr=ft.touch?"touchstart mousedown":"mousedown",Wn=at.extend({options:{clickTolerance:3},initialize:function(n,s,c,m){H(this,m),this._element=n,this._dragStartTarget=s||n,this._preventOutline=c},enable:function(){this._enabled||(xt(this._dragStartTarget,Kr,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Wn._dragging===this&&this.finishDrag(!0),Yt(this._dragStartTarget,Kr,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!Ur(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){Wn._dragging===this&&this.finishDrag();return}if(!(Wn._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(Wn._dragging=this,this._preventOutline&&Vi(this._element),Os(),Ii(),!this._moving)){this.fire("down");var s=n.touches?n.touches[0]:n,c=Ns(this._element);this._startPoint=new W(s.clientX,s.clientY),this._startPos=Jn(this._element),this._parentScale=Ba(c);var m=n.type==="mousedown";xt(document,m?"mousemove":"touchmove",this._onMove,this),xt(document,m?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var s=n.touches&&n.touches.length===1?n.touches[0]:n,c=new W(s.clientX,s.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,de(n),this._moved||(this.fire("dragstart"),this._moved=!0,St(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),St(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),te(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){le(document.body,"leaflet-dragging"),this._lastTarget&&(le(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Yt(document,"mousemove touchmove",this._onMove,this),Yt(document,"mouseup touchend touchcancel",this._onUp,this),Ua(),wn();var s=this._moved&&this._moving;this._moving=!1,Wn._dragging=!1,s&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function ll(n,s,c){var m,_=[1,4,2,8],S,O,M,B,$,it,pt,Ot;for(S=0,it=n.length;S<it;S++)n[S]._code=bi(n[S],s);for(M=0;M<4;M++){for(pt=_[M],m=[],S=0,it=n.length,O=it-1;S<it;O=S++)B=n[S],$=n[O],B._code&pt?$._code&pt||(Ot=Cs($,B,pt,s,c),Ot._code=bi(Ot,s),m.push(Ot)):($._code&pt&&(Ot=Cs($,B,pt,s,c),Ot._code=bi(Ot,s),m.push(Ot)),m.push(B));n=m}return n}function ul(n,s){var c,m,_,S,O,M,B,$,it;if(!n||n.length===0)throw new Error("latlngs not passed");tn(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var pt=ot([0,0]),Ot=nt(n),ke=Ot.getNorthWest().distanceTo(Ot.getSouthWest())*Ot.getNorthEast().distanceTo(Ot.getNorthWest());ke<1700&&(pt=Yr(n));var fe=n.length,Xe=[];for(c=0;c<fe;c++){var qt=ot(n[c]);Xe.push(s.project(ot([qt.lat-pt.lat,qt.lng-pt.lng])))}for(M=B=$=0,c=0,m=fe-1;c<fe;m=c++)_=Xe[c],S=Xe[m],O=_.y*S.x-S.y*_.x,B+=(_.x+S.x)*O,$+=(_.y+S.y)*O,M+=O*3;M===0?it=Xe[0]:it=[B/M,$/M];var Zt=s.unproject(rt(it));return ot([Zt.lat+pt.lat,Zt.lng+pt.lng])}function Yr(n){for(var s=0,c=0,m=0,_=0;_<n.length;_++){var S=ot(n[_]);s+=S.lat,c+=S.lng,m++}return ot([s/m,c/m])}var $r={__proto__:null,clipPolygon:ll,polygonCenter:ul,centroid:Yr};function cl(n,s){if(!s||!n.length)return n.slice();var c=s*s;return n=nc(n,c),n=dl(n,c),n}function hl(n,s,c){return Math.sqrt(Ia(n,s,c,!0))}function ec(n,s,c){return Ia(n,s,c)}function dl(n,s){var c=n.length,m=typeof Uint8Array<"u"?Uint8Array:Array,_=new m(c);_[0]=_[c-1]=1,Xr(n,_,s,0,c-1);var S,O=[];for(S=0;S<c;S++)_[S]&&O.push(n[S]);return O}function Xr(n,s,c,m,_){var S=0,O,M,B;for(M=m+1;M<=_-1;M++)B=Ia(n[M],n[m],n[_],!0),B>S&&(O=M,S=B);S>c&&(s[O]=1,Xr(n,s,c,m,O),Xr(n,s,c,O,_))}function nc(n,s){for(var c=[n[0]],m=1,_=0,S=n.length;m<S;m++)ic(n[m],n[_])>s&&(c.push(n[m]),_=m);return _<S-1&&c.push(n[S-1]),c}var fl;function ml(n,s,c,m,_){var S=m?fl:bi(n,c),O=bi(s,c),M,B,$;for(fl=O;;){if(!(S|O))return[n,s];if(S&O)return!1;M=S||O,B=Cs(n,s,M,c,_),$=bi(B,c),M===S?(n=B,S=$):(s=B,O=$)}}function Cs(n,s,c,m,_){var S=s.x-n.x,O=s.y-n.y,M=m.min,B=m.max,$,it;return c&8?($=n.x+S*(B.y-n.y)/O,it=B.y):c&4?($=n.x+S*(M.y-n.y)/O,it=M.y):c&2?($=B.x,it=n.y+O*(B.x-n.x)/S):c&1&&($=M.x,it=n.y+O*(M.x-n.x)/S),new W($,it,_)}function bi(n,s){var c=0;return n.x<s.min.x?c|=1:n.x>s.max.x&&(c|=2),n.y<s.min.y?c|=4:n.y>s.max.y&&(c|=8),c}function ic(n,s){var c=s.x-n.x,m=s.y-n.y;return c*c+m*m}function Ia(n,s,c,m){var _=s.x,S=s.y,O=c.x-_,M=c.y-S,B=O*O+M*M,$;return B>0&&($=((n.x-_)*O+(n.y-S)*M)/B,$>1?(_=c.x,S=c.y):$>0&&(_+=O*$,S+=M*$)),O=n.x-_,M=n.y-S,m?O*O+M*M:new W(_,S)}function tn(n){return!J(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function Ls(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),tn(n)}function $i(n,s){var c,m,_,S,O,M,B,$;if(!n||n.length===0)throw new Error("latlngs not passed");tn(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var it=ot([0,0]),pt=nt(n),Ot=pt.getNorthWest().distanceTo(pt.getSouthWest())*pt.getNorthEast().distanceTo(pt.getNorthWest());Ot<1700&&(it=Yr(n));var ke=n.length,fe=[];for(c=0;c<ke;c++){var Xe=ot(n[c]);fe.push(s.project(ot([Xe.lat-it.lat,Xe.lng-it.lng])))}for(c=0,m=0;c<ke-1;c++)m+=fe[c].distanceTo(fe[c+1])/2;if(m===0)$=fe[0];else for(c=0,S=0;c<ke-1;c++)if(O=fe[c],M=fe[c+1],_=O.distanceTo(M),S+=_,S>m){B=(S-m)/_,$=[M.x-B*(M.x-O.x),M.y-B*(M.y-O.y)];break}var qt=s.unproject(rt($));return ot([qt.lat+it.lat,qt.lng+it.lng])}var ac={__proto__:null,simplify:cl,pointToSegmentDistance:hl,closestPointOnSegment:ec,clipSegment:ml,_getEdgeIntersection:Cs,_getBitCode:bi,_sqClosestPointOnSegment:Ia,isFlat:tn,_flat:Ls,polylineCenter:$i},Rs={project:function(n){return new W(n.lng,n.lat)},unproject:function(n){return new lt(n.y,n.x)},bounds:new N([-180,-90],[180,90])},zs={R:6378137,R_MINOR:6356752314245179e-9,bounds:new N([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var s=Math.PI/180,c=this.R,m=n.lat*s,_=this.R_MINOR/c,S=Math.sqrt(1-_*_),O=S*Math.sin(m),M=Math.tan(Math.PI/4-m/2)/Math.pow((1-O)/(1+O),S/2);return m=-c*Math.log(Math.max(M,1e-10)),new W(n.lng*s*c,m)},unproject:function(n){for(var s=180/Math.PI,c=this.R,m=this.R_MINOR/c,_=Math.sqrt(1-m*m),S=Math.exp(-n.y/c),O=Math.PI/2-2*Math.atan(S),M=0,B=.1,$;M<15&&Math.abs(B)>1e-7;M++)$=_*Math.sin(O),$=Math.pow((1-$)/(1+$),_/2),B=Math.PI/2-2*Math.atan(S*$)-O,O+=B;return new lt(O*s,n.x*s/c)}},pl={__proto__:null,LonLat:Rs,Mercator:zs,SphericalMercator:ui},gl=f({},re,{code:"EPSG:3395",projection:zs,transformation:(function(){var n=.5/(Math.PI*zs.R);return ci(n,.5,-n,.5)})()}),Jr=f({},re,{code:"EPSG:4326",projection:Rs,transformation:ci(1/180,1,-1/180,.5)}),Xi=f({},Nt,{projection:Rs,transformation:ci(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,s){var c=s.lng-n.lng,m=s.lat-n.lat;return Math.sqrt(c*c+m*m)},infinite:!0});Nt.Earth=re,Nt.EPSG3395=gl,Nt.EPSG3857=bs,Nt.EPSG900913=hi,Nt.EPSG4326=Jr,Nt.Simple=Xi;var mn=at.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[x(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[x(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var s=n.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var c=this.getEvents();s.on(c,this),this.once("remove",function(){s.off(c,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});Bt.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var s=x(n);return this._layers[s]?this:(this._layers[s]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var s=x(n);return this._layers[s]?(this._loaded&&n.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return x(n)in this._layers},eachLayer:function(n,s){for(var c in this._layers)n.call(s,this._layers[c]);return this},_addLayers:function(n){n=n?J(n)?n:[n]:[];for(var s=0,c=n.length;s<c;s++)this.addLayer(n[s])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[x(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var s=x(n);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,s=-1/0,c=this._getZoomSpan();for(var m in this._zoomBoundLayers){var _=this._zoomBoundLayers[m].options;n=_.minZoom===void 0?n:Math.min(n,_.minZoom),s=_.maxZoom===void 0?s:Math.max(s,_.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=n===1/0?void 0:n,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ji=mn.extend({initialize:function(n,s){H(this,s),this._layers={};var c,m;if(n)for(c=0,m=n.length;c<m;c++)this.addLayer(n[c])},addLayer:function(n){var s=this.getLayerId(n);return this._layers[s]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var s=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(n){var s=typeof n=="number"?n:this.getLayerId(n);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var s=Array.prototype.slice.call(arguments,1),c,m;for(c in this._layers)m=this._layers[c],m[n]&&m[n].apply(m,s);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,s){for(var c in this._layers)n.call(s,this._layers[c]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return x(n)}}),sc=function(n,s){return new Ji(n,s)},En=Ji.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),Ji.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),Ji.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new tt;for(var s in this._layers){var c=this._layers[s];n.extend(c.getBounds?c.getBounds():c.getLatLng())}return n}}),_l=function(n,s){return new En(n,s)},An=se.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){H(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,s){var c=this._getIconUrl(n);if(!c){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var m=this._createImg(c,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(m,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),m},_setIconStyles:function(n,s){var c=this.options,m=c[s+"Size"];typeof m=="number"&&(m=[m,m]);var _=rt(m),S=rt(s==="shadow"&&c.shadowAnchor||c.iconAnchor||_&&_.divideBy(2,!0));n.className="leaflet-marker-"+s+" "+(c.className||""),S&&(n.style.marginLeft=-S.x+"px",n.style.marginTop=-S.y+"px"),_&&(n.style.width=_.x+"px",n.style.height=_.y+"px")},_createImg:function(n,s){return s=s||document.createElement("img"),s.src=n,s},_getIconUrl:function(n){return ft.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function Ga(n){return new An(n)}var Va=An.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof Va.imagePath!="string"&&(Va.imagePath=this._detectIconPath()),(this.options.imagePath||Va.imagePath)+An.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var s=function(c,m,_){var S=m.exec(c);return S&&S[_]};return n=s(n,/^url\((['"])?(.+)\1\)$/,2),n&&s(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=Lt("div","leaflet-default-icon-path",document.body),s=Ma(n,"background-image")||Ma(n,"backgroundImage");if(document.body.removeChild(n),s=this._stripUrl(s),s)return s;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-11-1):""}}),Ka=Tn.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new Wn(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),St(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&le(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var s=this._marker,c=s._map,m=this._marker.options.autoPanSpeed,_=this._marker.options.autoPanPadding,S=Jn(s._icon),O=c.getPixelBounds(),M=c.getPixelOrigin(),B=V(O.min._subtract(M).add(_),O.max._subtract(M).subtract(_));if(!B.contains(S)){var $=rt((Math.max(B.max.x,S.x)-B.max.x)/(O.max.x-B.max.x)-(Math.min(B.min.x,S.x)-B.min.x)/(O.min.x-B.min.x),(Math.max(B.max.y,S.y)-B.max.y)/(O.max.y-B.max.y)-(Math.min(B.min.y,S.y)-B.min.y)/(O.min.y-B.min.y)).multiplyBy(m);c.panBy($,{animate:!1}),this._draggable._newPos._add($),this._draggable._startPos._add($),te(s._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=Et(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(Ut(this._panRequest),this._panRequest=Et(this._adjustPan.bind(this,n)))},_onDrag:function(n){var s=this._marker,c=s._shadow,m=Jn(s._icon),_=s._map.layerPointToLatLng(m);c&&te(c,m),s._latlng=_,n.latlng=_,n.oldLatLng=this._oldLatLng,s.fire("move",n).fire("drag",n)},_onDragEnd:function(n){Ut(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),Ya=mn.extend({options:{icon:new Va,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,s){H(this,s),this._latlng=ot(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var s=this._latlng;return this._latlng=ot(n),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=n.icon.createIcon(this._icon),m=!1;c!==this._icon&&(this._icon&&this._removeIcon(),m=!0,n.title&&(c.title=n.title),c.tagName==="IMG"&&(c.alt=n.alt||"")),St(c,s),n.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&xt(c,"focus",this._panOnFocus,this);var _=n.icon.createShadow(this._shadow),S=!1;_!==this._shadow&&(this._removeShadow(),S=!0),_&&(St(_,s),_.alt=""),this._shadow=_,n.opacity<1&&this._updateOpacity(),m&&this.getPane().appendChild(this._icon),this._initInteraction(),_&&S&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Yt(this._icon,"focus",this._panOnFocus,this),Jt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Jt(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&te(this._icon,n),this._shadow&&te(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var s=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(St(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ka)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ka(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&ie(this._icon,n),this._shadow&&ie(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var s=this.options.icon.options,c=s.iconSize?rt(s.iconSize):rt(0,0),m=s.iconAnchor?rt(s.iconAnchor):rt(0,0);n.panInside(this._latlng,{paddingTopLeft:m,paddingBottomRight:c.subtract(m)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function vl(n,s){return new Ya(n,s)}var On=mn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return H(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Qi=On.extend({options:{fill:!0,radius:10},initialize:function(n,s){H(this,s),this._latlng=ot(n),this._radius=this.options.radius},setLatLng:function(n){var s=this._latlng;return this._latlng=ot(n),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var s=n&&n.radius||this._radius;return On.prototype.setStyle.call(this,n),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,s=this._radiusY||n,c=this._clickTolerance(),m=[n+c,s+c];this._pxBounds=new N(this._point.subtract(m),this._point.add(m))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function yl(n,s){return new Qi(n,s)}var Ms=Qi.extend({initialize:function(n,s,c){if(typeof s=="number"&&(s=f({},c,{radius:s})),H(this,s),this._latlng=ot(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new tt(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:On.prototype.setStyle,_project:function(){var n=this._latlng.lng,s=this._latlng.lat,c=this._map,m=c.options.crs;if(m.distance===re.distance){var _=Math.PI/180,S=this._mRadius/re.R/_,O=c.project([s+S,n]),M=c.project([s-S,n]),B=O.add(M).divideBy(2),$=c.unproject(B).lat,it=Math.acos((Math.cos(S*_)-Math.sin(s*_)*Math.sin($*_))/(Math.cos(s*_)*Math.cos($*_)))/_;(isNaN(it)||it===0)&&(it=S/Math.cos(Math.PI/180*s)),this._point=B.subtract(c.getPixelOrigin()),this._radius=isNaN(it)?0:B.x-c.project([$,n-it]).x,this._radiusY=B.y-O.y}else{var pt=m.unproject(m.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(pt).x}this._updateBounds()}});function bl(n,s,c){return new Ms(n,s,c)}var Bn=On.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,s){H(this,s),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var s=1/0,c=null,m=Ia,_,S,O=0,M=this._parts.length;O<M;O++)for(var B=this._parts[O],$=1,it=B.length;$<it;$++){_=B[$-1],S=B[$];var pt=m(n,_,S,!0);pt<s&&(s=pt,c=m(n,_,S))}return c&&(c.distance=Math.sqrt(s)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return $i(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,s){return s=s||this._defaultShape(),n=ot(n),s.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new tt,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return tn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var s=[],c=tn(n),m=0,_=n.length;m<_;m++)c?(s[m]=ot(n[m]),this._bounds.extend(s[m])):s[m]=this._convertLatLngs(n[m]);return s},_project:function(){var n=new N;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),s=new W(n,n);this._rawPxBounds&&(this._pxBounds=new N([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(n,s,c){var m=n[0]instanceof lt,_=n.length,S,O;if(m){for(O=[],S=0;S<_;S++)O[S]=this._map.latLngToLayerPoint(n[S]),c.extend(O[S]);s.push(O)}else for(S=0;S<_;S++)this._projectLatlngs(n[S],s,c)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,c,m,_,S,O,M,B;for(c=0,_=0,S=this._rings.length;c<S;c++)for(B=this._rings[c],m=0,O=B.length;m<O-1;m++)M=ml(B[m],B[m+1],n,m,!0),M&&(s[_]=s[_]||[],s[_].push(M[0]),(M[1]!==B[m+1]||m===O-2)&&(s[_].push(M[1]),_++))}},_simplifyPoints:function(){for(var n=this._parts,s=this.options.smoothFactor,c=0,m=n.length;c<m;c++)n[c]=cl(n[c],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,s){var c,m,_,S,O,M,B=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(c=0,S=this._parts.length;c<S;c++)for(M=this._parts[c],m=0,O=M.length,_=O-1;m<O;_=m++)if(!(!s&&m===0)&&hl(n,M[_],M[m])<=B)return!0;return!1}});function rc(n,s){return new Bn(n,s)}Bn._flat=Ls;var Wi=Bn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ul(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var s=Bn.prototype._convertLatLngs.call(this,n),c=s.length;return c>=2&&s[0]instanceof lt&&s[0].equals(s[c-1])&&s.pop(),s},_setLatLngs:function(n){Bn.prototype._setLatLngs.call(this,n),tn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return tn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,s=this.options.weight,c=new W(s,s);if(n=new N(n.min.subtract(c),n.max.add(c)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var m=0,_=this._rings.length,S;m<_;m++)S=ll(this._rings[m],n,!0),S.length&&this._parts.push(S)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var s=!1,c,m,_,S,O,M,B,$;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(S=0,B=this._parts.length;S<B;S++)for(c=this._parts[S],O=0,$=c.length,M=$-1;O<$;M=O++)m=c[O],_=c[M],m.y>n.y!=_.y>n.y&&n.x<(_.x-m.x)*(n.y-m.y)/(_.y-m.y)+m.x&&(s=!s);return s||Bn.prototype._containsPoint.call(this,n,!0)}});function oc(n,s){return new Wi(n,s)}var Pn=En.extend({initialize:function(n,s){H(this,s),this._layers={},n&&this.addData(n)},addData:function(n){var s=J(n)?n:n.features,c,m,_;if(s){for(c=0,m=s.length;c<m;c++)_=s[c],(_.geometries||_.geometry||_.features||_.coordinates)&&this.addData(_);return this}var S=this.options;if(S.filter&&!S.filter(n))return this;var O=Re(n,S);return O?(O.feature=Bs(n),O.defaultOptions=O.options,this.resetStyle(O),S.onEachFeature&&S.onEachFeature(n,O),this.addLayer(O)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=f({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(s){this._setLayerStyle(s,n)},this)},_setLayerStyle:function(n,s){n.setStyle&&(typeof s=="function"&&(s=s(n.feature)),n.setStyle(s))}});function Re(n,s){var c=n.type==="Feature"?n.geometry:n,m=c?c.coordinates:null,_=[],S=s&&s.pointToLayer,O=s&&s.coordsToLatLng||Ds,M,B,$,it;if(!m&&!c)return null;switch(c.type){case"Point":return M=O(m),Fi(S,n,M,s);case"MultiPoint":for($=0,it=m.length;$<it;$++)M=O(m[$]),_.push(Fi(S,n,M,s));return new En(_);case"LineString":case"MultiLineString":return B=$a(m,c.type==="LineString"?0:1,O),new Bn(B,s);case"Polygon":case"MultiPolygon":return B=$a(m,c.type==="Polygon"?1:2,O),new Wi(B,s);case"GeometryCollection":for($=0,it=c.geometries.length;$<it;$++){var pt=Re({geometry:c.geometries[$],type:"Feature",properties:n.properties},s);pt&&_.push(pt)}return new En(_);case"FeatureCollection":for($=0,it=c.features.length;$<it;$++){var Ot=Re(c.features[$],s);Ot&&_.push(Ot)}return new En(_);default:throw new Error("Invalid GeoJSON object.")}}function Fi(n,s,c,m){return n?n(s,c):new Ya(c,m&&m.markersInheritOptions&&m)}function Ds(n){return new lt(n[1],n[0],n[2])}function $a(n,s,c){for(var m=[],_=0,S=n.length,O;_<S;_++)O=s?$a(n[_],s-1,c):(c||Ds)(n[_]),m.push(O);return m}function Us(n,s){return n=ot(n),n.alt!==void 0?[j(n.lng,s),j(n.lat,s),j(n.alt,s)]:[j(n.lng,s),j(n.lat,s)]}function Xa(n,s,c,m){for(var _=[],S=0,O=n.length;S<O;S++)_.push(s?Xa(n[S],tn(n[S])?0:s-1,c,m):Us(n[S],m));return!s&&c&&_.length>0&&_.push(_[0].slice()),_}function Fn(n,s){return n.feature?f({},n.feature,{geometry:s}):Bs(s)}function Bs(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var ti={toGeoJSON:function(n){return Fn(this,{type:"Point",coordinates:Us(this.getLatLng(),n)})}};Ya.include(ti),Ms.include(ti),Qi.include(ti),Bn.include({toGeoJSON:function(n){var s=!tn(this._latlngs),c=Xa(this._latlngs,s?1:0,!1,n);return Fn(this,{type:(s?"Multi":"")+"LineString",coordinates:c})}}),Wi.include({toGeoJSON:function(n){var s=!tn(this._latlngs),c=s&&!tn(this._latlngs[0]),m=Xa(this._latlngs,c?2:s?1:0,!0,n);return s||(m=[m]),Fn(this,{type:(c?"Multi":"")+"Polygon",coordinates:m})}}),Ji.include({toMultiPoint:function(n){var s=[];return this.eachLayer(function(c){s.push(c.toGeoJSON(n).geometry.coordinates)}),Fn(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(n){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(n);var c=s==="GeometryCollection",m=[];return this.eachLayer(function(_){if(_.toGeoJSON){var S=_.toGeoJSON(n);if(c)m.push(S.geometry);else{var O=Bs(S);O.type==="FeatureCollection"?m.push.apply(m,O.features):m.push(O)}}}),c?Fn(this,{geometries:m,type:"GeometryCollection"}):{type:"FeatureCollection",features:m}}});function Ps(n,s){return new Pn(n,s)}var Ja=Ps,ta=mn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,s,c){this._url=n,this._bounds=nt(s),H(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(St(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Jt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&Oe(this._image),this},bringToBack:function(){return this._map&&_i(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=nt(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",s=this._image=n?this._url:Lt("img");if(St(s,"leaflet-image-layer"),this._zoomAnimated&&St(s,"leaflet-zoom-animated"),this.options.className&&St(s,this.options.className),s.onselectstart=E,s.onmousemove=E,s.onload=g(this.fire,this,"load"),s.onerror=g(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(n){var s=this._map.getZoomScale(n.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;Mn(this._image,c,s)},_reset:function(){var n=this._image,s=new N(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=s.getSize();te(n,s.min),n.style.width=c.x+"px",n.style.height=c.y+"px"},_updateOpacity:function(){ie(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),xl=function(n,s,c){return new ta(n,s,c)},ei=ta.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",s=this._image=n?this._url:Lt("video");if(St(s,"leaflet-image-layer"),this._zoomAnimated&&St(s,"leaflet-zoom-animated"),this.options.className&&St(s,this.options.className),s.onselectstart=E,s.onmousemove=E,s.onloadeddata=g(this.fire,this,"load"),n){for(var c=s.getElementsByTagName("source"),m=[],_=0;_<c.length;_++)m.push(c[_].src);this._url=c.length>0?m:[s.src];return}J(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var S=0;S<this._url.length;S++){var O=Lt("source");O.src=this._url[S],s.appendChild(O)}}});function ea(n,s,c){return new ei(n,s,c)}var Hs=ta.extend({_initImage:function(){var n=this._image=this._url;St(n,"leaflet-image-layer"),this._zoomAnimated&&St(n,"leaflet-zoom-animated"),this.options.className&&St(n,this.options.className),n.onselectstart=E,n.onmousemove=E}});function wl(n,s,c){return new Hs(n,s,c)}var ze=mn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,s){n&&(n instanceof lt||J(n))?(this._latlng=ot(n),H(this,s)):(H(this,n),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&ie(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&ie(this._container,1),this.bringToFront(),this.options.interactive&&(St(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?(ie(this._container,0),this._removeTimeout=setTimeout(g(Jt,void 0,this._container),200)):Jt(this._container),this.options.interactive&&(le(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=ot(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Oe(this._container),this},bringToBack:function(){return this._map&&_i(this._container),this},_prepareOpen:function(n){var s=this._source;if(!s._map)return!1;if(s instanceof En){s=null;var c=this._source._layers;for(var m in c)if(c[m]._map){s=c[m];break}if(!s)return!1;this._source=s}if(!n)if(s.getCenter)n=s.getCenter();else if(s.getLatLng)n=s.getLatLng();else if(s.getBounds)n=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")n.innerHTML=s;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),s=rt(this.options.offset),c=this._getAnchor();this._zoomAnimated?te(this._container,n.add(c)):s=s.add(n).add(c);var m=this._containerBottom=-s.y,_=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=m+"px",this._container.style.left=_+"px"}},_getAnchor:function(){return[0,0]}});Bt.include({_initOverlay:function(n,s,c,m){var _=s;return _ instanceof n||(_=new n(m).setContent(s)),c&&_.setLatLng(c),_}}),mn.include({_initOverlay:function(n,s,c,m){var _=c;return _ instanceof n?(H(_,m),_._source=this):(_=s&&!m?s:new n(m,this),_.setContent(c)),_}});var Qa=ze.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,ze.prototype.openOn.call(this,n)},onAdd:function(n){ze.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof On||this._source.on("preclick",fn))},onRemove:function(n){ze.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof On||this._source.off("preclick",fn))},getEvents:function(){var n=ze.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",s=this._container=Lt("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=Lt("div",n+"-content-wrapper",s);if(this._contentNode=Lt("div",n+"-content",c),yi(s),Sn(this._contentNode),xt(s,"contextmenu",fn),this._tipContainer=Lt("div",n+"-tip-container",s),this._tip=Lt("div",n+"-tip",this._tipContainer),this.options.closeButton){var m=this._closeButton=Lt("a",n+"-close-button",s);m.setAttribute("role","button"),m.setAttribute("aria-label","Close popup"),m.href="#close",m.innerHTML='<span aria-hidden="true">&#215;</span>',xt(m,"click",function(_){de(_),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,s=n.style;s.width="",s.whiteSpace="nowrap";var c=n.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),s.width=c+1+"px",s.whiteSpace="",s.height="";var m=n.offsetHeight,_=this.options.maxHeight,S="leaflet-popup-scrolled";_&&m>_?(s.height=_+"px",St(n,S)):le(n,S),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var s=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),c=this._getAnchor();te(this._container,s.add(c))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,s=parseInt(Ma(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+s,m=this._containerWidth,_=new W(this._containerLeft,-c-this._containerBottom);_._add(Jn(this._container));var S=n.layerPointToContainerPoint(_),O=rt(this.options.autoPanPadding),M=rt(this.options.autoPanPaddingTopLeft||O),B=rt(this.options.autoPanPaddingBottomRight||O),$=n.getSize(),it=0,pt=0;S.x+m+B.x>$.x&&(it=S.x+m-$.x+B.x),S.x-it-M.x<0&&(it=S.x-M.x),S.y+c+B.y>$.y&&(pt=S.y+c-$.y+B.y),S.y-pt-M.y<0&&(pt=S.y-M.y),(it||pt)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([it,pt]))}},_getAnchor:function(){return rt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Sl=function(n,s){return new Qa(n,s)};Bt.mergeOptions({closePopupOnClick:!0}),Bt.include({openPopup:function(n,s,c){return this._initOverlay(Qa,n,s,c).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),mn.include({bindPopup:function(n,s){return this._popup=this._initOverlay(Qa,this._popup,n,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof En||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){Qn(n);var s=n.layer||n.target;if(this._popup._source===s&&!(s instanceof On)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=s,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var Wa=ze.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){ze.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){ze.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=ze.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",s=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Lt("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+x(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var s,c,m=this._map,_=this._container,S=m.latLngToContainerPoint(m.getCenter()),O=m.layerPointToContainerPoint(n),M=this.options.direction,B=_.offsetWidth,$=_.offsetHeight,it=rt(this.options.offset),pt=this._getAnchor();M==="top"?(s=B/2,c=$):M==="bottom"?(s=B/2,c=0):M==="center"?(s=B/2,c=$/2):M==="right"?(s=0,c=$/2):M==="left"?(s=B,c=$/2):O.x<S.x?(M="right",s=0,c=$/2):(M="left",s=B+(it.x+pt.x)*2,c=$/2),n=n.subtract(rt(s,c,!0)).add(it).add(pt),le(_,"leaflet-tooltip-right"),le(_,"leaflet-tooltip-left"),le(_,"leaflet-tooltip-top"),le(_,"leaflet-tooltip-bottom"),St(_,"leaflet-tooltip-"+M),te(_,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&ie(this._container,n)},_animateZoom:function(n){var s=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(s)},_getAnchor:function(){return rt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),lc=function(n,s){return new Wa(n,s)};Bt.include({openTooltip:function(n,s,c){return this._initOverlay(Wa,n,s,c).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),mn.include({bindTooltip:function(n,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Wa,this._tooltip,n,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var s=n?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[s](c),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof En||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var s=typeof n.getElement=="function"&&n.getElement();s&&(xt(s,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),xt(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var s=typeof n.getElement=="function"&&n.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var s=n.latlng,c,m;this._tooltip.options.sticky&&n.originalEvent&&(c=this._map.mouseEventToContainerPoint(n.originalEvent),m=this._map.containerPointToLayerPoint(c),s=this._map.layerPointToLatLng(m)),this._tooltip.setLatLng(s)}});var Tl=An.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var s=n&&n.tagName==="DIV"?n:document.createElement("div"),c=this.options;if(c.html instanceof Element?(We(s),s.appendChild(c.html)):s.innerHTML=c.html!==!1?c.html:"",c.bgPos){var m=rt(c.bgPos);s.style.backgroundPosition=-m.x+"px "+-m.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function uc(n){return new Tl(n)}An.Default=Va;var na=mn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ft.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){H(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),Jt(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Oe(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(_i(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=w(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof W?n:new W(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var s=this.getPane().children,c=-n(-1/0,1/0),m=0,_=s.length,S;m<_;m++)S=s[m].style.zIndex,s[m]!==this._container&&S&&(c=n(c,+S));isFinite(c)&&(this.options.zIndex=c+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ft.ielt9){ie(this._container,this.options.opacity);var n=+new Date,s=!1,c=!1;for(var m in this._tiles){var _=this._tiles[m];if(!(!_.current||!_.loaded)){var S=Math.min(1,(n-_.loaded)/200);ie(_.el,S),S<1?s=!0:(_.active?c=!0:this._onOpaqueTile(_),_.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),s&&(Ut(this._fadeFrame),this._fadeFrame=Et(this._updateOpacity,this))}},_onOpaqueTile:E,_initContainer:function(){this._container||(this._container=Lt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,s=this.options.maxZoom;if(n!==void 0){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===n?(this._levels[c].el.style.zIndex=s-Math.abs(n-c),this._onUpdateLevel(c)):(Jt(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var m=this._levels[n],_=this._map;return m||(m=this._levels[n]={},m.el=Lt("div","leaflet-tile-container leaflet-zoom-animated",this._container),m.el.style.zIndex=s,m.origin=_.project(_.unproject(_.getPixelOrigin()),n).round(),m.zoom=n,this._setZoomTransform(m,_.getCenter(),_.getZoom()),E(m.el.offsetWidth),this._onCreateLevel(m)),this._level=m,m}},_onUpdateLevel:E,_onRemoveLevel:E,_onCreateLevel:E,_pruneTiles:function(){if(this._map){var n,s,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)s=this._tiles[n],s.retain=s.current;for(n in this._tiles)if(s=this._tiles[n],s.current&&!s.active){var m=s.coords;this._retainParent(m.x,m.y,m.z,m.z-5)||this._retainChildren(m.x,m.y,m.z,m.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var s in this._tiles)this._tiles[s].coords.z===n&&this._removeTile(s)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)Jt(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,s,c,m){var _=Math.floor(n/2),S=Math.floor(s/2),O=c-1,M=new W(+_,+S);M.z=+O;var B=this._tileCoordsToKey(M),$=this._tiles[B];return $&&$.active?($.retain=!0,!0):($&&$.loaded&&($.retain=!0),O>m?this._retainParent(_,S,O,m):!1)},_retainChildren:function(n,s,c,m){for(var _=2*n;_<2*n+2;_++)for(var S=2*s;S<2*s+2;S++){var O=new W(_,S);O.z=c+1;var M=this._tileCoordsToKey(O),B=this._tiles[M];if(B&&B.active){B.retain=!0;continue}else B&&B.loaded&&(B.retain=!0);c+1<m&&this._retainChildren(_,S,c+1,m)}},_resetView:function(n){var s=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var s=this.options;return s.minNativeZoom!==void 0&&n<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<n?s.maxNativeZoom:n},_setView:function(n,s,c,m){var _=Math.round(s);this.options.maxZoom!==void 0&&_>this.options.maxZoom||this.options.minZoom!==void 0&&_<this.options.minZoom?_=void 0:_=this._clampZoom(_);var S=this.options.updateWhenZooming&&_!==this._tileZoom;(!m||S)&&(this._tileZoom=_,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),_!==void 0&&this._update(n),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(n,s)},_setZoomTransforms:function(n,s){for(var c in this._levels)this._setZoomTransform(this._levels[c],n,s)},_setZoomTransform:function(n,s,c){var m=this._map.getZoomScale(c,n.zoom),_=n.origin.multiplyBy(m).subtract(this._map._getNewPixelOrigin(s,c)).round();ft.any3d?Mn(n.el,_,m):te(n.el,_)},_resetGrid:function(){var n=this._map,s=n.options.crs,c=this._tileSize=this.getTileSize(),m=this._tileZoom,_=this._map.getPixelWorldBounds(this._tileZoom);_&&(this._globalTileRange=this._pxBoundsToTileRange(_)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,s.wrapLng[0]],m).x/c.x),Math.ceil(n.project([0,s.wrapLng[1]],m).x/c.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([s.wrapLat[0],0],m).y/c.x),Math.ceil(n.project([s.wrapLat[1],0],m).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var s=this._map,c=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),m=s.getZoomScale(c,this._tileZoom),_=s.project(n,this._tileZoom).floor(),S=s.getSize().divideBy(m*2);return new N(_.subtract(S),_.add(S))},_update:function(n){var s=this._map;if(s){var c=this._clampZoom(s.getZoom());if(n===void 0&&(n=s.getCenter()),this._tileZoom!==void 0){var m=this._getTiledPixelBounds(n),_=this._pxBoundsToTileRange(m),S=_.getCenter(),O=[],M=this.options.keepBuffer,B=new N(_.getBottomLeft().subtract([M,-M]),_.getTopRight().add([M,-M]));if(!(isFinite(_.min.x)&&isFinite(_.min.y)&&isFinite(_.max.x)&&isFinite(_.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var $ in this._tiles){var it=this._tiles[$].coords;(it.z!==this._tileZoom||!B.contains(new W(it.x,it.y)))&&(this._tiles[$].current=!1)}if(Math.abs(c-this._tileZoom)>1){this._setView(n,c);return}for(var pt=_.min.y;pt<=_.max.y;pt++)for(var Ot=_.min.x;Ot<=_.max.x;Ot++){var ke=new W(Ot,pt);if(ke.z=this._tileZoom,!!this._isValidTile(ke)){var fe=this._tiles[this._tileCoordsToKey(ke)];fe?fe.current=!0:O.push(ke)}}if(O.sort(function(qt,Zt){return qt.distanceTo(S)-Zt.distanceTo(S)}),O.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Xe=document.createDocumentFragment();for(Ot=0;Ot<O.length;Ot++)this._addTile(O[Ot],Xe);this._level.el.appendChild(Xe)}}}},_isValidTile:function(n){var s=this._map.options.crs;if(!s.infinite){var c=this._globalTileRange;if(!s.wrapLng&&(n.x<c.min.x||n.x>c.max.x)||!s.wrapLat&&(n.y<c.min.y||n.y>c.max.y))return!1}if(!this.options.bounds)return!0;var m=this._tileCoordsToBounds(n);return nt(this.options.bounds).overlaps(m)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var s=this._map,c=this.getTileSize(),m=n.scaleBy(c),_=m.add(c),S=s.unproject(m,n.z),O=s.unproject(_,n.z);return[S,O]},_tileCoordsToBounds:function(n){var s=this._tileCoordsToNwSe(n),c=new tt(s[0],s[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var s=n.split(":"),c=new W(+s[0],+s[1]);return c.z=+s[2],c},_removeTile:function(n){var s=this._tiles[n];s&&(Jt(s.el),delete this._tiles[n],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){St(n,"leaflet-tile");var s=this.getTileSize();n.style.width=s.x+"px",n.style.height=s.y+"px",n.onselectstart=E,n.onmousemove=E,ft.ielt9&&this.options.opacity<1&&ie(n,this.options.opacity)},_addTile:function(n,s){var c=this._getTilePos(n),m=this._tileCoordsToKey(n),_=this.createTile(this._wrapCoords(n),g(this._tileReady,this,n));this._initTile(_),this.createTile.length<2&&Et(g(this._tileReady,this,n,null,_)),te(_,c),this._tiles[m]={el:_,coords:n,current:!0},s.appendChild(_),this.fire("tileloadstart",{tile:_,coords:n})},_tileReady:function(n,s,c){s&&this.fire("tileerror",{error:s,tile:c,coords:n});var m=this._tileCoordsToKey(n);c=this._tiles[m],c&&(c.loaded=+new Date,this._map._fadeAnimated?(ie(c.el,0),Ut(this._fadeFrame),this._fadeFrame=Et(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),s||(St(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ft.ielt9||!this._map._fadeAnimated?Et(this._pruneTiles,this):setTimeout(g(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var s=new W(this._wrapX?A(n.x,this._wrapX):n.x,this._wrapY?A(n.y,this._wrapY):n.y);return s.z=n.z,s},_pxBoundsToTileRange:function(n){var s=this.getTileSize();return new N(n.min.unscaleBy(s).floor(),n.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function El(n){return new na(n)}var ni=na.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,s){this._url=n,s=H(this,s),s.detectRetina&&ft.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,s){return this._url===n&&s===void 0&&(s=!0),this._url=n,s||this.redraw(),this},createTile:function(n,s){var c=document.createElement("img");return xt(c,"load",g(this._tileOnLoad,this,s,c)),xt(c,"error",g(this._tileOnError,this,s,c)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(n),c},getTileUrl:function(n){var s={r:ft.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-n.y;this.options.tms&&(s.y=c),s["-y"]=c}return et(this._url,f(s,this.options))},_tileOnLoad:function(n,s){ft.ielt9?setTimeout(g(n,this,null,s),0):n(null,s)},_tileOnError:function(n,s,c){var m=this.options.errorTileUrl;m&&s.getAttribute("src")!==m&&(s.src=m),n(c,s)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,s=this.options.maxZoom,c=this.options.zoomReverse,m=this.options.zoomOffset;return c&&(n=s-n),n+m},_getSubdomain:function(n){var s=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var n,s;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(s=this._tiles[n].el,s.onload=E,s.onerror=E,!s.complete)){s.src=Ct;var c=this._tiles[n].coords;Jt(s),delete this._tiles[n],this.fire("tileabort",{tile:s,coords:c})}},_removeTile:function(n){var s=this._tiles[n];if(s)return s.el.setAttribute("src",Ct),na.prototype._removeTile.call(this,n)},_tileReady:function(n,s,c){if(!(!this._map||c&&c.getAttribute("src")===Ct))return na.prototype._tileReady.call(this,n,s,c)}});function en(n,s){return new ni(n,s)}var Fa=ni.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,s){this._url=n;var c=f({},this.defaultWmsParams);for(var m in s)m in this.options||(c[m]=s[m]);s=H(this,s);var _=s.detectRetina&&ft.retina?2:1,S=this.getTileSize();c.width=S.x*_,c.height=S.y*_,this.wmsParams=c},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,ni.prototype.onAdd.call(this,n)},getTileUrl:function(n){var s=this._tileCoordsToNwSe(n),c=this._crs,m=V(c.project(s[0]),c.project(s[1])),_=m.min,S=m.max,O=(this._wmsVersion>=1.3&&this._crs===Jr?[_.y,_.x,S.y,S.x]:[_.x,_.y,S.x,S.y]).join(","),M=ni.prototype.getTileUrl.call(this,n);return M+G(this.wmsParams,M,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+O},setParams:function(n,s){return f(this.wmsParams,n),s||this.redraw(),this}});function nn(n,s){return new Fa(n,s)}ni.WMS=Fa,en.wms=nn;var Ie=mn.extend({options:{padding:.1},initialize:function(n){H(this,n),x(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),St(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,s){var c=this._map.getZoomScale(s,this._zoom),m=this._map.getSize().multiplyBy(.5+this.options.padding),_=this._map.project(this._center,s),S=m.multiplyBy(-c).add(_).subtract(this._map._getNewPixelOrigin(n,s));ft.any3d?Mn(this._container,S,c):te(this._container,S)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,s=this._map.getSize(),c=this._map.containerPointToLayerPoint(s.multiplyBy(-n)).round();this._bounds=new N(c,c.add(s.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),qs=Ie.extend({options:{tolerance:0},getEvents:function(){var n=Ie.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ie.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");xt(n,"mousemove",this._onMouseMove,this),xt(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),xt(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){Ut(this._redrawRequest),delete this._ctx,Jt(this._container),Yt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var s in this._layers)n=this._layers[s],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ie.prototype._update.call(this);var n=this._bounds,s=this._container,c=n.getSize(),m=ft.retina?2:1;te(s,n.min),s.width=m*c.x,s.height=m*c.y,s.style.width=c.x+"px",s.style.height=c.y+"px",ft.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){Ie.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[x(n)]=n;var s=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var s=n._order,c=s.next,m=s.prev;c?c.prev=m:this._drawLast=m,m?m.next=c:this._drawFirst=c,delete n._order,delete this._layers[x(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var s=n.options.dashArray.split(/[, ]+/),c=[],m,_;for(_=0;_<s.length;_++){if(m=Number(s[_]),isNaN(m))return;c.push(m)}n.options._dashArray=c}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||Et(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var s=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new N,this._redrawBounds.extend(n._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(n._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var s=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,s=this._redrawBounds;if(this._ctx.save(),s){var c=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var m=this._drawFirst;m;m=m.next)n=m.layer,(!s||n._pxBounds&&n._pxBounds.intersects(s))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,s){if(this._drawing){var c,m,_,S,O=n._parts,M=O.length,B=this._ctx;if(M){for(B.beginPath(),c=0;c<M;c++){for(m=0,_=O[c].length;m<_;m++)S=O[c][m],B[m?"lineTo":"moveTo"](S.x,S.y);s&&B.closePath()}this._fillStroke(B,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var s=n._point,c=this._ctx,m=Math.max(Math.round(n._radius),1),_=(Math.max(Math.round(n._radiusY),1)||m)/m;_!==1&&(c.save(),c.scale(1,_)),c.beginPath(),c.arc(s.x,s.y/_,m,0,Math.PI*2,!1),_!==1&&c.restore(),this._fillStroke(c,n)}},_fillStroke:function(n,s){var c=s.options;c.fill&&(n.globalAlpha=c.fillOpacity,n.fillStyle=c.fillColor||c.color,n.fill(c.fillRule||"evenodd")),c.stroke&&c.weight!==0&&(n.setLineDash&&n.setLineDash(s.options&&s.options._dashArray||[]),n.globalAlpha=c.opacity,n.lineWidth=c.weight,n.strokeStyle=c.color,n.lineCap=c.lineCap,n.lineJoin=c.lineJoin,n.stroke())},_onClick:function(n){for(var s=this._map.mouseEventToLayerPoint(n),c,m,_=this._drawFirst;_;_=_.next)c=_.layer,c.options.interactive&&c._containsPoint(s)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(c))&&(m=c);this._fireEvent(m?[m]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,s)}},_handleMouseOut:function(n){var s=this._hoveredLayer;s&&(le(this._container,"leaflet-interactive"),this._fireEvent([s],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,s){if(!this._mouseHoverThrottled){for(var c,m,_=this._drawFirst;_;_=_.next)c=_.layer,c.options.interactive&&c._containsPoint(s)&&(m=c);m!==this._hoveredLayer&&(this._handleMouseOut(n),m&&(St(this._container,"leaflet-interactive"),this._fireEvent([m],n,"mouseover"),this._hoveredLayer=m)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(g(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,s,c){this._map._fireDOMEvent(s,c||s.type,n)},_bringToFront:function(n){var s=n._order;if(s){var c=s.next,m=s.prev;if(c)c.prev=m;else return;m?m.next=c:c&&(this._drawFirst=c),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(n)}},_bringToBack:function(n){var s=n._order;if(s){var c=s.next,m=s.prev;if(m)m.next=c;else return;c?c.prev=m:m&&(this._drawLast=m),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(n)}}});function ts(n){return ft.canvas?new qs(n):null}var ii=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Qr={_initContainer:function(){this._container=Lt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ie.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var s=n._container=ii("shape");St(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",n._path=ii("path"),s.appendChild(n._path),this._updateStyle(n),this._layers[x(n)]=n},_addPath:function(n){var s=n._container;this._container.appendChild(s),n.options.interactive&&n.addInteractiveTarget(s)},_removePath:function(n){var s=n._container;Jt(s),n.removeInteractiveTarget(s),delete this._layers[x(n)]},_updateStyle:function(n){var s=n._stroke,c=n._fill,m=n.options,_=n._container;_.stroked=!!m.stroke,_.filled=!!m.fill,m.stroke?(s||(s=n._stroke=ii("stroke")),_.appendChild(s),s.weight=m.weight+"px",s.color=m.color,s.opacity=m.opacity,m.dashArray?s.dashStyle=J(m.dashArray)?m.dashArray.join(" "):m.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=m.lineCap.replace("butt","flat"),s.joinstyle=m.lineJoin):s&&(_.removeChild(s),n._stroke=null),m.fill?(c||(c=n._fill=ii("fill")),_.appendChild(c),c.color=m.fillColor||m.color,c.opacity=m.fillOpacity):c&&(_.removeChild(c),n._fill=null)},_updateCircle:function(n){var s=n._point.round(),c=Math.round(n._radius),m=Math.round(n._radiusY||c);this._setPath(n,n._empty()?"M0 0":"AL "+s.x+","+s.y+" "+c+","+m+" 0,"+65535*360)},_setPath:function(n,s){n._path.v=s},_bringToFront:function(n){Oe(n._container)},_bringToBack:function(n){_i(n._container)}},kn=ft.vml?ii:xs,ia=Ie.extend({_initContainer:function(){this._container=kn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=kn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Jt(this._container),Yt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ie.prototype._update.call(this);var n=this._bounds,s=n.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,c.setAttribute("width",s.x),c.setAttribute("height",s.y)),te(c,n.min),c.setAttribute("viewBox",[n.min.x,n.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(n){var s=n._path=kn("path");n.options.className&&St(s,n.options.className),n.options.interactive&&St(s,"leaflet-interactive"),this._updateStyle(n),this._layers[x(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){Jt(n._path),n.removeInteractiveTarget(n._path),delete this._layers[x(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var s=n._path,c=n.options;s&&(c.stroke?(s.setAttribute("stroke",c.color),s.setAttribute("stroke-opacity",c.opacity),s.setAttribute("stroke-width",c.weight),s.setAttribute("stroke-linecap",c.lineCap),s.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?s.setAttribute("stroke-dasharray",c.dashArray):s.removeAttribute("stroke-dasharray"),c.dashOffset?s.setAttribute("stroke-dashoffset",c.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),c.fill?(s.setAttribute("fill",c.fillColor||c.color),s.setAttribute("fill-opacity",c.fillOpacity),s.setAttribute("fill-rule",c.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(n,s){this._setPath(n,ws(n._parts,s))},_updateCircle:function(n){var s=n._point,c=Math.max(Math.round(n._radius),1),m=Math.max(Math.round(n._radiusY),1)||c,_="a"+c+","+m+" 0 1,0 ",S=n._empty()?"M0 0":"M"+(s.x-c)+","+s.y+_+c*2+",0 "+_+-c*2+",0 ";this._setPath(n,S)},_setPath:function(n,s){n._path.setAttribute("d",s)},_bringToFront:function(n){Oe(n._path)},_bringToBack:function(n){_i(n._path)}});ft.vml&&ia.include(Qr);function es(n){return ft.svg||ft.vml?new ia(n):null}Bt.include({getRenderer:function(n){var s=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var s=this._paneRenderers[n];return s===void 0&&(s=this._createRenderer({pane:n}),this._paneRenderers[n]=s),s},_createRenderer:function(n){return this.options.preferCanvas&&ts(n)||es(n)}});var xi=Wi.extend({initialize:function(n,s){Wi.prototype.initialize.call(this,this._boundsToLatLngs(n),s)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=nt(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function cc(n,s){return new xi(n,s)}ia.create=kn,ia.pointsToPath=ws,Pn.geometryToLayer=Re,Pn.coordsToLatLng=Ds,Pn.coordsToLatLngs=$a,Pn.latLngToCoords=Us,Pn.latLngsToCoords=Xa,Pn.getFeature=Fn,Pn.asFeature=Bs,Bt.mergeOptions({boxZoom:!0});var Ge=Tn.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){xt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Yt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Jt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ii(),Os(),this._startPoint=this._map.mouseEventToContainerPoint(n),xt(document,{contextmenu:Qn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=Lt("div","leaflet-zoom-box",this._container),St(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var s=new N(this._point,this._startPoint),c=s.getSize();te(this._box,s.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(Jt(this._box),le(this._container,"leaflet-crosshair")),wn(),Ua(),Yt(document,{contextmenu:Qn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(g(this._resetState,this),0);var s=new tt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Bt.addInitHook("addHandler","boxZoom",Ge),Bt.mergeOptions({doubleClickZoom:!0});var Zs=Tn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var s=this._map,c=s.getZoom(),m=s.options.zoomDelta,_=n.originalEvent.shiftKey?c-m:c+m;s.options.doubleClickZoom==="center"?s.setZoom(_):s.setZoomAround(n.containerPoint,_)}});Bt.addInitHook("addHandler","doubleClickZoom",Zs),Bt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Nn=Tn.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new Wn(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}St(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){le(this._map._container,"leaflet-grab"),le(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=nt(this._map.options.maxBounds);this._offsetLimit=V(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var s=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(s),this._prunePositions(s)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,s){return n-(n-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;n.x<s.min.x&&(n.x=this._viscousLimit(n.x,s.min.x)),n.y<s.min.y&&(n.y=this._viscousLimit(n.y,s.min.y)),n.x>s.max.x&&(n.x=this._viscousLimit(n.x,s.max.x)),n.y>s.max.y&&(n.y=this._viscousLimit(n.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,s=Math.round(n/2),c=this._initialWorldOffset,m=this._draggable._newPos.x,_=(m-s+c)%n+s-c,S=(m+s+c)%n-s-c,O=Math.abs(_+c)<Math.abs(S+c)?_:S;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=O},_onDragEnd:function(n){var s=this._map,c=s.options,m=!c.inertia||n.noInertia||this._times.length<2;if(s.fire("dragend",n),m)s.fire("moveend");else{this._prunePositions(+new Date);var _=this._lastPos.subtract(this._positions[0]),S=(this._lastTime-this._times[0])/1e3,O=c.easeLinearity,M=_.multiplyBy(O/S),B=M.distanceTo([0,0]),$=Math.min(c.inertiaMaxSpeed,B),it=M.multiplyBy($/B),pt=$/(c.inertiaDeceleration*O),Ot=it.multiplyBy(-pt/2).round();!Ot.x&&!Ot.y?s.fire("moveend"):(Ot=s._limitOffset(Ot,s.options.maxBounds),Et(function(){s.panBy(Ot,{duration:pt,easeLinearity:O,noMoveStart:!0,animate:!0})}))}}});Bt.addInitHook("addHandler","dragging",Nn),Bt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Wr=Tn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),xt(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Yt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,s=document.documentElement,c=n.scrollTop||s.scrollTop,m=n.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(m,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var s=this._panKeys={},c=this.keyCodes,m,_;for(m=0,_=c.left.length;m<_;m++)s[c.left[m]]=[-1*n,0];for(m=0,_=c.right.length;m<_;m++)s[c.right[m]]=[n,0];for(m=0,_=c.down.length;m<_;m++)s[c.down[m]]=[0,n];for(m=0,_=c.up.length;m<_;m++)s[c.up[m]]=[0,-1*n]},_setZoomDelta:function(n){var s=this._zoomKeys={},c=this.keyCodes,m,_;for(m=0,_=c.zoomIn.length;m<_;m++)s[c.zoomIn[m]]=n;for(m=0,_=c.zoomOut.length;m<_;m++)s[c.zoomOut[m]]=-n},_addHooks:function(){xt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Yt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var s=n.keyCode,c=this._map,m;if(s in this._panKeys){if(!c._panAnim||!c._panAnim._inProgress)if(m=this._panKeys[s],n.shiftKey&&(m=rt(m).multiplyBy(3)),c.options.maxBounds&&(m=c._limitOffset(rt(m),c.options.maxBounds)),c.options.worldCopyJump){var _=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(m)));c.panTo(_)}else c.panBy(m)}else if(s in this._zoomKeys)c.setZoom(c.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;Qn(n)}}});Bt.addInitHook("addHandler","keyboard",Wr),Bt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ns=Tn.extend({addHooks:function(){xt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Yt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var s=Ue(n),c=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var m=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(g(this._performZoom,this),m),Qn(n)},_performZoom:function(){var n=this._map,s=n.getZoom(),c=this._map.options.zoomSnap||0;n._stop();var m=this._delta/(this._map.options.wheelPxPerZoomLevel*4),_=4*Math.log(2/(1+Math.exp(-Math.abs(m))))/Math.LN2,S=c?Math.ceil(_/c)*c:_,O=n._limitZoom(s+(this._delta>0?S:-S))-s;this._delta=0,this._startTime=null,O&&(n.options.scrollWheelZoom==="center"?n.setZoom(s+O):n.setZoomAround(this._lastMousePos,s+O))}});Bt.addInitHook("addHandler","scrollWheelZoom",ns);var wi=600;Bt.mergeOptions({tapHold:ft.touchNative&&ft.safari&&ft.mobile,tapTolerance:15});var Is=Tn.extend({addHooks:function(){xt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Yt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var s=n.touches[0];this._startPos=this._newPos=new W(s.clientX,s.clientY),this._holdTimeout=setTimeout(g(function(){this._cancel(),this._isTapValid()&&(xt(document,"touchend",de),xt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),wi),xt(document,"touchend touchcancel contextmenu",this._cancel,this),xt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){Yt(document,"touchend",de),Yt(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),Yt(document,"touchend touchcancel contextmenu",this._cancel,this),Yt(document,"touchmove",this._onMove,this)},_onMove:function(n){var s=n.touches[0];this._newPos=new W(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,s){var c=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});c._simulated=!0,s.target.dispatchEvent(c)}});Bt.addInitHook("addHandler","tapHold",Is),Bt.mergeOptions({touchZoom:ft.touch,bounceAtZoomLimits:!0});var Fr=Tn.extend({addHooks:function(){St(this._map._container,"leaflet-touch-zoom"),xt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){le(this._map._container,"leaflet-touch-zoom"),Yt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var s=this._map;if(!(!n.touches||n.touches.length!==2||s._animatingZoom||this._zooming)){var c=s.mouseEventToContainerPoint(n.touches[0]),m=s.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(c.add(m)._divideBy(2))),this._startDist=c.distanceTo(m),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),xt(document,"touchmove",this._onTouchMove,this),xt(document,"touchend touchcancel",this._onTouchEnd,this),de(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var s=this._map,c=s.mouseEventToContainerPoint(n.touches[0]),m=s.mouseEventToContainerPoint(n.touches[1]),_=c.distanceTo(m)/this._startDist;if(this._zoom=s.getScaleZoom(_,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&_<1||this._zoom>s.getMaxZoom()&&_>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,_===1)return}else{var S=c._add(m)._divideBy(2)._subtract(this._centerPoint);if(_===1&&S.x===0&&S.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(S),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),Ut(this._animRequest);var O=g(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Et(O,this,!0),de(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Ut(this._animRequest),Yt(document,"touchmove",this._onTouchMove,this),Yt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Bt.addInitHook("addHandler","touchZoom",Fr),Bt.BoxZoom=Ge,Bt.DoubleClickZoom=Zs,Bt.Drag=Nn,Bt.Keyboard=Wr,Bt.ScrollWheelZoom=ns,Bt.TapHold=Is,Bt.TouchZoom=Fr,o.Bounds=N,o.Browser=ft,o.CRS=Nt,o.Canvas=qs,o.Circle=Ms,o.CircleMarker=Qi,o.Class=se,o.Control=$e,o.DivIcon=Tl,o.DivOverlay=ze,o.DomEvent=js,o.DomUtil=Ki,o.Draggable=Wn,o.Evented=at,o.FeatureGroup=En,o.GeoJSON=Pn,o.GridLayer=na,o.Handler=Tn,o.Icon=An,o.ImageOverlay=ta,o.LatLng=lt,o.LatLngBounds=tt,o.Layer=mn,o.LayerGroup=Ji,o.LineUtil=ac,o.Map=Bt,o.Marker=Ya,o.Mixin=tc,o.Path=On,o.Point=W,o.PolyUtil=$r,o.Polygon=Wi,o.Polyline=Bn,o.Popup=Qa,o.PosAnimation=Yi,o.Projection=pl,o.Rectangle=xi,o.Renderer=Ie,o.SVG=ia,o.SVGOverlay=Hs,o.TileLayer=ni,o.Tooltip=Wa,o.Transformation=Bi,o.Util=_e,o.VideoOverlay=ei,o.bind=g,o.bounds=V,o.canvas=ts,o.circle=bl,o.circleMarker=yl,o.control=Un,o.divIcon=uc,o.extend=f,o.featureGroup=_l,o.geoJSON=Ps,o.geoJson=Ja,o.gridLayer=El,o.icon=Ga,o.imageOverlay=xl,o.latLng=ot,o.latLngBounds=nt,o.layerGroup=sc,o.map=Zr,o.marker=vl,o.point=rt,o.polygon=oc,o.polyline=rc,o.popup=Sl,o.rectangle=cc,o.setOptions=H,o.stamp=x,o.svg=es,o.svgOverlay=wl,o.tileLayer=en,o.tooltip=lc,o.transformation=ci,o.version=u,o.videoOverlay=ea;var to=window.L;o.noConflict=function(){return window.L=to,this},window.L=o}))})(Bo,Bo.exports)),Bo.exports}var Er=Bb();const Ar=dd(Er);function Hu(l,a,o){return Object.freeze({instance:l,context:a,container:o})}function qu(l,a){return a==null?function(u,f){const p=ut.useRef(void 0);return p.current||(p.current=l(u,f)),p}:function(u,f){const p=ut.useRef(void 0);p.current||(p.current=l(u,f));const g=ut.useRef(u),{instance:b}=p.current;return ut.useEffect(function(){g.current!==u&&(a(b,u,g.current),g.current=u)},[b,u,a]),p}}function Sg(l,a){ut.useEffect(function(){return(a.layerContainer??a.map).addLayer(l.instance),function(){var p;(p=a.layerContainer)==null||p.removeLayer(l.instance),a.map.removeLayer(l.instance)}},[a,l])}function Tg(l){return function(o){const u=_d(),f=l(Pu(o,u),u);return bg(u.map,o.attribution),vd(f.current,o.eventHandlers),Sg(f.current,u),f}}function Pb(l,a){const o=ut.useRef(void 0);ut.useEffect(function(){if(a.pathOptions!==o.current){const f=a.pathOptions??{};l.instance.setStyle(f),o.current=f}},[l,a])}function Hb(l){return function(o){const u=_d(),f=l(Pu(o,u),u);return vd(f.current,o.eventHandlers),Sg(f.current,u),Pb(f.current,o),f}}function qb(l,a){const o=qu(l,a),u=Tg(o);return wg(u)}function Zb(l,a){const o=qu(l),u=Db(o,a);return zb(u)}function Ib(l,a){const o=qu(l,a),u=Hb(o);return wg(u)}function Gb(l,a){const o=qu(l,a),u=Tg(o);return Mb(u)}function Vb(l,a,o){const{opacity:u,zIndex:f}=a;u!=null&&u!==o.opacity&&l.setOpacity(u),f!=null&&f!==o.zIndex&&l.setZIndex(f)}function Kb({bounds:l,boundsOptions:a,center:o,children:u,className:f,id:p,placeholder:g,style:b,whenReady:x,zoom:w,...A},E){const[j]=ut.useState({className:f,id:p,style:b}),[R,q]=ut.useState(null),H=ut.useRef(void 0);ut.useImperativeHandle(E,()=>(R==null?void 0:R.map)??null,[R]);const G=ut.useCallback(et=>{if(et!==null&&!H.current){const J=new Er.Map(et,A);H.current=J,o!=null&&w!=null?J.setView(o,w):l!=null&&J.fitBounds(l,a),x!=null&&J.whenReady(x),q(Rb(J))}},[]);ut.useEffect(()=>()=>{R==null||R.map.remove()},[R]);const Q=R?Nu.createElement(gd,{value:R},u):g??null;return Nu.createElement("div",{...j,ref:G},Q)}const Yb=ut.forwardRef(Kb),Ru=qb(function({position:a,...o},u){const f=new Er.Marker(a,o);return Hu(f,xg(u,{overlayContainer:f}))},function(a,o,u){o.position!==u.position&&a.setLatLng(o.position),o.icon!=null&&o.icon!==u.icon&&a.setIcon(o.icon),o.zIndexOffset!=null&&o.zIndexOffset!==u.zIndexOffset&&a.setZIndexOffset(o.zIndexOffset),o.opacity!=null&&o.opacity!==u.opacity&&a.setOpacity(o.opacity),a.dragging!=null&&o.draggable!==u.draggable&&(o.draggable===!0?a.dragging.enable():a.dragging.disable())}),$b=Ib(function({positions:a,...o},u){const f=new Er.Polyline(a,o);return Hu(f,xg(u,{overlayContainer:f}))},function(a,o,u){o.positions!==u.positions&&a.setLatLngs(o.positions)}),zu=Zb(function(a,o){const u=new Er.Popup(a,o.overlayContainer);return Hu(u,o)},function(a,o,{position:u},f){ut.useEffect(function(){const{instance:g}=a;function b(w){w.popup===g&&(g.update(),f(!0))}function x(w){w.popup===g&&f(!1)}return o.map.on({popupopen:b,popupclose:x}),o.overlayContainer==null?(u!=null&&g.setLatLng(u),g.openOn(o.map)):o.overlayContainer.bindPopup(g),function(){var A;o.map.off({popupopen:b,popupclose:x}),(A=o.overlayContainer)==null||A.unbindPopup(),o.map.removeLayer(g)}},[a,o,f,u])}),Jp=Gb(function({url:a,...o},u){const f=new Er.TileLayer(a,Pu(o,u));return Hu(f,u)},function(a,o,u){Vb(a,o,u);const{url:f}=o;f!=null&&f!==u.url&&a.setUrl(f)});delete Ar.Icon.Default.prototype._getIconUrl;Ar.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const Eg=({children:l,center:a,zoom:o=12,isDark:u=!1})=>y.jsx("div",{className:"w-full h-full rounded-2xl overflow-hidden",children:y.jsxs(Yb,{center:[a.lat,a.lng],zoom:o,style:{height:"100%",width:"100%"},zoomControl:!0,className:u?"leaflet-dark-mode":"",children:[u?y.jsx(Jp,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png"}):y.jsx(Jp,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),l]})}),Xb=new Ar.DivIcon({html:'<div style="background-color: #f3ae3d; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; border: 4px solid white; box-shadow: 0 4px 12px rgba(243,174,61,0.5); font-size: 24px; animation: pulse 2s infinite;"></div>',className:"custom-current-bus-icon",iconSize:[40,40],iconAnchor:[20,20]}),Jb=l=>new Ar.DivIcon({html:`<div style="background-color: #10b981; width: 36px; height: 36px; border-radius: 50%; display: flex; align-items: center; justify-content: center; border: 3px solid white; box-shadow: 0 2px 8px rgba(0,0,0,0.3); color: white; font-weight: bold; font-size: 16px;">${l}</div>`,className:`custom-stop-icon-${l}`,iconSize:[36,36],iconAnchor:[18,18]}),Qb=({busNumber:l,institutionId:a,isDark:o=!1})=>{const[u,f]=ut.useState(null),[p,g]=ut.useState([]),[b,x]=ut.useState({lat:12.9716,lng:77.5946});ut.useEffect(()=>{if(!l||!a)return;(async()=>{const{data:j}=await ce.from("bus_locations").select("*").eq("bus_number",l).eq("institution_id",a).order("updated_at",{ascending:!1}).limit(1).single();if(j){const q={lat:parseFloat(j.latitude),lng:parseFloat(j.longitude)};f(q),x(q)}const{data:R}=await ce.from("bus_routes").select(`
          id,
          bus_number,
          route_name,
          bus_stops (
            id,
            stop_name,
            latitude,
            longitude,
            stop_order,
            estimated_time
          )
        `).eq("bus_number",l).eq("institution_id",a).single();if(R&&R.bus_stops){const q=await Promise.all(R.bus_stops.map(async H=>{const{data:G}=await ce.from("profiles").select("*").eq("assignedBus",l).eq("role","student"),Q=(G==null?void 0:G.map(et=>({id:et.id,name:et.full_name||"Unnamed",grade:et.department||"N/A",rollNumber:et.staff_id||"N/A",boarded:!1,avatar:et.image_url||`https://i.pravatar.cc/150?u=${et.id}`,institution_id:et.institution_id,assignedBus:et.assignedBus||""})))||[];return{id:H.id,routeId:R.id,stopName:H.stop_name,location:{lat:parseFloat(H.latitude),lng:parseFloat(H.longitude)},stopOrder:H.stop_order,estimatedTime:H.estimated_time,students:Q}}));g(q.sort((H,G)=>H.stopOrder-G.stopOrder))}})();const E=ce.channel(`bus-location-${l}`).on("postgres_changes",{event:"*",table:"bus_locations",filter:`bus_number=eq.${l}`},j=>{j.new&&f({lat:parseFloat(j.new.latitude),lng:parseFloat(j.new.longitude)})}).subscribe();return()=>{ce.removeChannel(E)}},[l,a]);const w=p.map(A=>[A.location.lat,A.location.lng]);return y.jsxs(Eg,{center:b,zoom:14,isDark:o,children:[u&&y.jsx(Ru,{position:[u.lat,u.lng],icon:Xb,children:y.jsx(zu,{children:y.jsxs("div",{className:"p-2",children:[y.jsxs("h3",{className:"font-bold text-sm",children:[" Your Bus (",l,")"]}),y.jsx("p",{className:"text-xs text-gray-600",children:"Current Location"})]})})}),w.length>1&&y.jsx($b,{positions:w,pathOptions:{color:"#f3ae3d",weight:4,opacity:.8}}),p.map((A,E)=>y.jsx(Ru,{position:[A.location.lat,A.location.lng],icon:Jb(E+1),children:y.jsx(zu,{children:y.jsxs("div",{className:"p-3 max-w-xs",children:[y.jsxs("h3",{className:"font-bold text-sm mb-2",children:["Stop ",E+1,": ",A.stopName]}),A.estimatedTime&&y.jsxs("p",{className:"text-xs text-gray-600 mb-2",children:["ETA: ",A.estimatedTime]}),y.jsxs("div",{className:"mt-2",children:[y.jsx("p",{className:"text-xs font-semibold mb-1",children:"Students at this stop:"}),A.students.length===0?y.jsx("p",{className:"text-xs text-gray-500 italic",children:"No students assigned"}):y.jsxs("ul",{className:"text-xs space-y-1",children:[A.students.slice(0,5).map(j=>y.jsxs("li",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500"}),j.name," (",j.grade,")"]},j.id)),A.students.length>5&&y.jsxs("li",{className:"text-gray-500 italic",children:["+",A.students.length-5," more"]})]})]})]})})},A.id))]})},Wb=({trip:l,boardedCount:a,totalStudents:o,onStopTrip:u,setView:f,institutionId:p})=>{const[g,b]=ut.useState(32),[x,w]=ut.useState(!1);return ut.useEffect(()=>{const A=setInterval(()=>b(E=>E+1),6e4);return()=>clearInterval(A)},[]),ut.useEffect(()=>{const A=window.matchMedia("(prefers-color-scheme: dark)");w(A.matches);const E=j=>w(j.matches);return A.addEventListener("change",E),()=>A.removeEventListener("change",E)},[]),y.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[y.jsxs("header",{className:"px-4 py-6 md:px-8 md:py-10 lg:px-12 flex items-center justify-between sticky top-0 bg-background-light dark:bg-background-dark z-20 shrink-0",children:[y.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[y.jsx("button",{onClick:()=>f(jt.DASHBOARD),className:"w-10 h-10 md:w-12 md:h-12 flex items-center justify-center rounded-full bg-white dark:bg-card-dark shadow-sm border border-black/5 hover:scale-105 active:scale-95 transition-transform",children:y.jsx("span",{className:"material-symbols-outlined text-xl md:text-2xl",children:"arrow_back_ios"})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-lg md:text-2xl lg:text-3xl font-extrabold tracking-tight",children:"Active Trip"}),y.jsx("p",{className:"text-[10px] md:text-xs font-bold uppercase text-primary tracking-widest",children:"Live Monitoring"})]})]}),y.jsx("div",{className:"flex items-center gap-3",children:y.jsxs("div",{className:"px-3 py-1.5 md:px-5 md:py-2.5 bg-success/10 border border-success/20 rounded-xl flex items-center gap-2",children:[y.jsx("div",{className:"w-1.5 h-1.5 md:w-2 md:h-2 bg-success rounded-full animate-ping"}),y.jsx("span",{className:"text-[9px] md:text-xs font-bold text-success uppercase tracking-widest",children:"GPS Live"})]})})]}),y.jsxs("main",{className:"flex-1 flex flex-col lg:flex-row p-4 md:p-6 lg:px-12 gap-4 md:gap-8 lg:gap-10 overflow-hidden",children:[y.jsxs("div",{className:"flex-[3] relative rounded-2xl md:rounded-[3rem] overflow-hidden border border-black/5 shadow-2xl h-[45%] md:h-[50%] lg:h-full group shrink-0 lg:shrink",children:[y.jsx(Qb,{busNumber:l.busNumber,institutionId:p||null,isDark:x}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/10 via-transparent to-black/30 pointer-events-none"}),y.jsx("div",{className:"absolute top-4 left-4 right-4 md:top-8 md:left-8 md:right-8",children:y.jsxs("div",{className:"bg-white/95 dark:bg-card-dark/95 backdrop-blur-2xl p-4 md:p-8 rounded-xl md:rounded-[2.5rem] shadow-2xl border-l-4 md:border-l-8 border-primary flex items-center justify-between animate-in slide-in-from-top duration-500",children:[y.jsxs("div",{className:"flex items-center gap-4 md:gap-6 min-w-0",children:[y.jsx("div",{className:"w-10 h-10 md:w-16 md:h-16 bg-primary/10 rounded-xl md:rounded-3xl flex items-center justify-center text-primary shrink-0",children:y.jsx("span",{className:"material-symbols-outlined text-2xl md:text-4xl",children:"pin_drop"})}),y.jsxs("div",{className:"min-w-0",children:[y.jsx("p",{className:"text-[8px] md:text-[10px] font-bold tracking-[0.2em] uppercase text-black/40 dark:text-white/40 mb-1",children:"Next Stop"}),y.jsx("p",{className:"text-sm md:text-xl font-extrabold leading-tight truncate tracking-tight",children:l.nextStop})]})]}),y.jsxs("div",{className:"text-right shrink-0",children:[y.jsx("p",{className:"text-xl md:text-3xl font-extrabold text-primary leading-none tracking-tight",children:l.nextStopEta}),y.jsxs("p",{className:"text-black/30 dark:text-white/30 text-[8px] md:text-[10px] font-bold tracking-widest uppercase mt-1.5",children:[l.distance," away"]})]})]})}),y.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",children:y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute -inset-6 md:-inset-10 bg-primary/30 rounded-full animate-ping"}),y.jsx("div",{className:"bg-primary p-3 md:p-6 rounded-xl md:rounded-3xl shadow-2xl border-2 md:border-4 border-white dark:border-card-dark relative z-10 text-[#1c160d] flex items-center justify-center",children:y.jsx("span",{className:"material-symbols-outlined text-xl md:text-4xl material-symbols-fill",children:"directions_bus"})})]})})]}),y.jsxs("div",{className:"flex-[2] flex flex-col gap-6 md:gap-8 lg:justify-between h-full overflow-y-auto no-scrollbar pb-24 lg:pb-0",children:[y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 gap-4 md:gap-6",children:[y.jsxs("div",{className:"bg-white/80 dark:bg-card-dark/80 backdrop-blur-xl p-6 md:p-8 rounded-[2rem] border border-black/5 shadow-xl shadow-black/[0.02] flex flex-col gap-5",children:[y.jsx("div",{className:"flex items-center justify-between",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"bg-primary/20 w-10 h-10 md:w-14 md:h-14 flex items-center justify-center rounded-xl md:rounded-2xl text-primary animate-pulse",children:y.jsx("span",{className:"material-symbols-outlined text-2xl md:text-3xl material-symbols-fill",children:"share_location"})}),y.jsx("p",{className:"text-xs md:text-base font-extrabold leading-tight tracking-tight",children:"Live location shared"})]})}),y.jsx("div",{className:"h-2 w-full bg-primary/10 rounded-full overflow-hidden",children:y.jsx("div",{className:"h-full bg-primary rounded-full w-full animate-shimmer"})}),y.jsx("p",{className:"text-[9px] md:text-xs font-semibold opacity-40 text-center",children:"Connected to Parent Hub  142 viewers"})]}),y.jsxs("div",{className:"bg-white dark:bg-card-dark p-6 md:p-8 rounded-[2rem] shadow-xl shadow-black/[0.02] border border-black/5 grid grid-cols-2 gap-4 items-center",children:[y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx("span",{className:"text-black/40 text-[9px] md:text-xs font-bold tracking-widest uppercase mb-2",children:"Boarded"}),y.jsx("span",{className:"text-2xl md:text-4xl font-extrabold tracking-tight",children:a})]}),y.jsxs("div",{className:"flex flex-col items-center border-l border-black/5",children:[y.jsx("span",{className:"text-black/40 text-[9px] md:text-xs font-bold tracking-widest uppercase mb-2",children:"Total"}),y.jsx("span",{className:"text-2xl md:text-4xl font-extrabold tracking-tight opacity-20",children:o})]})]})]}),y.jsxs("div",{className:"bg-white dark:bg-card-dark p-6 md:p-8 rounded-[2rem] shadow-xl shadow-black/[0.02] border border-black/5 flex flex-col gap-8",children:[y.jsxs("div",{className:"flex justify-around items-center",children:[y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx("div",{className:"w-10 h-10 md:w-16 md:h-16 bg-blue-500/10 rounded-xl md:rounded-2xl flex items-center justify-center text-blue-500 mb-3",children:y.jsx("span",{className:"material-symbols-outlined text-xl md:text-3xl",children:"timer"})}),y.jsx("span",{className:"text-[8px] md:text-[10px] font-bold tracking-widest uppercase opacity-40 mb-1.5",children:"Trip Time"}),y.jsxs("span",{className:"text-lg md:text-2xl font-extrabold tracking-tight",children:[g,"m"]})]}),y.jsx("div",{className:"h-10 md:h-16 w-px bg-black/5"}),y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx("div",{className:"w-10 h-10 md:w-16 md:h-16 bg-orange-500/10 rounded-xl md:rounded-2xl flex items-center justify-center text-orange-500 mb-3",children:y.jsx("span",{className:"material-symbols-outlined text-xl md:text-3xl",children:"speed"})}),y.jsx("span",{className:"text-[8px] md:text-[10px] font-bold tracking-widest uppercase opacity-40 mb-1.5",children:"Avg Speed"}),y.jsx("span",{className:"text-lg md:text-2xl font-extrabold tracking-tight",children:l.speed})]})]}),y.jsxs("button",{onClick:u,className:"w-full h-20 md:h-28 bg-danger text-white rounded-2xl md:rounded-[2.5rem] flex items-center justify-center gap-4 md:gap-6 shadow-2xl shadow-danger/20 hover:bg-danger/90 active:scale-95 transition-all",children:[y.jsx("span",{className:"material-symbols-outlined text-3xl md:text-5xl material-symbols-fill",children:"stop_circle"}),y.jsxs("div",{className:"text-left",children:[y.jsx("p",{className:"text-lg md:text-2xl font-extrabold tracking-tight uppercase leading-none",children:"End Trip"}),y.jsx("p",{className:"text-[9px] md:text-xs font-bold opacity-70 uppercase tracking-widest mt-1.5",children:"Submit Route Data"})]})]})]})]})]})]})},Fb=({trip:l,onLogout:a,setView:o})=>y.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[y.jsxs("header",{className:"px-4 py-6 md:px-8 md:py-10 lg:px-12 flex items-center justify-between sticky top-0 bg-background-light dark:bg-background-dark z-20 shrink-0",children:[y.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[y.jsx("button",{onClick:()=>o(jt.DASHBOARD),className:"w-10 h-10 md:w-12 md:h-12 flex items-center justify-center rounded-full bg-white dark:bg-card-dark shadow-sm border border-black/5 lg:hidden active:scale-95 transition-transform",children:y.jsx("span",{className:"material-symbols-outlined text-xl md:text-2xl",children:"arrow_back_ios"})}),y.jsx("h2",{className:"text-lg md:text-2xl lg:text-3xl font-extrabold tracking-tight",children:"My Account"})]}),y.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 md:px-5 md:py-2.5 bg-primary text-[#1c160d] rounded-full border border-primary/20 shrink-0 shadow-lg shadow-primary/10",children:[y.jsx("div",{className:"w-1.5 h-1.5 md:w-2 md:h-2 bg-[#1c160d] rounded-full animate-pulse"}),y.jsx("span",{className:"text-[10px] md:text-xs font-bold uppercase tracking-widest leading-none",children:"Shift Active"})]})]}),y.jsx("main",{className:"flex-1 overflow-y-auto px-4 py-4 md:px-8 md:py-8 lg:px-12 lg:py-10 space-y-6 md:space-y-10 pb-32 lg:pb-10 no-scrollbar",children:y.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6 md:gap-10 items-start",children:[y.jsxs("section",{className:"flex flex-col items-center gap-6 md:gap-8 bg-white dark:bg-card-dark p-6 md:p-12 rounded-[2rem] md:rounded-[3rem] shadow-2xl shadow-black/[0.03] border border-black/5 xl:sticky xl:top-0",children:[y.jsxs("div",{className:"relative group shrink-0",children:[y.jsx("img",{src:"https://picsum.photos/seed/driverjohn/800",alt:"Driver",className:"w-32 h-32 md:w-48 md:h-48 lg:w-64 lg:h-64 rounded-2xl md:rounded-[3rem] border-4 md:border-8 border-primary/5 shadow-2xl object-cover transition-transform group-hover:scale-[1.02]"}),y.jsx("div",{className:"absolute -bottom-3 md:-bottom-4 left-1/2 -translate-x-1/2 bg-success text-white px-4 md:px-8 py-1.5 md:py-3 rounded-full border-2 md:border-4 border-white dark:border-card-dark shadow-lg",children:y.jsx("p",{className:"text-[10px] md:text-xs font-bold uppercase tracking-widest leading-none",children:"Online"})})]}),y.jsxs("div",{className:"text-center",children:[y.jsx("h1",{className:"text-xl md:text-3xl font-extrabold mb-1 tracking-tight",children:"John Doe"}),y.jsx("p",{className:"text-black/40 dark:text-white/40 text-base md:text-lg font-semibold",children:"Senior Fleet Officer"}),y.jsxs("div",{className:"flex items-center justify-center gap-2 mt-4 md:mt-6",children:[y.jsx("span",{className:"bg-black/5 dark:bg-white/5 px-3 py-1 md:px-5 md:py-2 rounded-xl text-[10px] md:text-xs font-bold uppercase tracking-widest opacity-60",children:"ID: #9921-X"}),y.jsx("span",{className:"bg-black/5 dark:bg-white/5 px-3 py-1 md:px-5 md:py-2 rounded-xl text-[10px] md:text-xs font-bold uppercase tracking-widest opacity-60",children:"EXP: 8Y"})]})]}),y.jsx("div",{className:"w-full h-px bg-black/5"}),y.jsxs("button",{onClick:a,className:"w-full h-14 md:h-18 bg-danger text-white rounded-xl md:rounded-[1.5rem] flex items-center justify-center gap-3 shadow-xl shadow-danger/10 hover:bg-danger/90 active:scale-95 transition-all",children:[y.jsx("span",{className:"material-symbols-outlined text-xl md:text-3xl",children:"logout"}),y.jsx("span",{className:"text-sm md:text-lg font-extrabold tracking-tight",children:"Sign Out"})]})]}),y.jsx("div",{className:"xl:col-span-2 space-y-6 md:space-y-10",children:y.jsxs("section",{className:"space-y-4 md:space-y-8",children:[y.jsxs("h3",{className:"text-xl md:text-3xl font-extrabold px-2 flex items-center gap-4 tracking-tight",children:[y.jsx("span",{className:"material-symbols-outlined text-primary text-xl md:text-3xl",children:"assignment_ind"}),"Operational Info"]}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 md:gap-8",children:[y.jsxs("div",{className:"bg-white dark:bg-card-dark rounded-2xl md:rounded-[2.5rem] shadow-xl shadow-black/[0.02] border border-black/5 p-5 md:p-8 flex items-center gap-4 md:gap-6",children:[y.jsx("div",{className:"bg-primary/10 w-12 h-12 md:w-20 md:h-20 rounded-xl md:rounded-[1.5rem] flex items-center justify-center text-primary shrink-0",children:y.jsx("span",{className:"material-symbols-outlined text-3xl md:text-5xl material-symbols-fill",children:"directions_bus"})}),y.jsxs("div",{className:"min-w-0",children:[y.jsxs("p",{className:"text-base md:text-xl font-extrabold leading-tight truncate tracking-tight",children:["Bus #",l.busNumber]}),y.jsx("p",{className:"text-black/40 dark:text-white/40 text-xs md:text-sm font-semibold truncate mt-1",children:"Assigned Vehicle"})]})]}),y.jsxs("div",{className:"bg-white dark:bg-card-dark rounded-2xl md:rounded-[2.5rem] shadow-xl shadow-black/[0.02] border border-black/5 p-5 md:p-8 flex items-center gap-4 md:gap-6",children:[y.jsx("div",{className:"bg-primary/10 w-12 h-12 md:w-20 md:h-20 rounded-xl md:rounded-[1.5rem] flex items-center justify-center text-primary shrink-0",children:y.jsx("span",{className:"material-symbols-outlined text-3xl md:text-5xl material-symbols-fill",children:"route"})}),y.jsxs("div",{className:"min-w-0",children:[y.jsx("p",{className:"text-base md:text-xl font-extrabold leading-tight truncate tracking-tight",children:"Zone 4: North"}),y.jsx("p",{className:"text-black/40 dark:text-white/40 text-xs md:text-sm font-semibold truncate mt-1",children:"Primary Territory"})]})]}),y.jsxs("div",{className:"bg-white dark:bg-card-dark rounded-2xl md:rounded-[2.5rem] shadow-xl shadow-black/[0.02] border border-black/5 p-5 md:p-8 flex items-center gap-4 md:gap-6",children:[y.jsx("div",{className:"bg-primary/10 w-12 h-12 md:w-20 md:h-20 rounded-xl md:rounded-[1.5rem] flex items-center justify-center text-primary shrink-0",children:y.jsx("span",{className:"material-symbols-outlined text-3xl md:text-5xl material-symbols-fill",children:"verified_user"})}),y.jsxs("div",{className:"min-w-0",children:[y.jsx("p",{className:"text-base md:text-xl font-extrabold leading-tight truncate tracking-tight",children:"Class A CDL"}),y.jsx("p",{className:"text-black/40 dark:text-white/40 text-xs md:text-sm font-semibold truncate mt-1",children:"License Type"})]})]}),y.jsxs("div",{className:"bg-white dark:bg-card-dark rounded-2xl md:rounded-[2.5rem] shadow-xl shadow-black/[0.02] border border-black/5 p-5 md:p-8 flex items-center gap-4 md:gap-6",children:[y.jsx("div",{className:"bg-primary/10 w-12 h-12 md:w-20 md:h-20 rounded-xl md:rounded-[1.5rem] flex items-center justify-center text-primary shrink-0",children:y.jsx("span",{className:"material-symbols-outlined text-3xl md:text-5xl material-symbols-fill",children:"medical_services"})}),y.jsxs("div",{className:"min-w-0",children:[y.jsx("p",{className:"text-base md:text-xl font-extrabold leading-tight truncate tracking-tight",children:"Aug 2025"}),y.jsx("p",{className:"text-black/40 dark:text-white/40 text-xs md:text-sm font-semibold truncate mt-1",children:"Medical Clearance"})]})]})]})]})})]})})]}),Qp=({currentView:l,setView:a,isSidebar:o=!1,role:u=cn.DRIVER})=>{const f=[{view:jt.DASHBOARD,label:"Dashboard",icon:"dashboard"},{view:jt.STUDENTS,label:"Students",icon:"group"},{view:jt.TRIP_STATUS,label:"Route",icon:"map"},{view:jt.PROFILE,label:"Profile",icon:"person"}],p=[{view:jt.ADMIN_DASHBOARD,label:"Admin Home",icon:"admin_panel_settings"},{view:jt.ADMIN_BUSES,label:"Manage Buses",icon:"directions_bus"},{view:jt.ADMIN_STUDENTS,label:"Student Routes",icon:"assignment_ind"},{view:jt.PROFILE,label:"Profile",icon:"person"}],g=u===cn.INSTITUTION?p:f;return o?y.jsxs("nav",{className:"w-64 h-full bg-white dark:bg-[#1c160d] border-r border-[#e8dfd2] dark:border-[#3d311d] p-6 flex flex-col z-30 overflow-y-auto no-scrollbar",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-10 px-2 text-[#f3ae3d]",children:[y.jsx("div",{className:"bg-[#f3ae3d]/10 p-2 rounded-xl shrink-0",children:y.jsx("span",{className:"material-symbols-outlined text-2xl material-symbols-fill",children:u===cn.INSTITUTION?"school":"directions_bus"})}),y.jsx("h1",{className:"text-xl font-black tracking-tight truncate text-[#1a160f] dark:text-white",children:u===cn.INSTITUTION?"Vidyon Admin":"Vidyon Driver"})]}),y.jsx("div",{className:"flex-1 space-y-2",children:g.map(b=>{const x=l===b.view;return y.jsxs("button",{onClick:()=>a(b.view),className:`w-full flex items-center gap-4 px-4 py-4 rounded-2xl transition-all duration-300 ${x?"bg-[#f3ae3d] text-[#1c160d] shadow-lg shadow-[#f3ae3d]/20 scale-[1.02]":"text-[#9c7849] dark:text-[#a1824a] hover:bg-black/5 dark:hover:bg-white/5"}`,children:[y.jsx("span",{className:`material-symbols-outlined ${x?"material-symbols-fill":""}`,children:b.icon}),y.jsx("span",{className:"font-extrabold tracking-tight",children:b.label})]},b.view)})}),y.jsxs("div",{className:"mt-8 p-4 bg-[#f3ae3d]/5 rounded-2xl border border-[#f3ae3d]/10 shrink-0",children:[y.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest text-[#f3ae3d] opacity-60 mb-1",children:"Status"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),y.jsx("p",{className:"text-sm font-extrabold truncate dark:text-white",children:u===cn.INSTITUTION?"Institution Active":"Driver Online"})]})]})]}):y.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white/95 dark:bg-[#1c160d]/95 backdrop-blur-xl border-t border-[#e8dfd2] dark:border-[#3d311d] px-6 pt-3 pb-8 md:pb-6 flex justify-between items-center z-30 safe-bottom",children:g.map(b=>{const x=l===b.view;return y.jsxs("button",{onClick:()=>a(b.view),className:`flex flex-col items-center gap-1.5 transition-all duration-300 ${x?"text-[#f3ae3d]":"text-[#9c7849] dark:text-[#a1824a]"}`,children:[y.jsx("span",{className:`material-symbols-outlined text-[26px] ${x?"material-symbols-fill":""}`,children:b.icon}),y.jsx("span",{className:"text-[10px] font-extrabold uppercase tracking-widest leading-none",children:b.label})]},b.view)})})},t0=new Ar.DivIcon({html:'<div style="background-color: #f3ae3d; width: 32px; height: 32px; border-radius: 50%; display: flex; align-items: center; justify-center; border: 3px solid white; box-shadow: 0 2px 8px rgba(0,0,0,0.3); font-size: 18px;"></div>',className:"custom-bus-icon",iconSize:[32,32],iconAnchor:[16,16]}),e0=new Ar.DivIcon({html:'<div style="background-color: #10b981; width: 24px; height: 24px; border-radius: 50%; border: 2px solid white; box-shadow: 0 2px 6px rgba(0,0,0,0.3);"></div>',className:"custom-student-icon",iconSize:[24,24],iconAnchor:[12,12]}),n0=({institutionId:l,isDark:a=!1})=>{const[o,u]=ut.useState([]),[f,p]=ut.useState([]),[g,b]=ut.useState({lat:12.9716,lng:77.5946});return ut.useEffect(()=>{if(!l)return;const x=async()=>{const{data:A}=await ce.from("bus_locations").select("*").eq("institution_id",l);if(A&&A.length>0){const j=A.map(R=>({id:R.id,busNumber:R.bus_number,route:"Route",institution_id:R.institution_id,status:"active",currentLat:parseFloat(R.latitude),currentLng:parseFloat(R.longitude)}));u(j),b({lat:j[0].currentLat||12.9716,lng:j[0].currentLng||77.5946})}const{data:E}=await ce.from("profiles").select("*").eq("institution_id",l).eq("role","student").not("pickup_latitude","is",null);if(E){const j=E.map(R=>({id:R.id,name:R.full_name||"Unnamed",grade:R.department||"N/A",rollNumber:R.staff_id||"N/A",boarded:!1,avatar:R.image_url||`https://i.pravatar.cc/150?u=${R.id}`,institution_id:R.institution_id,assignedBus:R.assignedBus||"",pickupLocation:R.pickup_latitude&&R.pickup_longitude?{lat:parseFloat(R.pickup_latitude),lng:parseFloat(R.pickup_longitude)}:void 0,pickupAddress:R.pickup_address}));p(j)}};x();const w=ce.channel("bus-locations-admin").on("postgres_changes",{event:"*",table:"bus_locations",filter:`institution_id=eq.${l}`},()=>{x()}).subscribe();return()=>{ce.removeChannel(w)}},[l]),y.jsxs(Eg,{center:g,zoom:13,isDark:a,children:[o.map(x=>x.currentLat&&x.currentLng&&y.jsx(Ru,{position:[x.currentLat,x.currentLng],icon:t0,children:y.jsx(zu,{children:y.jsxs("div",{className:"p-2",children:[y.jsxs("h3",{className:"font-bold text-sm",children:[" Bus ",x.busNumber]}),y.jsx("p",{className:"text-xs text-gray-600",children:"Status: Active"})]})})},x.id)),f.map(x=>x.pickupLocation&&y.jsx(Ru,{position:[x.pickupLocation.lat,x.pickupLocation.lng],icon:e0,children:y.jsx(zu,{children:y.jsxs("div",{className:"p-2",children:[y.jsx("h3",{className:"font-bold text-sm",children:x.name}),y.jsx("p",{className:"text-xs text-gray-600",children:x.grade}),y.jsx("p",{className:"text-xs text-gray-500 mt-1",children:x.pickupAddress||"Pickup Location"})]})})},x.id))]})},i0=({setView:l,institutionName:a,institutionId:o})=>{const[u,f]=ut.useState(!1);return ut.useEffect(()=>{const p=window.matchMedia("(prefers-color-scheme: dark)");f(p.matches);const g=b=>f(b.matches);return p.addEventListener("change",g),()=>p.removeEventListener("change",g)},[]),y.jsxs("div",{className:"flex flex-col h-full bg-[#fcfaf8] dark:bg-[#1c160d] p-4 lg:p-6 overflow-y-auto no-scrollbar",children:[y.jsxs("div",{className:"flex flex-col gap-1 mb-8",children:[y.jsxs("h1",{className:"text-[#1c160d] dark:text-[#fcfaf8] text-2xl lg:text-3xl font-bold",children:[a," Dashboard"]}),y.jsx("p",{className:"text-[#9c7849] dark:text-[#a1824a] text-sm",children:"Overview of your institution's transportation system"})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[{label:"Active Buses",value:"12",icon:"",color:"bg-blue-100 text-blue-600"},{label:"Total Students",value:"450",icon:"",color:"bg-green-100 text-green-600"},{label:"Alerts",value:"2",icon:"",color:"bg-red-100 text-red-600"}].map((p,g)=>y.jsxs("div",{className:"bg-white dark:bg-[#2b2214] p-6 rounded-2xl shadow-sm border border-[#e8dfd2] dark:border-[#3d311d]",children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsx("span",{className:`p-2 rounded-lg text-xl ${p.color}`,children:p.icon}),y.jsx("span",{className:"text-2xl font-bold dark:text-white",children:p.value})]}),y.jsx("p",{className:"text-[#9c7849] dark:text-[#a1824a] text-sm font-medium",children:p.label})]},g))}),y.jsxs("div",{className:"bg-white dark:bg-[#2b2214] rounded-2xl shadow-sm border border-[#e8dfd2] dark:border-[#3d311d] overflow-hidden mb-8 h-[400px] flex flex-col",children:[y.jsxs("div",{className:"p-4 border-b border-[#e8dfd2] dark:border-[#3d311d] flex items-center justify-between",children:[y.jsx("h2",{className:"font-bold dark:text-white",children:"Live Bus Tracking"}),y.jsx("div",{className:"flex gap-2",children:y.jsxs("span",{className:"flex items-center gap-1 text-xs text-green-500",children:[y.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),"Live"]})})]}),y.jsx("div",{className:"flex-1 relative",children:y.jsx(n0,{institutionId:o||null,isDark:u})})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[y.jsxs("button",{onClick:()=>l(jt.ADMIN_BUSES),className:"group relative overflow-hidden bg-white dark:bg-[#2b2214] p-8 rounded-3xl border border-[#e8dfd2] dark:border-[#3d311d] text-left hover:border-[#f3ae3d] transition-all",children:[y.jsxs("div",{className:"relative z-10",children:[y.jsx("div",{className:"w-12 h-12 bg-orange-100 text-orange-600 rounded-2xl flex items-center justify-center text-2xl mb-4 group-hover:scale-110 transition-transform",children:""}),y.jsx("h3",{className:"text-xl font-bold mb-2 dark:text-white",children:"Bus Fleet Management"}),y.jsx("p",{className:"text-[#9c7849] dark:text-[#a1824a] text-sm",children:"Add, remove, or monitor your institution's buses."})]}),y.jsx("div",{className:"absolute top-0 right-0 p-8 text-4xl opacity-5 group-hover:opacity-10 transition-opacity",children:""})]}),y.jsxs("button",{onClick:()=>l(jt.ADMIN_STUDENTS),className:"group relative overflow-hidden bg-white dark:bg-[#2b2214] p-8 rounded-3xl border border-[#e8dfd2] dark:border-[#3d311d] text-left hover:border-[#f3ae3d] transition-all",children:[y.jsxs("div",{className:"relative z-10",children:[y.jsx("div",{className:"w-12 h-12 bg-purple-100 text-purple-600 rounded-2xl flex items-center justify-center text-2xl mb-4 group-hover:scale-110 transition-transform",children:""}),y.jsx("h3",{className:"text-xl font-bold mb-2 dark:text-white",children:"Student Route Assignment"}),y.jsx("p",{className:"text-[#9c7849] dark:text-[#a1824a] text-sm",children:"Assign students to specific routes and bus numbers."})]}),y.jsx("div",{className:"absolute top-0 right-0 p-8 text-4xl opacity-5 group-hover:opacity-10 transition-opacity",children:""})]})]})]})},a0=[{id:"b1",busNumber:"42",route:"Green Valley",institution_id:"i1",status:"active"},{id:"b2",busNumber:"10",route:"Blue Hills",institution_id:"i1",status:"active"},{id:"b3",busNumber:"15",route:"Lake Side",institution_id:"i1",status:"inactive"}],s0=({setView:l,institutionId:a})=>{const[o,u]=ut.useState(a0);return y.jsxs("div",{className:"flex flex-col h-full bg-[#fcfaf8] dark:bg-[#1c160d] p-4 lg:p-6 overflow-y-auto no-scrollbar",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[y.jsx("button",{onClick:()=>l(jt.ADMIN_DASHBOARD),className:"p-2 rounded-xl bg-white dark:bg-[#2b2214] border border-[#e8dfd2] dark:border-[#3d311d] hover:bg-[#f3ae3d] hover:text-white transition-colors",children:""}),y.jsxs("div",{children:[y.jsx("h1",{className:"text-[#1c160d] dark:text-[#fcfaf8] text-2xl font-bold",children:"Bus Fleet"}),y.jsxs("p",{className:"text-[#9c7849] dark:text-[#a1824a] text-sm",children:["Manage buses for Institution ID: ",a]})]}),y.jsx("button",{className:"ml-auto px-6 py-2 bg-[#f3ae3d] text-white rounded-xl font-bold shadow-lg hover:brightness-110 active:scale-95 transition-all",children:"+ Add Bus"})]}),y.jsx("div",{className:"bg-white dark:bg-[#2b2214] rounded-3xl border border-[#e8dfd2] dark:border-[#3d311d] overflow-hidden shadow-sm",children:y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"bg-[#fcfaf8] dark:bg-[#211a0f] border-b border-[#e8dfd2] dark:border-[#3d311d]",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-4 text-[#9c7849] dark:text-[#a1824a] font-bold text-sm",children:"Bus Number"}),y.jsx("th",{className:"px-6 py-4 text-[#9c7849] dark:text-[#a1824a] font-bold text-sm",children:"Route"}),y.jsx("th",{className:"px-6 py-4 text-[#9c7849] dark:text-[#a1824a] font-bold text-sm",children:"Status"}),y.jsx("th",{className:"px-6 py-4 text-[#9c7849] dark:text-[#a1824a] font-bold text-sm text-right",children:"Actions"})]})}),y.jsx("tbody",{className:"divide-y divide-[#e8dfd2] dark:divide-[#3d311d]",children:o.map(f=>y.jsxs("tr",{className:"hover:bg-[#fcfaf8]/50 dark:hover:bg-[#211a0f]/50 transition-colors",children:[y.jsx("td",{className:"px-6 py-4 font-bold dark:text-white",children:f.busNumber}),y.jsx("td",{className:"px-6 py-4 text-[#6b502e] dark:text-[#b0946b]",children:f.route}),y.jsx("td",{className:"px-6 py-4 text-sm",children:y.jsx("span",{className:`px-3 py-1 rounded-full font-medium ${f.status==="active"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}`,children:f.status.toUpperCase()})}),y.jsx("td",{className:"px-6 py-4 text-right",children:y.jsx("button",{className:"text-[#f3ae3d] font-bold hover:underline",children:"Edit"})})]},f.id))})]})})]})},r0=({setView:l,students:a,onAssignRoute:o})=>{const[u,f]=ut.useState(""),p=a.filter(g=>g.name.toLowerCase().includes(u.toLowerCase())||g.rollNumber.toLowerCase().includes(u.toLowerCase()));return y.jsxs("div",{className:"flex flex-col h-full bg-[#fcfaf8] dark:bg-[#1c160d] p-4 lg:p-6 overflow-y-auto no-scrollbar",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[y.jsx("button",{onClick:()=>l(jt.ADMIN_DASHBOARD),className:"p-2 rounded-xl bg-white dark:bg-[#2b2214] border border-[#e8dfd2] dark:border-[#3d311d] hover:bg-[#f3ae3d] hover:text-white transition-colors",children:""}),y.jsxs("div",{children:[y.jsx("h1",{className:"text-[#1c160d] dark:text-[#fcfaf8] text-2xl font-bold",children:"Student Route Assignment"}),y.jsx("p",{className:"text-[#9c7849] dark:text-[#a1824a] text-sm",children:"Assign students to bus numbers for their daily commute."})]})]}),y.jsxs("div",{className:"mb-6 relative",children:[y.jsx("input",{type:"text",placeholder:"Search student name or roll number...",value:u,onChange:g=>f(g.target.value),className:"w-full bg-white dark:bg-[#2b2214] border border-[#e8dfd2] dark:border-[#3d311d] rounded-2xl px-6 py-4 pl-12 focus:outline-none focus:ring-2 focus:ring-[#f3ae3d] transition-all dark:text-white"}),y.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-xl opacity-50",children:""})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:p.map(g=>y.jsxs("div",{className:"bg-white dark:bg-[#2b2214] p-5 rounded-3xl border border-[#e8dfd2] dark:border-[#3d311d] shadow-sm hover:border-[#f3ae3d] transition-all group",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[y.jsx("img",{src:g.avatar,alt:g.name,className:"w-12 h-12 rounded-2xl object-cover border border-[#e8dfd2] dark:border-[#3d311d]"}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold dark:text-white leading-tight",children:g.name}),y.jsxs("p",{className:"text-[#9c7849] dark:text-[#a1824a] text-xs font-medium",children:[g.grade,"  ",g.rollNumber]})]})]}),y.jsxs("div",{className:"flex flex-col gap-4",children:[y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsx("label",{className:"text-[10px] font-bold text-[#9c7849] dark:text-[#a1824a] uppercase tracking-wider ml-1",children:"Assigned Bus"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsxs("select",{defaultValue:g.assignedBus||"",onChange:b=>o(g.id,b.target.value),className:"flex-1 bg-[#fcfaf8] dark:bg-[#1c160d] border border-[#e8dfd2] dark:border-[#3d311d] rounded-xl px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-[#f3ae3d] dark:text-white",children:[y.jsx("option",{value:"",children:"Unassigned"}),y.jsx("option",{value:"42",children:"Bus 42 (Green Valley)"}),y.jsx("option",{value:"10",children:"Bus 10 (Blue Hills)"}),y.jsx("option",{value:"15",children:"Bus 15 (Lake Side)"})]}),y.jsx("button",{className:"p-2 bg-[#f3ae3d]/10 text-[#f3ae3d] rounded-xl hover:bg-[#f3ae3d] hover:text-white transition-colors",children:""})]})]}),y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsx("label",{className:"text-[10px] font-bold text-[#9c7849] dark:text-[#a1824a] uppercase tracking-wider ml-1",children:"Pickup Location"}),y.jsx("input",{type:"text",placeholder:"Enter pickup address...",defaultValue:"",onChange:async b=>{await ce.from("profiles").update({pickup_address:b.target.value}).eq("id",g.id)},className:"bg-[#fcfaf8] dark:bg-[#1c160d] border border-[#e8dfd2] dark:border-[#3d311d] rounded-xl px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-[#f3ae3d] dark:text-white"}),y.jsx("button",{onClick:()=>{alert("Map location picker will be implemented here. For now, you can manually update coordinates in the database.")},className:"text-xs text-[#f3ae3d] hover:underline",children:" Set on Map"})]})]})]},g.id))})]})},o0="modulepreload",l0=function(l){return"/"+l},Wp={},u0=function(a,o,u){let f=Promise.resolve();if(o&&o.length>0){let g=function(w){return Promise.all(w.map(A=>Promise.resolve(A).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};document.getElementsByTagName("link");const b=document.querySelector("meta[property=csp-nonce]"),x=(b==null?void 0:b.nonce)||(b==null?void 0:b.getAttribute("nonce"));f=g(o.map(w=>{if(w=l0(w),w in Wp)return;Wp[w]=!0;const A=w.endsWith(".css"),E=A?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${w}"]${E}`))return;const j=document.createElement("link");if(j.rel=A?"stylesheet":o0,A||(j.as="script"),j.crossOrigin="",j.href=w,x&&j.setAttribute("nonce",x),document.head.appendChild(j),A)return new Promise((R,q)=>{j.addEventListener("load",R),j.addEventListener("error",()=>q(new Error(`Unable to preload CSS for ${w}`)))})}))}function p(g){const b=new Event("vite:preloadError",{cancelable:!0});if(b.payload=g,window.dispatchEvent(b),!b.defaultPrevented)throw g}return f.then(g=>{for(const b of g||[])b.status==="rejected"&&p(b.reason);return a().catch(p)})};/*! Capacitor: https://capacitorjs.com/ - MIT License */var Sr;(function(l){l.Unimplemented="UNIMPLEMENTED",l.Unavailable="UNAVAILABLE"})(Sr||(Sr={}));class td extends Error{constructor(a,o,u){super(a),this.message=a,this.code=o,this.data=u}}const c0=l=>{var a,o;return l!=null&&l.androidBridge?"android":!((o=(a=l==null?void 0:l.webkit)===null||a===void 0?void 0:a.messageHandlers)===null||o===void 0)&&o.bridge?"ios":"web"},h0=l=>{const a=l.CapacitorCustomPlatform||null,o=l.Capacitor||{},u=o.Plugins=o.Plugins||{},f=()=>a!==null?a.name:c0(l),p=()=>f()!=="web",g=E=>{const j=w.get(E);return!!(j!=null&&j.platforms.has(f())||b(E))},b=E=>{var j;return(j=o.PluginHeaders)===null||j===void 0?void 0:j.find(R=>R.name===E)},x=E=>l.console.error(E),w=new Map,A=(E,j={})=>{const R=w.get(E);if(R)return console.warn(`Capacitor plugin "${E}" already registered. Cannot register plugins twice.`),R.proxy;const q=f(),H=b(E);let G;const Q=async()=>(!G&&q in j?G=typeof j[q]=="function"?G=await j[q]():G=j[q]:a!==null&&!G&&"web"in j&&(G=typeof j.web=="function"?G=await j.web():G=j.web),G),et=(st,mt)=>{var Dt,Et;if(H){const Ut=H==null?void 0:H.methods.find(_e=>mt===_e.name);if(Ut)return Ut.rtype==="promise"?_e=>o.nativePromise(E,mt.toString(),_e):(_e,se)=>o.nativeCallback(E,mt.toString(),_e,se);if(st)return(Dt=st[mt])===null||Dt===void 0?void 0:Dt.bind(st)}else{if(st)return(Et=st[mt])===null||Et===void 0?void 0:Et.bind(st);throw new td(`"${E}" plugin is not implemented on ${q}`,Sr.Unimplemented)}},J=st=>{let mt;const Dt=(...Et)=>{const Ut=Q().then(_e=>{const se=et(_e,st);if(se){const Ce=se(...Et);return mt=Ce==null?void 0:Ce.remove,Ce}else throw new td(`"${E}.${st}()" is not implemented on ${q}`,Sr.Unimplemented)});return st==="addListener"&&(Ut.remove=async()=>mt()),Ut};return Dt.toString=()=>`${st.toString()}() { [capacitor code] }`,Object.defineProperty(Dt,"name",{value:st,writable:!1,configurable:!1}),Dt},ht=J("addListener"),Ct=J("removeListener"),yt=(st,mt)=>{const Dt=ht({eventName:st},mt),Et=async()=>{const _e=await Dt;Ct({eventName:st,callbackId:_e},mt)},Ut=new Promise(_e=>Dt.then(()=>_e({remove:Et})));return Ut.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await Et()},Ut},F=new Proxy({},{get(st,mt){switch(mt){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return H?yt:ht;case"removeListener":return Ct;default:return J(mt)}}});return u[E]=F,w.set(E,{name:E,proxy:F,platforms:new Set([...Object.keys(j),...H?[q]:[]])}),F};return o.convertFileSrc||(o.convertFileSrc=E=>E),o.getPlatform=f,o.handleError=x,o.isNativePlatform=p,o.isPluginAvailable=g,o.registerPlugin=A,o.Exception=td,o.DEBUG=!!o.DEBUG,o.isLoggingEnabled=!!o.isLoggingEnabled,o},d0=l=>l.Capacitor=h0(l),hd=d0(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Zu=hd.registerPlugin;class yd{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(a,o){let u=!1;this.listeners[a]||(this.listeners[a]=[],u=!0),this.listeners[a].push(o);const p=this.windowListeners[a];p&&!p.registered&&this.addWindowListener(p),u&&this.sendRetainedArgumentsForEvent(a);const g=async()=>this.removeListener(a,o);return Promise.resolve({remove:g})}async removeAllListeners(){this.listeners={};for(const a in this.windowListeners)this.removeWindowListener(this.windowListeners[a]);this.windowListeners={}}notifyListeners(a,o,u){const f=this.listeners[a];if(!f){if(u){let p=this.retainedEventArguments[a];p||(p=[]),p.push(o),this.retainedEventArguments[a]=p}return}f.forEach(p=>p(o))}hasListeners(a){var o;return!!(!((o=this.listeners[a])===null||o===void 0)&&o.length)}registerWindowListener(a,o){this.windowListeners[o]={registered:!1,windowEventName:a,pluginEventName:o,handler:u=>{this.notifyListeners(o,u)}}}unimplemented(a="not implemented"){return new hd.Exception(a,Sr.Unimplemented)}unavailable(a="not available"){return new hd.Exception(a,Sr.Unavailable)}async removeListener(a,o){const u=this.listeners[a];if(!u)return;const f=u.indexOf(o);this.listeners[a].splice(f,1),this.listeners[a].length||this.removeWindowListener(this.windowListeners[a])}addWindowListener(a){window.addEventListener(a.windowEventName,a.handler),a.registered=!0}removeWindowListener(a){a&&(window.removeEventListener(a.windowEventName,a.handler),a.registered=!1)}sendRetainedArgumentsForEvent(a){const o=this.retainedEventArguments[a];o&&(delete this.retainedEventArguments[a],o.forEach(u=>{this.notifyListeners(a,u)}))}}const Fp=l=>encodeURIComponent(l).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),tg=l=>l.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class f0 extends yd{async getCookies(){const a=document.cookie,o={};return a.split(";").forEach(u=>{if(u.length<=0)return;let[f,p]=u.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");f=tg(f).trim(),p=tg(p).trim(),o[f]=p}),o}async setCookie(a){try{const o=Fp(a.key),u=Fp(a.value),f=`; expires=${(a.expires||"").replace("expires=","")}`,p=(a.path||"/").replace("path=",""),g=a.url!=null&&a.url.length>0?`domain=${a.url}`:"";document.cookie=`${o}=${u||""}${f}; path=${p}; ${g};`}catch(o){return Promise.reject(o)}}async deleteCookie(a){try{document.cookie=`${a.key}=; Max-Age=0`}catch(o){return Promise.reject(o)}}async clearCookies(){try{const a=document.cookie.split(";")||[];for(const o of a)document.cookie=o.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(a){return Promise.reject(a)}}async clearAllCookies(){try{await this.clearCookies()}catch(a){return Promise.reject(a)}}}Zu("CapacitorCookies",{web:()=>new f0});const m0=async l=>new Promise((a,o)=>{const u=new FileReader;u.onload=()=>{const f=u.result;a(f.indexOf(",")>=0?f.split(",")[1]:f)},u.onerror=f=>o(f),u.readAsDataURL(l)}),p0=(l={})=>{const a=Object.keys(l);return Object.keys(l).map(f=>f.toLocaleLowerCase()).reduce((f,p,g)=>(f[p]=l[a[g]],f),{})},g0=(l,a=!0)=>l?Object.entries(l).reduce((u,f)=>{const[p,g]=f;let b,x;return Array.isArray(g)?(x="",g.forEach(w=>{b=a?encodeURIComponent(w):w,x+=`${p}=${b}&`}),x.slice(0,-1)):(b=a?encodeURIComponent(g):g,x=`${p}=${b}`),`${u}&${x}`},"").substr(1):null,_0=(l,a={})=>{const o=Object.assign({method:l.method||"GET",headers:l.headers},a),f=p0(l.headers)["content-type"]||"";if(typeof l.data=="string")o.body=l.data;else if(f.includes("application/x-www-form-urlencoded")){const p=new URLSearchParams;for(const[g,b]of Object.entries(l.data||{}))p.set(g,b);o.body=p.toString()}else if(f.includes("multipart/form-data")||l.data instanceof FormData){const p=new FormData;if(l.data instanceof FormData)l.data.forEach((b,x)=>{p.append(x,b)});else for(const b of Object.keys(l.data))p.append(b,l.data[b]);o.body=p;const g=new Headers(o.headers);g.delete("content-type"),o.headers=g}else(f.includes("application/json")||typeof l.data=="object")&&(o.body=JSON.stringify(l.data));return o};class v0 extends yd{async request(a){const o=_0(a,a.webFetchExtra),u=g0(a.params,a.shouldEncodeUrlParams),f=u?`${a.url}?${u}`:a.url,p=await fetch(f,o),g=p.headers.get("content-type")||"";let{responseType:b="text"}=p.ok?a:{};g.includes("application/json")&&(b="json");let x,w;switch(b){case"arraybuffer":case"blob":w=await p.blob(),x=await m0(w);break;case"json":x=await p.json();break;case"document":case"text":default:x=await p.text()}const A={};return p.headers.forEach((E,j)=>{A[j]=E}),{data:x,headers:A,status:p.status,url:p.url}}async get(a){return this.request(Object.assign(Object.assign({},a),{method:"GET"}))}async post(a){return this.request(Object.assign(Object.assign({},a),{method:"POST"}))}async put(a){return this.request(Object.assign(Object.assign({},a),{method:"PUT"}))}async patch(a){return this.request(Object.assign(Object.assign({},a),{method:"PATCH"}))}async delete(a){return this.request(Object.assign(Object.assign({},a),{method:"DELETE"}))}}Zu("CapacitorHttp",{web:()=>new v0});var eg;(function(l){l.Dark="DARK",l.Light="LIGHT",l.Default="DEFAULT"})(eg||(eg={}));var ng;(function(l){l.StatusBar="StatusBar",l.NavigationBar="NavigationBar"})(ng||(ng={}));class y0 extends yd{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}Zu("SystemBars",{web:()=>new y0});function b0(l){l.CapacitorUtils.Synapse=new Proxy({},{get(a,o){return new Proxy({},{get(u,f){return(p,g,b)=>{const x=l.Capacitor.Plugins[o];if(x===void 0){b(new Error(`Capacitor plugin ${o} not found`));return}if(typeof x[f]!="function"){b(new Error(`Method ${f} not found in Capacitor plugin ${o}`));return}(async()=>{try{const w=await x[f](p);g(w)}catch(w){b(w)}})()}}})}})}function x0(l){l.CapacitorUtils.Synapse=new Proxy({},{get(a,o){return l.cordova.plugins[o]}})}function w0(l=!1){typeof window>"u"||(window.CapacitorUtils=window.CapacitorUtils||{},window.Capacitor!==void 0&&!l?b0(window):window.cordova!==void 0&&x0(window))}const ku=Zu("Geolocation",{web:()=>u0(()=>import("./web-CGrSFdQU.js"),[]).then(l=>new l.GeolocationWeb)});w0();const S0=({busNumber:l,institutionId:a,isActive:o,updateInterval:u=1e4})=>{const[f,p]=ut.useState(null),[g,b]=ut.useState(null),[x,w]=ut.useState(!1),A=ut.useRef(null),E=async()=>{try{return(await ku.requestPermissions()).location==="granted"?(w(!0),b(null),!0):(b("Location permission denied. Please enable location access in settings."),!1)}catch(G){return b("Failed to request location permissions"),console.error("Permission error:",G),!1}},j=async G=>{try{const{error:Q}=await ce.from("bus_locations").upsert({bus_number:l,institution_id:a,latitude:G.latitude,longitude:G.longitude,speed:G.speed||null,heading:G.heading||null,updated_at:new Date().toISOString()},{onConflict:"bus_number,institution_id"});Q&&console.error("Database update error:",Q)}catch(Q){console.error("Failed to update location:",Q)}},R=async()=>{try{const G=await ku.getCurrentPosition({enableHighAccuracy:!0,timeout:1e4}),Q={latitude:G.coords.latitude,longitude:G.coords.longitude,accuracy:G.coords.accuracy,speed:G.coords.speed||void 0,heading:G.coords.heading||void 0};p(Q),await j(Q),b(null)}catch(G){b(`GPS Error: ${G.message||"Unable to get location"}`),console.error("GPS error:",G)}},q=async()=>{try{const G=await ku.watchPosition({enableHighAccuracy:!0,timeout:1e4,maximumAge:0},async(Q,et)=>{if(et){b(`GPS tracking error: ${et.message}`);return}if(Q){const J={latitude:Q.coords.latitude,longitude:Q.coords.longitude,accuracy:Q.coords.accuracy,speed:Q.coords.speed||void 0,heading:Q.coords.heading||void 0};p(J),await j(J),b(null)}});A.current=G}catch(G){b(`Failed to start GPS tracking: ${G.message}`),console.error("Watch error:",G)}},H=async()=>{A.current&&(await ku.clearWatch({id:A.current}),A.current=null)};return ut.useEffect(()=>(o&&l&&a?(async()=>{!o||!await E()||(await R(),await q())})():H(),()=>{H()}),[o,l,a]),{currentLocation:f,error:g,permissionGranted:x,requestPermissions:E,getCurrentPosition:R}},T0=[{id:"1",name:"Rahul Sharma",grade:"Grade 4-B",rollNumber:"R-101",boarded:!1,parentPhone:"+91 98765 43210",avatar:"https://i.pravatar.cc/150?u=1",institution_id:"i1",assignedBus:"42"},{id:"2",name:"Priya Patel",grade:"Grade 3-A",rollNumber:"R-102",boarded:!0,boardedTime:"7:45 AM",parentPhone:"+91 98765 43211",avatar:"https://i.pravatar.cc/150?u=2",institution_id:"i1",assignedBus:"10"},{id:"3",name:"Arjun Singh",grade:"Grade 5-C",rollNumber:"R-103",boarded:!1,parentPhone:"+91 98765 43212",avatar:"https://i.pravatar.cc/150?u=3",institution_id:"i1",assignedBus:""}],E0=()=>{const[l,a]=ut.useState(jt.SPLASH),[o,u]=ut.useState(cn.DRIVER),[f,p]=ut.useState(null),[g,b]=ut.useState(null),[x,w]=ut.useState(T0),[A,E]=ut.useState({isActive:!1,busNumber:"42",route:"Green Valley",nextStop:"Green Valley Apartments",nextStopEta:"4 min",distance:"0.8 miles",speed:"25 mph"});S0({busNumber:A.busNumber,institutionId:f||"",isActive:A.isActive&&o===cn.DRIVER,updateInterval:1e4}),ut.useEffect(()=>{ce.auth.getSession().then(({data:{session:st}})=>{b(st),st&&j(st.user.id)});const{data:{subscription:F}}=ce.auth.onAuthStateChange((st,mt)=>{b(mt),mt?j(mt.user.id):(a(jt.LOGIN),p(null))});return()=>F.unsubscribe()},[]);const j=async F=>{try{const{data:st,error:mt}=await ce.from("profiles").select("role, institution_id").eq("id",F).single();if(mt)throw mt;if(st){const Dt=st.role;u(Dt),p(st.institution_id),(l===jt.LOGIN||l===jt.SPLASH)&&(Dt===cn.INSTITUTION?a(jt.ADMIN_DASHBOARD):a(jt.DASHBOARD))}}catch(st){console.error("Error fetching profile:",st)}};ut.useEffect(()=>{if(l===jt.SPLASH){const F=setTimeout(()=>{g||a(jt.LOGIN)},3e3);return()=>clearTimeout(F)}},[l,g]),ut.useEffect(()=>{const F=async()=>{if(!ce||!f)return;const{data:st,error:mt}=await ce.from("profiles").select("*").eq("institution_id",f).eq("role","student");if(st&&!mt){const Dt=st.map(Et=>({id:Et.id,name:Et.full_name||"Unnamed",grade:Et.department||"N/A",rollNumber:Et.staff_id||"N/A",boarded:!1,avatar:Et.image_url||`https://i.pravatar.cc/150?u=${Et.id}`,institution_id:Et.institution_id,assignedBus:Et.assignedBus||""}));w(Dt)}};if(f&&l!==jt.SPLASH&&l!==jt.LOGIN){F();const st=ce.channel("profiles-changes").on("postgres_changes",{event:"*",table:"profiles",filter:`institution_id=eq.${f}`},()=>{F()}).subscribe();return()=>{ce.removeChannel(st)}}},[f,l]);const R=(F,st)=>{b(st),u(F)},q=()=>{E(F=>({...F,isActive:!0,startTime:new Date})),a(jt.TRIP_STATUS)},H=()=>{E(F=>({...F,isActive:!1})),a(jt.DASHBOARD)},G=async()=>{await ce.auth.signOut(),a(jt.LOGIN)},Q=F=>{w(st=>st.map(mt=>{if(mt.id===F){const Dt=!mt.boarded;return{...mt,boarded:Dt,boardedTime:Dt?new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):void 0,dropped:!1,droppedTime:void 0}}return mt}))},et=async(F,st)=>{w(mt=>mt.map(Dt=>Dt.id===F?{...Dt,assignedBus:st}:Dt)),ce&&await ce.from("profiles").update({assignedBus:st}).eq("id",F),console.log(`Assigned student ${F} to bus ${st}`)},J=F=>{const st=x.find(mt=>mt.id===F);st&&(console.log(`Notification sent to Institution:

Student: ${st.name}
Roll Number: ${st.rollNumber}
Class: ${st.grade}
Bus Number: ${A.busNumber}

Status: DROPPED`),w(mt=>mt.map(Dt=>Dt.id===F?{...Dt,dropped:!0,droppedTime:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}:Dt)))},ht=x.filter(F=>F.boarded).length,Ct=()=>{switch(l){case jt.SPLASH:return y.jsx(Ep,{});case jt.LOGIN:return y.jsx(kb,{onLogin:R});case jt.DASHBOARD:return y.jsx(Nb,{trip:A,boardedCount:ht,totalStudents:x.length,onStartTrip:q,setView:a});case jt.STUDENTS:return y.jsx(jb,{students:x,onToggleBoarding:Q,onDrop:J,busNumber:A.busNumber,setView:a});case jt.TRIP_STATUS:return y.jsx(Wb,{trip:A,boardedCount:ht,totalStudents:x.length,onStopTrip:H,setView:a,institutionId:f});case jt.PROFILE:return y.jsx(Fb,{trip:A,onLogout:G,setView:a});case jt.ADMIN_DASHBOARD:return y.jsx(i0,{setView:a,institutionName:"Vidyon Academy",institutionId:f});case jt.ADMIN_BUSES:return y.jsx(s0,{setView:a,institutionId:f});case jt.ADMIN_STUDENTS:return y.jsx(r0,{students:x,setView:a,onAssignRoute:et});default:return y.jsx(Ep,{})}},yt=l!==jt.SPLASH&&l!==jt.LOGIN;return y.jsxs("div",{className:"h-[100dvh] bg-background-light dark:bg-[#1c160d] text-[#1c160d] dark:text-[#fcfaf8] flex flex-col lg:flex-row overflow-hidden",children:[yt&&y.jsx("div",{className:"hidden lg:block shrink-0",children:y.jsx(Qp,{currentView:l,setView:a,isSidebar:!0,role:o})}),y.jsxs("div",{className:"flex-1 relative flex flex-col h-full overflow-hidden",children:[y.jsx("div",{className:"flex-1 overflow-hidden",children:Ct()}),yt&&y.jsx("div",{className:"lg:hidden shrink-0",children:y.jsx(Qp,{currentView:l,setView:a,role:o})})]})]})},Ag=document.getElementById("root");if(!Ag)throw new Error("Could not find root element to mount to");const A0=W_.createRoot(Ag);A0.render(y.jsx(Nu.StrictMode,{children:y.jsx(E0,{})}));export{yd as W};
